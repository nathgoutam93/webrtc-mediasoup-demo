(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))l(A);new MutationObserver(A=>{for(const b of A)if(b.type==="childList")for(const v of b.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&l(v)}).observe(document,{childList:!0,subtree:!0});function D(A){const b={};return A.integrity&&(b.integrity=A.integrity),A.referrerPolicy&&(b.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?b.credentials="include":A.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function l(A){if(A.ep)return;A.ep=!0;const b=D(A);fetch(A.href,b)}})();var Jl={exports:{}},Yr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Uv(){if(Ip)return Yr;Ip=1;var _=Symbol.for("react.transitional.element"),L=Symbol.for("react.fragment");function D(l,A,b){var v=null;if(b!==void 0&&(v=""+b),A.key!==void 0&&(v=""+A.key),"key"in A){b={};for(var S in A)S!=="key"&&(b[S]=A[S])}else b=A;return A=b.ref,{$$typeof:_,type:l,key:v,ref:A!==void 0?A:null,props:b}}return Yr.Fragment=L,Yr.jsx=D,Yr.jsxs=D,Yr}var Kp;function qv(){return Kp||(Kp=1,Jl.exports=Uv()),Jl.exports}var Je=qv(),$l={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function Pv(){if(Fp)return ye;Fp=1;var _=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),o=Symbol.iterator;function m(U){return U===null||typeof U!="object"?null:(U=o&&U[o]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function s(U,$,ie){this.props=U,this.context=$,this.refs=C,this.updater=ie||j}s.prototype.isReactComponent={},s.prototype.setState=function(U,$){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,$,"setState")},s.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function c(){}c.prototype=s.prototype;function f(U,$,ie){this.props=U,this.context=$,this.refs=C,this.updater=ie||j}var u=f.prototype=new c;u.constructor=f,k(u,s.prototype),u.isPureReactComponent=!0;var d=Array.isArray,p={H:null,A:null,T:null,S:null,V:null},y=Object.prototype.hasOwnProperty;function g(U,$,ie,ae,oe,Te){return ie=Te.ref,{$$typeof:_,type:U,key:$,ref:ie!==void 0?ie:null,props:Te}}function x(U,$){return g(U.type,$,void 0,void 0,void 0,U.props)}function w(U){return typeof U=="object"&&U!==null&&U.$$typeof===_}function q(U){var $={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return $[ie]})}var H=/\/+/g;function F(U,$){return typeof U=="object"&&U!==null&&U.key!=null?q(""+U.key):$.toString(36)}function M(){}function I(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function($){U.status==="pending"&&(U.status="fulfilled",U.value=$)},function($){U.status==="pending"&&(U.status="rejected",U.reason=$)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,$,ie,ae,oe){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var me=!1;if(U===null)me=!0;else switch(Te){case"bigint":case"string":case"number":me=!0;break;case"object":switch(U.$$typeof){case _:case L:me=!0;break;case R:return me=U._init,Z(me(U._payload),$,ie,ae,oe)}}if(me)return oe=oe(U),me=ae===""?"."+F(U,0):ae,d(oe)?(ie="",me!=null&&(ie=me.replace(H,"$&/")+"/"),Z(oe,$,ie,"",function(ea){return ea})):oe!=null&&(w(oe)&&(oe=x(oe,ie+(oe.key==null||U&&U.key===oe.key?"":(""+oe.key).replace(H,"$&/")+"/")+me)),$.push(oe)),1;me=0;var mt=ae===""?".":ae+":";if(d(U))for(var ze=0;ze<U.length;ze++)ae=U[ze],Te=mt+F(ae,ze),me+=Z(ae,$,ie,Te,oe);else if(ze=m(U),typeof ze=="function")for(U=ze.call(U),ze=0;!(ae=U.next()).done;)ae=ae.value,Te=mt+F(ae,ze++),me+=Z(ae,$,ie,Te,oe);else if(Te==="object"){if(typeof U.then=="function")return Z(I(U),$,ie,ae,oe);throw $=String(U),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return me}function N(U,$,ie){if(U==null)return U;var ae=[],oe=0;return Z(U,ae,"","",function(Te){return $.call(ie,Te,oe++)}),ae}function X(U){if(U._status===-1){var $=U._result;$=$(),$.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=$)}if(U._status===1)return U._result.default;throw U._result}var ee=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ue(){}return ye.Children={map:N,forEach:function(U,$,ie){N(U,function(){$.apply(this,arguments)},ie)},count:function(U){var $=0;return N(U,function(){$++}),$},toArray:function(U){return N(U,function($){return $})||[]},only:function(U){if(!w(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ye.Component=s,ye.Fragment=D,ye.Profiler=A,ye.PureComponent=f,ye.StrictMode=l,ye.Suspense=O,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,ye.__COMPILER_RUNTIME={__proto__:null,c:function(U){return p.H.useMemoCache(U)}},ye.cache=function(U){return function(){return U.apply(null,arguments)}},ye.cloneElement=function(U,$,ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ae=k({},U.props),oe=U.key,Te=void 0;if($!=null)for(me in $.ref!==void 0&&(Te=void 0),$.key!==void 0&&(oe=""+$.key),$)!y.call($,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&$.ref===void 0||(ae[me]=$[me]);var me=arguments.length-2;if(me===1)ae.children=ie;else if(1<me){for(var mt=Array(me),ze=0;ze<me;ze++)mt[ze]=arguments[ze+2];ae.children=mt}return g(U.type,oe,void 0,void 0,Te,ae)},ye.createContext=function(U){return U={$$typeof:v,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:b,_context:U},U},ye.createElement=function(U,$,ie){var ae,oe={},Te=null;if($!=null)for(ae in $.key!==void 0&&(Te=""+$.key),$)y.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=$[ae]);var me=arguments.length-2;if(me===1)oe.children=ie;else if(1<me){for(var mt=Array(me),ze=0;ze<me;ze++)mt[ze]=arguments[ze+2];oe.children=mt}if(U&&U.defaultProps)for(ae in me=U.defaultProps,me)oe[ae]===void 0&&(oe[ae]=me[ae]);return g(U,Te,void 0,void 0,null,oe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(U){return{$$typeof:S,render:U}},ye.isValidElement=w,ye.lazy=function(U){return{$$typeof:R,_payload:{_status:-1,_result:U},_init:X}},ye.memo=function(U,$){return{$$typeof:E,type:U,compare:$===void 0?null:$}},ye.startTransition=function(U){var $=p.T,ie={};p.T=ie;try{var ae=U(),oe=p.S;oe!==null&&oe(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ue,ee)}catch(Te){ee(Te)}finally{p.T=$}},ye.unstable_useCacheRefresh=function(){return p.H.useCacheRefresh()},ye.use=function(U){return p.H.use(U)},ye.useActionState=function(U,$,ie){return p.H.useActionState(U,$,ie)},ye.useCallback=function(U,$){return p.H.useCallback(U,$)},ye.useContext=function(U){return p.H.useContext(U)},ye.useDebugValue=function(){},ye.useDeferredValue=function(U,$){return p.H.useDeferredValue(U,$)},ye.useEffect=function(U,$,ie){var ae=p.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(U,$)},ye.useId=function(){return p.H.useId()},ye.useImperativeHandle=function(U,$,ie){return p.H.useImperativeHandle(U,$,ie)},ye.useInsertionEffect=function(U,$){return p.H.useInsertionEffect(U,$)},ye.useLayoutEffect=function(U,$){return p.H.useLayoutEffect(U,$)},ye.useMemo=function(U,$){return p.H.useMemo(U,$)},ye.useOptimistic=function(U,$){return p.H.useOptimistic(U,$)},ye.useReducer=function(U,$,ie){return p.H.useReducer(U,$,ie)},ye.useRef=function(U){return p.H.useRef(U)},ye.useState=function(U){return p.H.useState(U)},ye.useSyncExternalStore=function(U,$,ie){return p.H.useSyncExternalStore(U,$,ie)},ye.useTransition=function(){return p.H.useTransition()},ye.version="19.1.0",ye}var Jp;function mu(){return Jp||(Jp=1,$l.exports=Pv()),$l.exports}var Rt=mu(),Wl={exports:{}},Gr={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Hv(){return $p||($p=1,function(_){function L(N,X){var ee=N.length;N.push(X);e:for(;0<ee;){var ue=ee-1>>>1,U=N[ue];if(0<A(U,X))N[ue]=X,N[ee]=U,ee=ue;else break e}}function D(N){return N.length===0?null:N[0]}function l(N){if(N.length===0)return null;var X=N[0],ee=N.pop();if(ee!==X){N[0]=ee;e:for(var ue=0,U=N.length,$=U>>>1;ue<$;){var ie=2*(ue+1)-1,ae=N[ie],oe=ie+1,Te=N[oe];if(0>A(ae,ee))oe<U&&0>A(Te,ae)?(N[ue]=Te,N[oe]=ee,ue=oe):(N[ue]=ae,N[ie]=ee,ue=ie);else if(oe<U&&0>A(Te,ee))N[ue]=Te,N[oe]=ee,ue=oe;else break e}}return X}function A(N,X){var ee=N.sortIndex-X.sortIndex;return ee!==0?ee:N.id-X.id}if(_.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;_.unstable_now=function(){return b.now()}}else{var v=Date,S=v.now();_.unstable_now=function(){return v.now()-S}}var O=[],E=[],R=1,o=null,m=3,j=!1,k=!1,C=!1,s=!1,c=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;function d(N){for(var X=D(E);X!==null;){if(X.callback===null)l(E);else if(X.startTime<=N)l(E),X.sortIndex=X.expirationTime,L(O,X);else break;X=D(E)}}function p(N){if(C=!1,d(N),!k)if(D(O)!==null)k=!0,y||(y=!0,F());else{var X=D(E);X!==null&&Z(p,X.startTime-N)}}var y=!1,g=-1,x=5,w=-1;function q(){return s?!0:!(_.unstable_now()-w<x)}function H(){if(s=!1,y){var N=_.unstable_now();w=N;var X=!0;try{e:{k=!1,C&&(C=!1,f(g),g=-1),j=!0;var ee=m;try{t:{for(d(N),o=D(O);o!==null&&!(o.expirationTime>N&&q());){var ue=o.callback;if(typeof ue=="function"){o.callback=null,m=o.priorityLevel;var U=ue(o.expirationTime<=N);if(N=_.unstable_now(),typeof U=="function"){o.callback=U,d(N),X=!0;break t}o===D(O)&&l(O),d(N)}else l(O);o=D(O)}if(o!==null)X=!0;else{var $=D(E);$!==null&&Z(p,$.startTime-N),X=!1}}break e}finally{o=null,m=ee,j=!1}X=void 0}}finally{X?F():y=!1}}}var F;if(typeof u=="function")F=function(){u(H)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=H,F=function(){I.postMessage(null)}}else F=function(){c(H,0)};function Z(N,X){g=c(function(){N(_.unstable_now())},X)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(N){N.callback=null},_.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<N?Math.floor(1e3/N):5},_.unstable_getCurrentPriorityLevel=function(){return m},_.unstable_next=function(N){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var ee=m;m=X;try{return N()}finally{m=ee}},_.unstable_requestPaint=function(){s=!0},_.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ee=m;m=N;try{return X()}finally{m=ee}},_.unstable_scheduleCallback=function(N,X,ee){var ue=_.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ee+U,N={id:R++,callback:X,priorityLevel:N,startTime:ee,expirationTime:U,sortIndex:-1},ee>ue?(N.sortIndex=ee,L(E,N),D(O)===null&&N===D(E)&&(C?(f(g),g=-1):C=!0,Z(p,ee-ue))):(N.sortIndex=U,L(O,N),k||j||(k=!0,y||(y=!0,F()))),N},_.unstable_shouldYield=q,_.unstable_wrapCallback=function(N){var X=m;return function(){var ee=m;m=X;try{return N.apply(this,arguments)}finally{m=ee}}}}(tu)),tu}var Wp;function Bv(){return Wp||(Wp=1,eu.exports=Hv()),eu.exports}var au={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function Vv(){if(eh)return ht;eh=1;var _=mu();function L(O){var E="https://react.dev/errors/"+O;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+O+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function D(){}var l={d:{f:D,r:function(){throw Error(L(522))},D,C:D,L:D,m:D,X:D,S:D,M:D},p:0,findDOMNode:null},A=Symbol.for("react.portal");function b(O,E,R){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:o==null?null:""+o,children:O,containerInfo:E,implementation:R}}var v=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(O,E){if(O==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ht.createPortal=function(O,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(L(299));return b(O,E,null,R)},ht.flushSync=function(O){var E=v.T,R=l.p;try{if(v.T=null,l.p=2,O)return O()}finally{v.T=E,l.p=R,l.d.f()}},ht.preconnect=function(O,E){typeof O=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,l.d.C(O,E))},ht.prefetchDNS=function(O){typeof O=="string"&&l.d.D(O)},ht.preinit=function(O,E){if(typeof O=="string"&&E&&typeof E.as=="string"){var R=E.as,o=S(R,E.crossOrigin),m=typeof E.integrity=="string"?E.integrity:void 0,j=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?l.d.S(O,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:o,integrity:m,fetchPriority:j}):R==="script"&&l.d.X(O,{crossOrigin:o,integrity:m,fetchPriority:j,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},ht.preinitModule=function(O,E){if(typeof O=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=S(E.as,E.crossOrigin);l.d.M(O,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&l.d.M(O)},ht.preload=function(O,E){if(typeof O=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,o=S(R,E.crossOrigin);l.d.L(O,R,{crossOrigin:o,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},ht.preloadModule=function(O,E){if(typeof O=="string")if(E){var R=S(E.as,E.crossOrigin);l.d.m(O,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else l.d.m(O)},ht.requestFormReset=function(O){l.d.r(O)},ht.unstable_batchedUpdates=function(O,E){return O(E)},ht.useFormState=function(O,E,R){return v.H.useFormState(O,E,R)},ht.useFormStatus=function(){return v.H.useHostTransitionStatus()},ht.version="19.1.0",ht}var th;function Yv(){if(th)return au.exports;th=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(L){console.error(L)}}return _(),au.exports=Vv(),au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function Gv(){if(ah)return Gr;ah=1;var _=Bv(),L=mu(),D=Yv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function b(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(b(e)!==e)throw Error(l(188))}function O(e){var t=e.alternate;if(!t){if(t=b(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(i=n.return,i!==null){a=i;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return S(n),e;if(r===i)return S(n),t;r=r.sibling}throw Error(l(188))}if(a.return!==i.return)a=n,i=r;else{for(var h=!1,T=n.child;T;){if(T===a){h=!0,a=n,i=r;break}if(T===i){h=!0,i=n,a=r;break}T=T.sibling}if(!h){for(T=r.child;T;){if(T===a){h=!0,a=r,i=n;break}if(T===i){h=!0,i=r,a=n;break}T=T.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var R=Object.assign,o=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case s:return"Profiler";case C:return"StrictMode";case p:return"Suspense";case y:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case u:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}var Z=Array.isArray,N=L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=D.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],U=-1;function $(e){return{current:e}}function ie(e){0>U||(e.current=ue[U],ue[U]=null,U--)}function ae(e,t){U++,ue[U]=e.current,e.current=t}var oe=$(null),Te=$(null),me=$(null),mt=$(null);function ze(e,t){switch(ae(me,t),ae(Te,e),ae(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wp(t),e=Rp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(oe),ae(oe,e)}function ea(){ie(oe),ie(Te),ie(me)}function qn(e){e.memoizedState!==null&&ae(mt,e);var t=oe.current,a=Rp(t,e.type);t!==a&&(ae(Te,e),ae(oe,a))}function ui(e){Te.current===e&&(ie(oe),ie(Te)),mt.current===e&&(ie(mt),qr._currentValue=ee)}var Pn=Object.prototype.hasOwnProperty,Xi=_.unstable_scheduleCallback,Aa=_.unstable_cancelCallback,La=_.unstable_shouldYield,ms=_.unstable_requestPaint,Et=_.unstable_now,ua=_.unstable_getCurrentPriorityLevel,Hn=_.unstable_ImmediatePriority,Zi=_.unstable_UserBlockingPriority,di=_.unstable_NormalPriority,Ii=_.unstable_LowPriority,Ki=_.unstable_IdlePriority,Bn=_.log,Vn=_.unstable_setDisableYieldValue,ka=null,nt=null;function yt(e){if(typeof Bn=="function"&&Vn(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(ka,e)}catch{}}var ut=Math.clz32?Math.clz32:Gn,fi=Math.log,Yn=Math.LN2;function Gn(e){return e>>>=0,e===0?32:31-(fi(e)/Yn|0)|0}var pi=256,hi=4194304;function dt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function da(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var n=0,r=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var T=i&134217727;return T!==0?(i=T&~r,i!==0?n=dt(i):(h&=T,h!==0?n=dt(h):a||(a=T&~e,a!==0&&(n=dt(a))))):(T=i&~r,T!==0?n=dt(T):h!==0?n=dt(h):a||(a=i&~e,a!==0&&(n=dt(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function Xt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(){var e=pi;return pi<<=1,(pi&4194048)===0&&(pi=256),e}function Qn(){var e=hi;return hi<<=1,(hi&62914560)===0&&(hi=4194304),e}function ta(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Zt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xn(e,t,a,i,n,r){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,z=e.expirationTimes,Y=e.hiddenUpdates;for(a=h&~a;0<a;){var K=31-ut(a),W=1<<K;T[K]=0,z[K]=-1;var G=Y[K];if(G!==null)for(Y[K]=null,K=0;K<G.length;K++){var Q=G[K];Q!==null&&(Q.lane&=-536870913)}a&=~W}i!==0&&Zn(e,i,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(h&~t))}function Zn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ut(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function rt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-ut(a),n=1<<i;n&t|e[i]&t&&(e[i]|=t),a&=~n}}function zt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function In(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gi(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function Kn(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var Ct=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ct,$e="__reactProps$"+Ct,ft="__reactContainer$"+Ct,vi="__reactEvents$"+Ct,It="__reactListeners$"+Ct,Na="__reactHandles$"+Ct,za="__reactResources$"+Ct,aa="__reactMarker$"+Ct;function yi(e){delete e[Pe],delete e[$e],delete e[vi],delete e[It],delete e[Na]}function st(e){var t=e[Pe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ft]||a[Pe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Dp(e);e!==null;){if(a=e[Pe])return a;e=Dp(e)}return t}e=a,a=e.parentNode}return null}function fa(e){if(e=e[Pe]||e[ft]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ja(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ua(e){var t=e[za];return t||(t=e[za]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[aa]=!0}var _i=new Set,gs={};function ia(e,t){pa(e,t),pa(e+"Capture",t)}function pa(e,t){for(gs[e]=t,e=0;e<t.length;e++)_i.add(t[e])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ha={},bi={};function te(e){return Pn.call(bi,e)?!0:Pn.call(ha,e)?!1:Dt.test(e)?bi[e]=!0:(ha[e]=!0,!1)}function re(e,t,a){if(te(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function se(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ve(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var de,xe;function ne(e){if(de===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);de=t&&t[1]||"",xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+e+xe}var Se=!1;function ge(e,t){if(!e||Se)return"";Se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var G=Q}Reflect.construct(e,[],W)}else{try{W.call()}catch(Q){G=Q}e.call(W.prototype)}}else{try{throw Error()}catch(Q){G=Q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),h=r[0],T=r[1];if(h&&T){var z=h.split(`
`),Y=T.split(`
`);for(n=i=0;i<z.length&&!z[i].includes("DetermineComponentFrameRoot");)i++;for(;n<Y.length&&!Y[n].includes("DetermineComponentFrameRoot");)n++;if(i===z.length||n===Y.length)for(i=z.length-1,n=Y.length-1;1<=i&&0<=n&&z[i]!==Y[n];)n--;for(;1<=i&&0<=n;i--,n--)if(z[i]!==Y[n]){if(i!==1||n!==1)do if(i--,n--,0>n||z[i]!==Y[n]){var K=`
`+z[i].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=i&&0<=n);break}}}finally{Se=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ne(a):""}function Ue(e){switch(e.tag){case 26:case 27:case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return ge(e.type,!1);case 11:return ge(e.type.render,!1);case 1:return ge(e.type,!0);case 31:return ne("Activity");default:return""}}function jt(e){try{var t="";do t+=Ue(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ji(e){var t=qa(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(h){i=""+h,r.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=Ji(e))}function $i(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=qa(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zc=/[\n"\\]/g;function We(e){return e.replace(Zc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fn(e,t,a,i,n,r,h,T){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ge(t)):e.value!==""+Ge(t)&&(e.value=""+Ge(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Ic(e,h,Ge(t)):a!=null?Ic(e,h,Ge(a)):i!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ge(T):e.removeAttribute("name")}function yu(e,t,a,i,n,r,h,T){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;a=a!=null?""+Ge(a):"",t=t!=null?""+Ge(t):a,T||t===e.value||(e.value=t),e.defaultValue=t}i=i??n,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=T?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function Ic(e,t,a){t==="number"&&Pa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wi(e,t,a,i){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ge(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function _u(e,t,a){if(t!=null&&(t=""+Ge(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ge(a):""}function bu(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(Z(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ge(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function en(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Nm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||Nm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function wu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var n in t)i=t[n],t.hasOwnProperty(n)&&a[n]!==i&&Su(e,n,i)}else for(var r in t)t.hasOwnProperty(r)&&Su(e,r,t[r])}function Kc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(e){return jm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fc=null;function Jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tn=null,an=null;function Ru(e){var t=fa(e);if(t&&(e=t.stateNode)){var a=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var n=i[$e]||null;if(!n)throw Error(l(90));Fn(i,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&$i(i)}break e;case"textarea":_u(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Wi(e,!!a.multiple,t,!1)}}}var $c=!1;function Tu(e,t,a){if($c)return e(t,a);$c=!0;try{var i=e(t);return i}finally{if($c=!1,(tn!==null||an!==null)&&(ac(),tn&&(t=tn,e=an,an=tn=null,Ru(t),e)))for(t=0;t<e.length;t++)Ru(e[t])}}function Jn(e,t){var a=e.stateNode;if(a===null)return null;var i=a[$e]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(ma)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Wc=!1}var Ha=null,eo=null,ys=null;function Eu(){if(ys)return ys;var e,t=eo,a=t.length,i,n="value"in Ha?Ha.value:Ha.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var h=a-e;for(i=1;i<=h&&t[a-i]===n[r-i];i++);return ys=n.slice(e,1<i?1-i:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function Cu(){return!1}function _t(e){function t(a,i,n,r,h){this._reactName=a,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=h,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(r):r[T]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?bs:Cu,this.isPropagationStopped=Cu,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=_t(wi),Wn=R({},wi,{view:0,detail:0}),Um=_t(Wn),to,ao,er,ws=R({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(to=e.screenX-er.screenX,ao=e.screenY-er.screenY):ao=to=0,er=e),to)},movementY:function(e){return"movementY"in e?e.movementY:ao}}),Du=_t(ws),qm=R({},ws,{dataTransfer:0}),Pm=_t(qm),Hm=R({},Wn,{relatedTarget:0}),io=_t(Hm),Bm=R({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=_t(Bm),Ym=R({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=_t(Ym),Qm=R({},wi,{data:0}),xu=_t(Qm),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Im[e])?!!t[e]:!1}function no(){return Km}var Fm=R({},Wn,{key:function(e){if(e.key){var t=Xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jm=_t(Fm),$m=R({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=_t($m),Wm=R({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),eg=_t(Wm),tg=R({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ag=_t(tg),ig=R({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ng=_t(ig),rg=R({},wi,{newState:0,oldState:0}),sg=_t(rg),cg=[9,13,27,32],ro=ma&&"CompositionEvent"in window,tr=null;ma&&"documentMode"in document&&(tr=document.documentMode);var og=ma&&"TextEvent"in window&&!tr,Ou=ma&&(!ro||tr&&8<tr&&11>=tr),Au=" ",Lu=!1;function ku(e,t){switch(e){case"keyup":return cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function lg(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(Lu=!0,Au);case"textInput":return e=t.data,e===Au&&Lu?null:e;default:return null}}function ug(e,t){if(nn)return e==="compositionend"||!ro&&ku(e,t)?(e=Eu(),ys=eo=Ha=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ou&&t.locale!=="ko"?null:t.data;default:return null}}var dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dg[e.type]:t==="textarea"}function ju(e,t,a,i){tn?an?an.push(i):an=[i]:tn=i,t=oc(t,"onChange"),0<t.length&&(a=new Ss("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var ar=null,ir=null;function fg(e){vp(e,0)}function Rs(e){var t=ja(e);if($i(t))return e}function Uu(e,t){if(e==="change")return t}var qu=!1;if(ma){var so;if(ma){var co="oninput"in document;if(!co){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),co=typeof Pu.oninput=="function"}so=co}else so=!1;qu=so&&(!document.documentMode||9<document.documentMode)}function Hu(){ar&&(ar.detachEvent("onpropertychange",Bu),ir=ar=null)}function Bu(e){if(e.propertyName==="value"&&Rs(ir)){var t=[];ju(t,ir,e,Jc(e)),Tu(fg,t)}}function pg(e,t,a){e==="focusin"?(Hu(),ar=t,ir=a,ar.attachEvent("onpropertychange",Bu)):e==="focusout"&&Hu()}function hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(ir)}function mg(e,t){if(e==="click")return Rs(t)}function gg(e,t){if(e==="input"||e==="change")return Rs(t)}function vg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:vg;function nr(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var n=a[i];if(!Pn.call(t,n)||!xt(e[n],t[n]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yu(e,t){var a=Vu(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vu(a)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pa(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Pa(e.document)}return t}function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yg=ma&&"documentMode"in document&&11>=document.documentMode,rn=null,lo=null,rr=null,uo=!1;function Xu(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uo||rn==null||rn!==Pa(i)||(i=rn,"selectionStart"in i&&oo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),rr&&nr(rr,i)||(rr=i,i=oc(lo,"onSelect"),0<i.length&&(t=new Ss("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=rn)))}function Ri(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var sn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},fo={},Zu={};ma&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function Ti(e){if(fo[e])return fo[e];if(!sn[e])return e;var t=sn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zu)return fo[e]=t[a];return e}var Iu=Ti("animationend"),Ku=Ti("animationiteration"),Fu=Ti("animationstart"),_g=Ti("transitionrun"),bg=Ti("transitionstart"),Sg=Ti("transitioncancel"),Ju=Ti("transitionend"),$u=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");po.push("scrollEnd");function Kt(e,t){$u.set(e,t),ia(t,[e])}var Wu=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var a=Wu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:jt(t)},Wu.set(e,t),t)}return{value:e,source:t,stack:jt(t)}}var qt=[],cn=0,ho=0;function Ts(){for(var e=cn,t=ho=cn=0;t<e;){var a=qt[t];qt[t++]=null;var i=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var r=qt[t];if(qt[t++]=null,i!==null&&n!==null){var h=i.pending;h===null?n.next=n:(n.next=h.next,h.next=n),i.pending=n}r!==0&&ed(a,n,r)}}function Es(e,t,a,i){qt[cn++]=e,qt[cn++]=t,qt[cn++]=a,qt[cn++]=i,ho|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function mo(e,t,a,i){return Es(e,t,a,i),Cs(e)}function on(e,t){return Es(e,null,null,t),Cs(e)}function ed(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,i=r.alternate,i!==null&&(i.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-ut(a),e=r.hiddenUpdates,i=e[n],i===null?e[n]=[t]:i.push(t),t.lane=a|536870912),r):null}function Cs(e){if(50<Or)throw Or=0,Sl=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ln={};function wg(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,a,i){return new wg(e,t,a,i)}function go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ga(e,t){var a=e.alternate;return a===null?(a=Mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function td(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ds(e,t,a,i,n,r){var h=0;if(i=e,typeof e=="function")go(e)&&(h=1);else if(typeof e=="string")h=Tv(e,a,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case w:return e=Mt(31,a,t,n),e.elementType=w,e.lanes=r,e;case k:return Ei(a.children,n,r,t);case C:h=8,n|=24;break;case s:return e=Mt(12,a,t,n|2),e.elementType=s,e.lanes=r,e;case p:return e=Mt(13,a,t,n),e.elementType=p,e.lanes=r,e;case y:return e=Mt(19,a,t,n),e.elementType=y,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c:case u:h=10;break e;case f:h=9;break e;case d:h=11;break e;case g:h=14;break e;case x:h=16,i=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Mt(h,a,t,n),t.elementType=e,t.type=i,t.lanes=r,t}function Ei(e,t,a,i){return e=Mt(7,e,i,t),e.lanes=a,e}function vo(e,t,a){return e=Mt(6,e,null,t),e.lanes=a,e}function yo(e,t,a){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var un=[],dn=0,xs=null,Ms=0,Pt=[],Ht=0,Ci=null,va=1,ya="";function Di(e,t){un[dn++]=Ms,un[dn++]=xs,xs=e,Ms=t}function ad(e,t,a){Pt[Ht++]=va,Pt[Ht++]=ya,Pt[Ht++]=Ci,Ci=e;var i=va;e=ya;var n=32-ut(i)-1;i&=~(1<<n),a+=1;var r=32-ut(t)+n;if(30<r){var h=n-n%5;r=(i&(1<<h)-1).toString(32),i>>=h,n-=h,va=1<<32-ut(t)+n|a<<n|i,ya=r+e}else va=1<<r|a<<n|i,ya=e}function _o(e){e.return!==null&&(Di(e,1),ad(e,1,0))}function bo(e){for(;e===xs;)xs=un[--dn],un[dn]=null,Ms=un[--dn],un[dn]=null;for(;e===Ci;)Ci=Pt[--Ht],Pt[Ht]=null,ya=Pt[--Ht],Pt[Ht]=null,va=Pt[--Ht],Pt[Ht]=null}var gt=null,Be=null,De=!1,xi=null,na=!1,So=Error(l(519));function Mi(e){var t=Error(l(418,""));throw or(Ut(t,e)),So}function id(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[Pe]=e,t[$e]=i,a){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Re(Lr[a],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),yu(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Si(t);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),bu(t,i.value,i.defaultValue,i.children),Si(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Sp(t.textContent,a)?(i.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),i.onScroll!=null&&Re("scroll",t),i.onScrollEnd!=null&&Re("scrollend",t),i.onClick!=null&&(t.onclick=lc),t=!0):t=!1,t||Mi(e)}function nd(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 13:na=!1;return;case 27:case 3:na=!0;return;default:gt=gt.return}}function sr(e){if(e!==gt)return!1;if(!De)return nd(e),De=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ul(e.type,e.memoizedProps)),a=!a),a&&Be&&Mi(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Be=Jt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Be=null}}else t===27?(t=Be,ai(e.type)?(e=Bl,Bl=null,Be=e):Be=t):Be=gt?Jt(e.stateNode.nextSibling):null;return!0}function cr(){Be=gt=null,De=!1}function rd(){var e=xi;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),xi=null),e}function or(e){xi===null?xi=[e]:xi.push(e)}var wo=$(null),Oi=null,_a=null;function Ba(e,t,a){ae(wo,t._currentValue),t._currentValue=a}function ba(e){e._currentValue=wo.current,ie(wo)}function Ro(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function To(e,t,a,i){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var h=n.child;r=r.firstContext;e:for(;r!==null;){var T=r;r=n;for(var z=0;z<t.length;z++)if(T.context===t[z]){r.lanes|=a,T=r.alternate,T!==null&&(T.lanes|=a),Ro(r.return,a,e),i||(h=null);break e}r=T.next}}else if(n.tag===18){if(h=n.return,h===null)throw Error(l(341));h.lanes|=a,r=h.alternate,r!==null&&(r.lanes|=a),Ro(h,a,e),h=null}else h=n.child;if(h!==null)h.return=n;else for(h=n;h!==null;){if(h===e){h=null;break}if(n=h.sibling,n!==null){n.return=h.return,h=n;break}h=h.return}n=h}}function lr(e,t,a,i){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var h=n.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var T=n.type;xt(n.pendingProps.value,h.value)||(e!==null?e.push(T):e=[T])}}else if(n===mt.current){if(h=n.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(qr):e=[qr])}n=n.return}e!==null&&To(t,e,a,i),t.flags|=262144}function Os(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){Oi=e,_a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return sd(Oi,e)}function As(e,t){return Oi===null&&Ai(e),sd(e,t)}function sd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},_a===null){if(e===null)throw Error(l(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return a}var Rg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Tg=_.unstable_scheduleCallback,Eg=_.unstable_NormalPriority,Ke={$$typeof:u,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eo(){return{controller:new Rg,data:new Map,refCount:0}}function ur(e){e.refCount--,e.refCount===0&&Tg(Eg,function(){e.controller.abort()})}var dr=null,Co=0,fn=0,pn=null;function Cg(e,t){if(dr===null){var a=dr=[];Co=0,fn=xl(),pn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Co++,t.then(cd,cd),t}function cd(){if(--Co===0&&dr!==null){pn!==null&&(pn.status="fulfilled");var e=dr;dr=null,fn=0,pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Dg(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(i.status="rejected",i.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),i}var od=N.S;N.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Cg(e,t),od!==null&&od(e,t)};var Li=$(null);function Do(){var e=Li.current;return e!==null?e:je.pooledCache}function Ls(e,t){t===null?ae(Li,Li.current):ae(Li,t.pool)}function ld(){var e=Do();return e===null?null:{parent:Ke._currentValue,pool:e}}var fr=Error(l(460)),ud=Error(l(474)),ks=Error(l(542)),xo={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ns(){}function fd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ns,Ns),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hd(e),e;default:if(typeof t.status=="string")t.then(Ns,Ns);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=i}},function(i){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hd(e),e}throw pr=t,fr}}var pr=null;function pd(){if(pr===null)throw Error(l(459));var e=pr;return pr=null,e}function hd(e){if(e===fr||e===ks)throw Error(l(483))}var Va=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Me&2)!==0){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,t=Cs(e),ed(e,null,a),t}return Es(e,i,t,a),Cs(e)}function hr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,rt(e,a)}}function Ao(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=h:r=r.next=h,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Lo=!1;function mr(){if(Lo){var e=pn;if(e!==null)throw e}}function gr(e,t,a,i){Lo=!1;var n=e.updateQueue;Va=!1;var r=n.firstBaseUpdate,h=n.lastBaseUpdate,T=n.shared.pending;if(T!==null){n.shared.pending=null;var z=T,Y=z.next;z.next=null,h===null?r=Y:h.next=Y,h=z;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==h&&(T===null?K.firstBaseUpdate=Y:T.next=Y,K.lastBaseUpdate=z))}if(r!==null){var W=n.baseState;h=0,K=Y=z=null,T=r;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Ee&G)===G:(i&G)===G){G!==0&&G===fn&&(Lo=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=e,fe=T;G=t;var ke=a;switch(fe.tag){case 1:if(he=fe.payload,typeof he=="function"){W=he.call(ke,W,G);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,G=typeof he=="function"?he.call(ke,W,G):he,G==null)break e;W=R({},W,G);break e;case 2:Va=!0}}G=T.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=n.callbacks,Q===null?n.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(Y=K=Q,z=W):K=K.next=Q,h|=G;if(T=T.next,T===null){if(T=n.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,n.lastBaseUpdate=Q,n.shared.pending=null}}while(!0);K===null&&(z=W),n.baseState=z,n.firstBaseUpdate=Y,n.lastBaseUpdate=K,r===null&&(n.shared.lanes=0),$a|=h,e.lanes=h,e.memoizedState=W}}function md(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function gd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)md(a[e],t)}var hn=$(null),zs=$(0);function vd(e,t){e=Da,ae(zs,e),ae(hn,t),Da=e|t.baseLanes}function ko(){ae(zs,Da),ae(hn,hn.current)}function No(){Da=zs.current,ie(hn),ie(zs)}var Qa=0,_e=null,Ae=null,Ze=null,js=!1,mn=!1,ki=!1,Us=0,vr=0,gn=null,xg=0;function Qe(){throw Error(l(321))}function zo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!xt(e[a],t[a]))return!1;return!0}function jo(e,t,a,i,n,r){return Qa=r,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?ef:tf,ki=!1,r=a(i,n),ki=!1,mn&&(r=_d(t,a,i,n)),yd(e),r}function yd(e){N.H=Ys;var t=Ae!==null&&Ae.next!==null;if(Qa=0,Ze=Ae=_e=null,js=!1,vr=0,gn=null,t)throw Error(l(300));e===null||et||(e=e.dependencies,e!==null&&Os(e)&&(et=!0))}function _d(e,t,a,i){_e=e;var n=0;do{if(mn&&(gn=null),vr=0,mn=!1,25<=n)throw Error(l(301));if(n+=1,Ze=Ae=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}N.H=zg,r=t(a,i)}while(mn);return r}function Mg(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?yr(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(_e.flags|=1024),t}function Uo(){var e=Us!==0;return Us=0,e}function qo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Po(e){if(js){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}js=!1}Qa=0,Ze=Ae=_e=null,mn=!1,vr=Us=0,gn=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?_e.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Ie(){if(Ae===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ze===null?_e.memoizedState:Ze.next;if(t!==null)Ze=t,Ae=e;else{if(e===null)throw _e.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ze===null?_e.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(e){var t=vr;return vr+=1,gn===null&&(gn=[]),e=fd(gn,e,t),t=_e,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?ef:tf),e}function qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yr(e);if(e.$$typeof===u)return pt(e)}throw Error(l(438,String(e)))}function Bo(e){var t=null,a=_e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=_e.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ho(),_e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=q;return t.index++,a}function Sa(e,t){return typeof t=="function"?t(e):t}function Ps(e){var t=Ie();return Vo(t,Ae,e)}function Vo(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var n=e.baseQueue,r=i.pending;if(r!==null){if(n!==null){var h=n.next;n.next=r.next,r.next=h}t.baseQueue=n=r,i.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var T=h=null,z=null,Y=t,K=!1;do{var W=Y.lane&-536870913;if(W!==Y.lane?(Ee&W)===W:(Qa&W)===W){var G=Y.revertLane;if(G===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),W===fn&&(K=!0);else if((Qa&G)===G){Y=Y.next,G===fn&&(K=!0);continue}else W={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(T=z=W,h=r):z=z.next=W,_e.lanes|=G,$a|=G;W=Y.action,ki&&a(r,W),r=Y.hasEagerState?Y.eagerState:a(r,W)}else G={lane:W,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(T=z=G,h=r):z=z.next=G,_e.lanes|=W,$a|=W;Y=Y.next}while(Y!==null&&Y!==t);if(z===null?h=r:z.next=T,!xt(r,e.memoizedState)&&(et=!0,K&&(a=pn,a!==null)))throw a;e.memoizedState=r,e.baseState=h,e.baseQueue=z,i.lastRenderedState=r}return n===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Yo(e){var t=Ie(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var h=n=n.next;do r=e(r,h.action),h=h.next;while(h!==n);xt(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,i]}function bd(e,t,a){var i=_e,n=Ie(),r=De;if(r){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!xt((Ae||n).memoizedState,a);h&&(n.memoizedState=a,et=!0),n=n.queue;var T=Rd.bind(null,i,n,e);if(_r(2048,8,T,[e]),n.getSnapshot!==t||h||Ze!==null&&Ze.memoizedState.tag&1){if(i.flags|=2048,vn(9,Hs(),wd.bind(null,i,n,a,t),null),je===null)throw Error(l(349));r||(Qa&124)!==0||Sd(i,t,a)}return a}function Sd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=_e.updateQueue,t===null?(t=Ho(),_e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function wd(e,t,a,i){t.value=a,t.getSnapshot=i,Td(t)&&Ed(e)}function Rd(e,t,a){return a(function(){Td(t)&&Ed(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!xt(e,a)}catch{return!0}}function Ed(e){var t=on(e,2);t!==null&&Nt(t,e,2)}function Go(e){var t=bt();if(typeof e=="function"){var a=e;if(e=a(),ki){yt(!0);try{a()}finally{yt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t}function Cd(e,t,a,i){return e.baseState=a,Vo(e,Ae,typeof i=="function"?i:Sa)}function Og(e,t,a,i,n){if(Vs(e))throw Error(l(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){r.listeners.push(h)}};N.T!==null?a(!0):r.isTransition=!1,i(r),a=t.pending,a===null?(r.next=t.pending=r,Dd(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Dd(e,t){var a=t.action,i=t.payload,n=e.state;if(t.isTransition){var r=N.T,h={};N.T=h;try{var T=a(n,i),z=N.S;z!==null&&z(h,T),xd(e,t,T)}catch(Y){Qo(e,t,Y)}finally{N.T=r}}else try{r=a(n,i),xd(e,t,r)}catch(Y){Qo(e,t,Y)}}function xd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Md(e,t,i)},function(i){return Qo(e,t,i)}):Md(e,t,a)}function Md(e,t,a){t.status="fulfilled",t.value=a,Od(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Dd(e,a)))}function Qo(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Od(t),t=t.next;while(t!==i)}e.action=null}function Od(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ad(e,t){return t}function Ld(e,t){if(De){var a=je.formState;if(a!==null){e:{var i=_e;if(De){if(Be){t:{for(var n=Be,r=na;n.nodeType!==8;){if(!r){n=null;break t}if(n=Jt(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Be=Jt(n.nextSibling),i=n.data==="F!";break e}}Mi(i)}i=!1}i&&(t=a[0])}}return a=bt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:t},a.queue=i,a=Jd.bind(null,_e,i),i.dispatch=a,i=Go(!1),r=Fo.bind(null,_e,!1,i.queue),i=bt(),n={state:t,dispatch:null,action:e,pending:null},i.queue=n,a=Og.bind(null,_e,n,r,a),n.dispatch=a,i.memoizedState=e,[t,a,!1]}function kd(e){var t=Ie();return Nd(t,Ae,e)}function Nd(e,t,a){if(t=Vo(e,t,Ad)[0],e=Ps(Sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=yr(t)}catch(h){throw h===fr?ks:h}else i=t;t=Ie();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(_e.flags|=2048,vn(9,Hs(),Ag.bind(null,n,a),null)),[i,r,e]}function Ag(e,t){e.action=t}function zd(e){var t=Ie(),a=Ae;if(a!==null)return Nd(t,a,e);Ie(),t=t.memoizedState,a=Ie();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function vn(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Ho(),_e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Hs(){return{destroy:void 0,resource:void 0}}function jd(){return Ie().memoizedState}function Bs(e,t,a,i){var n=bt();i=i===void 0?null:i,_e.flags|=e,n.memoizedState=vn(1|t,Hs(),a,i)}function _r(e,t,a,i){var n=Ie();i=i===void 0?null:i;var r=n.memoizedState.inst;Ae!==null&&i!==null&&zo(i,Ae.memoizedState.deps)?n.memoizedState=vn(t,r,a,i):(_e.flags|=e,n.memoizedState=vn(1|t,r,a,i))}function Ud(e,t){Bs(8390656,8,e,t)}function qd(e,t){_r(2048,8,e,t)}function Pd(e,t){return _r(4,2,e,t)}function Hd(e,t){return _r(4,4,e,t)}function Bd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,a){a=a!=null?a.concat([e]):null,_r(4,4,Bd.bind(null,t,e),a)}function Xo(){}function Yd(e,t){var a=Ie();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&zo(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Gd(e,t){var a=Ie();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&zo(t,i[1]))return i[0];if(i=e(),ki){yt(!0);try{e()}finally{yt(!1)}}return a.memoizedState=[i,t],i}function Zo(e,t,a){return a===void 0||(Qa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=If(),_e.lanes|=e,$a|=e,a)}function Qd(e,t,a,i){return xt(a,t)?a:hn.current!==null?(e=Zo(e,a,i),xt(e,t)||(et=!0),e):(Qa&42)===0?(et=!0,e.memoizedState=a):(e=If(),_e.lanes|=e,$a|=e,t)}function Xd(e,t,a,i,n){var r=X.p;X.p=r!==0&&8>r?r:8;var h=N.T,T={};N.T=T,Fo(e,!1,t,a);try{var z=n(),Y=N.S;if(Y!==null&&Y(T,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var K=Dg(z,i);br(e,t,K,kt(e))}else br(e,t,i,kt(e))}catch(W){br(e,t,{then:function(){},status:"rejected",reason:W},kt())}finally{X.p=r,N.T=h}}function Lg(){}function Io(e,t,a,i){if(e.tag!==5)throw Error(l(476));var n=Zd(e).queue;Xd(e,n,t,ee,a===null?Lg:function(){return Id(e),a(i)})}function Zd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Id(e){var t=Zd(e).next.queue;br(e,t,{},kt())}function Ko(){return pt(qr)}function Kd(){return Ie().memoizedState}function Fd(){return Ie().memoizedState}function kg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=kt();e=Ya(a);var i=Ga(t,e,a);i!==null&&(Nt(i,t,a),hr(i,t,a)),t={cache:Eo()},e.payload=t;return}t=t.return}}function Ng(e,t,a){var i=kt();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vs(e)?$d(t,a):(a=mo(e,t,a,i),a!==null&&(Nt(a,e,i),Wd(a,t,i)))}function Jd(e,t,a){var i=kt();br(e,t,a,i)}function br(e,t,a,i){var n={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))$d(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var h=t.lastRenderedState,T=r(h,a);if(n.hasEagerState=!0,n.eagerState=T,xt(T,h))return Es(e,t,n,0),je===null&&Ts(),!1}catch{}finally{}if(a=mo(e,t,n,i),a!==null)return Nt(a,e,i),Wd(a,t,i),!0}return!1}function Fo(e,t,a,i){if(i={lane:2,revertLane:xl(),action:i,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(l(479))}else t=mo(e,a,i,2),t!==null&&Nt(t,e,2)}function Vs(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function $d(e,t){mn=js=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Wd(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,rt(e,a)}}var Ys={readContext:pt,use:qs,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},ef={readContext:pt,use:qs,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Ud,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Bs(4194308,4,Bd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){Bs(4,2,e,t)},useMemo:function(e,t){var a=bt();t=t===void 0?null:t;var i=e();if(ki){yt(!0);try{e()}finally{yt(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=bt();if(a!==void 0){var n=a(t);if(ki){yt(!0);try{a(t)}finally{yt(!1)}}}else n=t;return i.memoizedState=i.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Ng.bind(null,_e,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Go(e);var t=e.queue,a=Jd.bind(null,_e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Xo,useDeferredValue:function(e,t){var a=bt();return Zo(a,e,t)},useTransition:function(){var e=Go(!1);return e=Xd.bind(null,_e,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=_e,n=bt();if(De){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),je===null)throw Error(l(349));(Ee&124)!==0||Sd(i,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,Ud(Rd.bind(null,i,r,e),[e]),i.flags|=2048,vn(9,Hs(),wd.bind(null,i,r,a,t),null),a},useId:function(){var e=bt(),t=je.identifierPrefix;if(De){var a=ya,i=va;a=(i&~(1<<32-ut(i)-1)).toString(32)+a,t=""+t+"R"+a,a=Us++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=xg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ko,useFormState:Ld,useActionState:Ld,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fo.bind(null,_e,!0,a),a.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return bt().memoizedState=kg.bind(null,_e)}},tf={readContext:pt,use:qs,useCallback:Yd,useContext:pt,useEffect:qd,useImperativeHandle:Vd,useInsertionEffect:Pd,useLayoutEffect:Hd,useMemo:Gd,useReducer:Ps,useRef:jd,useState:function(){return Ps(Sa)},useDebugValue:Xo,useDeferredValue:function(e,t){var a=Ie();return Qd(a,Ae.memoizedState,e,t)},useTransition:function(){var e=Ps(Sa)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:bd,useId:Kd,useHostTransitionStatus:Ko,useFormState:kd,useActionState:kd,useOptimistic:function(e,t){var a=Ie();return Cd(a,Ae,e,t)},useMemoCache:Bo,useCacheRefresh:Fd},zg={readContext:pt,use:qs,useCallback:Yd,useContext:pt,useEffect:qd,useImperativeHandle:Vd,useInsertionEffect:Pd,useLayoutEffect:Hd,useMemo:Gd,useReducer:Yo,useRef:jd,useState:function(){return Yo(Sa)},useDebugValue:Xo,useDeferredValue:function(e,t){var a=Ie();return Ae===null?Zo(a,e,t):Qd(a,Ae.memoizedState,e,t)},useTransition:function(){var e=Yo(Sa)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:bd,useId:Kd,useHostTransitionStatus:Ko,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var a=Ie();return Ae!==null?Cd(a,Ae,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bo,useCacheRefresh:Fd},yn=null,Sr=0;function Gs(e){var t=Sr;return Sr+=1,yn===null&&(yn=[]),fd(yn,e,t)}function wr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qs(e,t){throw t.$$typeof===o?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function af(e){var t=e._init;return t(e._payload)}function nf(e){function t(B,P){if(e){var V=B.deletions;V===null?(B.deletions=[P],B.flags|=16):V.push(P)}}function a(B,P){if(!e)return null;for(;P!==null;)t(B,P),P=P.sibling;return null}function i(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function n(B,P){return B=ga(B,P),B.index=0,B.sibling=null,B}function r(B,P,V){return B.index=V,e?(V=B.alternate,V!==null?(V=V.index,V<P?(B.flags|=67108866,P):V):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function h(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function T(B,P,V,J){return P===null||P.tag!==6?(P=vo(V,B.mode,J),P.return=B,P):(P=n(P,V),P.return=B,P)}function z(B,P,V,J){var ce=V.type;return ce===k?K(B,P,V.props.children,J,V.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===x&&af(ce)===P.type)?(P=n(P,V.props),wr(P,V),P.return=B,P):(P=Ds(V.type,V.key,V.props,null,B.mode,J),wr(P,V),P.return=B,P)}function Y(B,P,V,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==V.containerInfo||P.stateNode.implementation!==V.implementation?(P=yo(V,B.mode,J),P.return=B,P):(P=n(P,V.children||[]),P.return=B,P)}function K(B,P,V,J,ce){return P===null||P.tag!==7?(P=Ei(V,B.mode,J,ce),P.return=B,P):(P=n(P,V),P.return=B,P)}function W(B,P,V){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=vo(""+P,B.mode,V),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case m:return V=Ds(P.type,P.key,P.props,null,B.mode,V),wr(V,P),V.return=B,V;case j:return P=yo(P,B.mode,V),P.return=B,P;case x:var J=P._init;return P=J(P._payload),W(B,P,V)}if(Z(P)||F(P))return P=Ei(P,B.mode,V,null),P.return=B,P;if(typeof P.then=="function")return W(B,Gs(P),V);if(P.$$typeof===u)return W(B,As(B,P),V);Qs(B,P)}return null}function G(B,P,V,J){var ce=P!==null?P.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ce!==null?null:T(B,P,""+V,J);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case m:return V.key===ce?z(B,P,V,J):null;case j:return V.key===ce?Y(B,P,V,J):null;case x:return ce=V._init,V=ce(V._payload),G(B,P,V,J)}if(Z(V)||F(V))return ce!==null?null:K(B,P,V,J,null);if(typeof V.then=="function")return G(B,P,Gs(V),J);if(V.$$typeof===u)return G(B,P,As(B,V),J);Qs(B,V)}return null}function Q(B,P,V,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(V)||null,T(P,B,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case m:return B=B.get(J.key===null?V:J.key)||null,z(P,B,J,ce);case j:return B=B.get(J.key===null?V:J.key)||null,Y(P,B,J,ce);case x:var be=J._init;return J=be(J._payload),Q(B,P,V,J,ce)}if(Z(J)||F(J))return B=B.get(V)||null,K(P,B,J,ce,null);if(typeof J.then=="function")return Q(B,P,V,Gs(J),ce);if(J.$$typeof===u)return Q(B,P,V,As(P,J),ce);Qs(P,J)}return null}function he(B,P,V,J){for(var ce=null,be=null,le=P,pe=P=0,at=null;le!==null&&pe<V.length;pe++){le.index>pe?(at=le,le=null):at=le.sibling;var Ce=G(B,le,V[pe],J);if(Ce===null){le===null&&(le=at);break}e&&le&&Ce.alternate===null&&t(B,le),P=r(Ce,P,pe),be===null?ce=Ce:be.sibling=Ce,be=Ce,le=at}if(pe===V.length)return a(B,le),De&&Di(B,pe),ce;if(le===null){for(;pe<V.length;pe++)le=W(B,V[pe],J),le!==null&&(P=r(le,P,pe),be===null?ce=le:be.sibling=le,be=le);return De&&Di(B,pe),ce}for(le=i(le);pe<V.length;pe++)at=Q(le,B,pe,V[pe],J),at!==null&&(e&&at.alternate!==null&&le.delete(at.key===null?pe:at.key),P=r(at,P,pe),be===null?ce=at:be.sibling=at,be=at);return e&&le.forEach(function(ci){return t(B,ci)}),De&&Di(B,pe),ce}function fe(B,P,V,J){if(V==null)throw Error(l(151));for(var ce=null,be=null,le=P,pe=P=0,at=null,Ce=V.next();le!==null&&!Ce.done;pe++,Ce=V.next()){le.index>pe?(at=le,le=null):at=le.sibling;var ci=G(B,le,Ce.value,J);if(ci===null){le===null&&(le=at);break}e&&le&&ci.alternate===null&&t(B,le),P=r(ci,P,pe),be===null?ce=ci:be.sibling=ci,be=ci,le=at}if(Ce.done)return a(B,le),De&&Di(B,pe),ce;if(le===null){for(;!Ce.done;pe++,Ce=V.next())Ce=W(B,Ce.value,J),Ce!==null&&(P=r(Ce,P,pe),be===null?ce=Ce:be.sibling=Ce,be=Ce);return De&&Di(B,pe),ce}for(le=i(le);!Ce.done;pe++,Ce=V.next())Ce=Q(le,B,pe,Ce.value,J),Ce!==null&&(e&&Ce.alternate!==null&&le.delete(Ce.key===null?pe:Ce.key),P=r(Ce,P,pe),be===null?ce=Ce:be.sibling=Ce,be=Ce);return e&&le.forEach(function(jv){return t(B,jv)}),De&&Di(B,pe),ce}function ke(B,P,V,J){if(typeof V=="object"&&V!==null&&V.type===k&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case m:e:{for(var ce=V.key;P!==null;){if(P.key===ce){if(ce=V.type,ce===k){if(P.tag===7){a(B,P.sibling),J=n(P,V.props.children),J.return=B,B=J;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===x&&af(ce)===P.type){a(B,P.sibling),J=n(P,V.props),wr(J,V),J.return=B,B=J;break e}a(B,P);break}else t(B,P);P=P.sibling}V.type===k?(J=Ei(V.props.children,B.mode,J,V.key),J.return=B,B=J):(J=Ds(V.type,V.key,V.props,null,B.mode,J),wr(J,V),J.return=B,B=J)}return h(B);case j:e:{for(ce=V.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===V.containerInfo&&P.stateNode.implementation===V.implementation){a(B,P.sibling),J=n(P,V.children||[]),J.return=B,B=J;break e}else{a(B,P);break}else t(B,P);P=P.sibling}J=yo(V,B.mode,J),J.return=B,B=J}return h(B);case x:return ce=V._init,V=ce(V._payload),ke(B,P,V,J)}if(Z(V))return he(B,P,V,J);if(F(V)){if(ce=F(V),typeof ce!="function")throw Error(l(150));return V=ce.call(V),fe(B,P,V,J)}if(typeof V.then=="function")return ke(B,P,Gs(V),J);if(V.$$typeof===u)return ke(B,P,As(B,V),J);Qs(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,P!==null&&P.tag===6?(a(B,P.sibling),J=n(P,V),J.return=B,B=J):(a(B,P),J=vo(V,B.mode,J),J.return=B,B=J),h(B)):a(B,P)}return function(B,P,V,J){try{Sr=0;var ce=ke(B,P,V,J);return yn=null,ce}catch(le){if(le===fr||le===ks)throw le;var be=Mt(29,le,null,B.mode);return be.lanes=J,be.return=B,be}finally{}}}var _n=nf(!0),rf=nf(!1),Bt=$(null),ra=null;function Xa(e){var t=e.alternate;ae(Fe,Fe.current&1),ae(Bt,e),ra===null&&(t===null||hn.current!==null||t.memoizedState!==null)&&(ra=e)}function sf(e){if(e.tag===22){if(ae(Fe,Fe.current),ae(Bt,e),ra===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ra=e)}}else Za()}function Za(){ae(Fe,Fe.current),ae(Bt,Bt.current)}function wa(e){ie(Bt),ra===e&&(ra=null),ie(Fe)}var Fe=$(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hl(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Jo(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:R({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $o={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=kt(),n=Ya(i);n.payload=t,a!=null&&(n.callback=a),t=Ga(e,n,i),t!==null&&(Nt(t,e,i),hr(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=kt(),n=Ya(i);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ga(e,n,i),t!==null&&(Nt(t,e,i),hr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=kt(),i=Ya(a);i.tag=2,t!=null&&(i.callback=t),t=Ga(e,i,a),t!==null&&(Nt(t,e,a),hr(t,e,a))}};function cf(e,t,a,i,n,r,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,h):t.prototype&&t.prototype.isPureReactComponent?!nr(a,i)||!nr(n,r):!0}function of(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&$o.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=R({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Zs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lf(e){Zs(e)}function uf(e){console.error(e)}function df(e){Zs(e)}function Is(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ff(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Wo(e,t,a){return a=Ya(a),a.tag=3,a.payload={element:null},a.callback=function(){Is(e,t)},a}function pf(e){return e=Ya(e),e.tag=3,e}function hf(e,t,a,i){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=i.value;e.payload=function(){return n(r)},e.callback=function(){ff(t,a,i)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){ff(t,a,i),typeof n!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})})}function jg(e,t,a,i,n){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&lr(t,a,n,!0),a=Bt.current,a!==null){switch(a.tag){case 13:return ra===null?Rl():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=n,i===xo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),El(e,i,n)),!1;case 22:return a.flags|=65536,i===xo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),El(e,i,n)),!1}throw Error(l(435,a.tag))}return El(e,i,n),Rl(),!1}if(De)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,i!==So&&(e=Error(l(422),{cause:i}),or(Ut(e,a)))):(i!==So&&(t=Error(l(423),{cause:i}),or(Ut(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,i=Ut(i,a),n=Wo(e.stateNode,i,n),Ao(e,n),Ve!==4&&(Ve=2)),!1;var r=Error(l(520),{cause:i});if(r=Ut(r,a),Mr===null?Mr=[r]:Mr.push(r),Ve!==4&&(Ve=2),t===null)return!0;i=Ut(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Wo(a.stateNode,i,e),Ao(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Wa===null||!Wa.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=pf(n),hf(n,e,a,i),Ao(a,n),!1}a=a.return}while(a!==null);return!1}var mf=Error(l(461)),et=!1;function ct(e,t,a,i){t.child=e===null?rf(t,null,a,i):_n(t,e.child,a,i)}function gf(e,t,a,i,n){a=a.render;var r=t.ref;if("ref"in i){var h={};for(var T in i)T!=="ref"&&(h[T]=i[T])}else h=i;return Ai(t),i=jo(e,t,a,h,r,n),T=Uo(),e!==null&&!et?(qo(e,t,n),Ra(e,t,n)):(De&&T&&_o(t),t.flags|=1,ct(e,t,i,n),t.child)}function vf(e,t,a,i,n){if(e===null){var r=a.type;return typeof r=="function"&&!go(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,yf(e,t,r,i,n)):(e=Ds(a.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!cl(e,n)){var h=r.memoizedProps;if(a=a.compare,a=a!==null?a:nr,a(h,i)&&e.ref===t.ref)return Ra(e,t,n)}return t.flags|=1,e=ga(r,i),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,a,i,n){if(e!==null){var r=e.memoizedProps;if(nr(r,i)&&e.ref===t.ref)if(et=!1,t.pendingProps=i=r,cl(e,n))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Ra(e,t,n)}return el(e,t,a,i,n)}function _f(e,t,a){var i=t.pendingProps,n=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return bf(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ls(t,r!==null?r.cachePool:null),r!==null?vd(t,r):ko(),sf(t);else return t.lanes=t.childLanes=536870912,bf(e,t,r!==null?r.baseLanes|a:a,a)}else r!==null?(Ls(t,r.cachePool),vd(t,r),Za(),t.memoizedState=null):(e!==null&&Ls(t,null),ko(),Za());return ct(e,t,n,a),t.child}function bf(e,t,a,i){var n=Do();return n=n===null?null:{parent:Ke._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&Ls(t,null),ko(),sf(t),e!==null&&lr(e,t,i,!0),null}function Ks(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function el(e,t,a,i,n){return Ai(t),a=jo(e,t,a,i,void 0,n),i=Uo(),e!==null&&!et?(qo(e,t,n),Ra(e,t,n)):(De&&i&&_o(t),t.flags|=1,ct(e,t,a,n),t.child)}function Sf(e,t,a,i,n,r){return Ai(t),t.updateQueue=null,a=_d(t,i,a,n),yd(e),i=Uo(),e!==null&&!et?(qo(e,t,r),Ra(e,t,r)):(De&&i&&_o(t),t.flags|=1,ct(e,t,a,r),t.child)}function wf(e,t,a,i,n){if(Ai(t),t.stateNode===null){var r=ln,h=a.contextType;typeof h=="object"&&h!==null&&(r=pt(h)),r=new a(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=$o,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Mo(t),h=a.contextType,r.context=typeof h=="object"&&h!==null?pt(h):ln,r.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Jo(t,a,h,i),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(h=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),h!==r.state&&$o.enqueueReplaceState(r,r.state,null),gr(t,i,r,n),mr(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var T=t.memoizedProps,z=Ni(a,T);r.props=z;var Y=r.context,K=a.contextType;h=ln,typeof K=="object"&&K!==null&&(h=pt(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof r.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,K||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(T||Y!==h)&&of(t,r,i,h),Va=!1;var G=t.memoizedState;r.state=G,gr(t,i,r,n),mr(),Y=t.memoizedState,T||G!==Y||Va?(typeof W=="function"&&(Jo(t,a,W,i),Y=t.memoizedState),(z=Va||cf(t,a,z,i,G,Y,h))?(K||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=Y),r.props=i,r.state=Y,r.context=h,i=z):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Oo(e,t),h=t.memoizedProps,K=Ni(a,h),r.props=K,W=t.pendingProps,G=r.context,Y=a.contextType,z=ln,typeof Y=="object"&&Y!==null&&(z=pt(Y)),T=a.getDerivedStateFromProps,(Y=typeof T=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(h!==W||G!==z)&&of(t,r,i,z),Va=!1,G=t.memoizedState,r.state=G,gr(t,i,r,n),mr();var Q=t.memoizedState;h!==W||G!==Q||Va||e!==null&&e.dependencies!==null&&Os(e.dependencies)?(typeof T=="function"&&(Jo(t,a,T,i),Q=t.memoizedState),(K=Va||cf(t,a,K,i,G,Q,z)||e!==null&&e.dependencies!==null&&Os(e.dependencies))?(Y||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,Q,z),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,Q,z)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||h===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Q),r.props=i,r.state=Q,r.context=z,i=K):(typeof r.componentDidUpdate!="function"||h===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Ks(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=_n(t,e.child,null,n),t.child=_n(t,null,a,n)):ct(e,t,a,n),t.memoizedState=r.state,e=t.child):e=Ra(e,t,n),e}function Rf(e,t,a,i){return cr(),t.flags|=256,ct(e,t,a,i),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function al(e){return{baseLanes:e,cachePool:ld()}}function il(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function Tf(e,t,a){var i=t.pendingProps,n=!1,r=(t.flags&128)!==0,h;if((h=r)||(h=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),h&&(n=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?Xa(t):Za(),De){var T=Be,z;if(z=T){e:{for(z=T,T=na;z.nodeType!==8;){if(!T){T=null;break e}if(z=Jt(z.nextSibling),z===null){T=null;break e}}T=z}T!==null?(t.memoizedState={dehydrated:T,treeContext:Ci!==null?{id:va,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},z=Mt(18,null,null,0),z.stateNode=T,z.return=t,t.child=z,gt=t,Be=null,z=!0):z=!1}z||Mi(t)}if(T=t.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hl(T)?t.lanes=32:t.lanes=536870912,null;wa(t)}return T=i.children,i=i.fallback,n?(Za(),n=t.mode,T=Fs({mode:"hidden",children:T},n),i=Ei(i,n,a,null),T.return=t,i.return=t,T.sibling=i,t.child=T,n=t.child,n.memoizedState=al(a),n.childLanes=il(e,h,a),t.memoizedState=tl,i):(Xa(t),nl(t,T))}if(z=e.memoizedState,z!==null&&(T=z.dehydrated,T!==null)){if(r)t.flags&256?(Xa(t),t.flags&=-257,t=rl(e,t,a)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),n=i.fallback,T=t.mode,i=Fs({mode:"visible",children:i.children},T),n=Ei(n,T,a,null),n.flags|=2,i.return=t,n.return=t,i.sibling=n,t.child=i,_n(t,e.child,null,a),i=t.child,i.memoizedState=al(a),i.childLanes=il(e,h,a),t.memoizedState=tl,t=n);else if(Xa(t),Hl(T)){if(h=T.nextSibling&&T.nextSibling.dataset,h)var Y=h.dgst;h=Y,i=Error(l(419)),i.stack="",i.digest=h,or({value:i,source:null,stack:null}),t=rl(e,t,a)}else if(et||lr(e,t,a,!1),h=(a&e.childLanes)!==0,et||h){if(h=je,h!==null&&(i=a&-a,i=(i&42)!==0?1:zt(i),i=(i&(h.suspendedLanes|a))!==0?0:i,i!==0&&i!==z.retryLane))throw z.retryLane=i,on(e,i),Nt(h,e,i),mf;T.data==="$?"||Rl(),t=rl(e,t,a)}else T.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=z.treeContext,Be=Jt(T.nextSibling),gt=t,De=!0,xi=null,na=!1,e!==null&&(Pt[Ht++]=va,Pt[Ht++]=ya,Pt[Ht++]=Ci,va=e.id,ya=e.overflow,Ci=t),t=nl(t,i.children),t.flags|=4096);return t}return n?(Za(),n=i.fallback,T=t.mode,z=e.child,Y=z.sibling,i=ga(z,{mode:"hidden",children:i.children}),i.subtreeFlags=z.subtreeFlags&65011712,Y!==null?n=ga(Y,n):(n=Ei(n,T,a,null),n.flags|=2),n.return=t,i.return=t,i.sibling=n,t.child=i,i=n,n=t.child,T=e.child.memoizedState,T===null?T=al(a):(z=T.cachePool,z!==null?(Y=Ke._currentValue,z=z.parent!==Y?{parent:Y,pool:Y}:z):z=ld(),T={baseLanes:T.baseLanes|a,cachePool:z}),n.memoizedState=T,n.childLanes=il(e,h,a),t.memoizedState=tl,i):(Xa(t),a=e.child,e=a.sibling,a=ga(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function nl(e,t){return t=Fs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fs(e,t){return e=Mt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rl(e,t,a){return _n(t,e.child,null,a),e=nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ef(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ro(e.return,t,a)}function sl(e,t,a,i,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=a,r.tailMode=n)}function Cf(e,t,a){var i=t.pendingProps,n=i.revealOrder,r=i.tail;if(ct(e,t,i.children,a),i=Fe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,a,t);else if(e.tag===19)Ef(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(ae(Fe,i),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Xs(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),sl(t,!1,n,a,r);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Xs(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}sl(t,!0,a,null,r);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ra(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(lr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ga(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ga(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function cl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Os(e)))}function Ug(e,t,a){switch(t.tag){case 3:ze(t,t.stateNode.containerInfo),Ba(t,Ke,e.memoizedState.cache),cr();break;case 27:case 5:qn(t);break;case 4:ze(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Xa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Tf(e,t,a):(Xa(t),e=Ra(e,t,a),e!==null?e.sibling:null);Xa(t);break;case 19:var n=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(lr(e,t,a,!1),i=(a&t.childLanes)!==0),n){if(i)return Cf(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ae(Fe,Fe.current),i)break;return null;case 22:case 23:return t.lanes=0,_f(e,t,a);case 24:Ba(t,Ke,e.memoizedState.cache)}return Ra(e,t,a)}function Df(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!cl(e,a)&&(t.flags&128)===0)return et=!1,Ug(e,t,a);et=(e.flags&131072)!==0}else et=!1,De&&(t.flags&1048576)!==0&&ad(t,Ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,n=i._init;if(i=n(i._payload),t.type=i,typeof i=="function")go(i)?(e=Ni(i,e),t.tag=1,t=wf(null,t,i,e,a)):(t.tag=0,t=el(null,t,i,e,a));else{if(i!=null){if(n=i.$$typeof,n===d){t.tag=11,t=gf(null,t,i,e,a);break e}else if(n===g){t.tag=14,t=vf(null,t,i,e,a);break e}}throw t=I(i)||i,Error(l(306,t,""))}}return t;case 0:return el(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,n=Ni(i,t.pendingProps),wf(e,t,i,n,a);case 3:e:{if(ze(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var r=t.memoizedState;n=r.element,Oo(e,t),gr(t,i,null,a);var h=t.memoizedState;if(i=h.cache,Ba(t,Ke,i),i!==r.cache&&To(t,[Ke],a,!0),mr(),i=h.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Rf(e,t,i,a);break e}else if(i!==n){n=Ut(Error(l(424)),t),or(n),t=Rf(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Jt(e.firstChild),gt=t,De=!0,xi=null,na=!0,a=rf(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cr(),i===n){t=Ra(e,t,a);break e}ct(e,t,i,a)}t=t.child}return t;case 26:return Ks(e,t),e===null?(a=Ap(t.type,null,t.pendingProps,null))?t.memoizedState=a:De||(a=t.type,e=t.pendingProps,i=uc(me.current).createElement(a),i[Pe]=t,i[$e]=e,lt(i,a,e),Ye(i),t.stateNode=i):t.memoizedState=Ap(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qn(t),e===null&&De&&(i=t.stateNode=xp(t.type,t.pendingProps,me.current),gt=t,na=!0,n=Be,ai(t.type)?(Bl=n,Be=Jt(i.firstChild)):Be=n),ct(e,t,t.pendingProps.children,a),Ks(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=i=Be)&&(i=dv(i,t.type,t.pendingProps,na),i!==null?(t.stateNode=i,gt=t,Be=Jt(i.firstChild),na=!1,n=!0):n=!1),n||Mi(t)),qn(t),n=t.type,r=t.pendingProps,h=e!==null?e.memoizedProps:null,i=r.children,Ul(n,r)?i=null:h!==null&&Ul(n,h)&&(t.flags|=32),t.memoizedState!==null&&(n=jo(e,t,Mg,null,null,a),qr._currentValue=n),Ks(e,t),ct(e,t,i,a),t.child;case 6:return e===null&&De&&((e=a=Be)&&(a=fv(a,t.pendingProps,na),a!==null?(t.stateNode=a,gt=t,Be=null,e=!0):e=!1),e||Mi(t)),null;case 13:return Tf(e,t,a);case 4:return ze(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=_n(t,null,i,a):ct(e,t,i,a),t.child;case 11:return gf(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Ba(t,t.type,i.value),ct(e,t,i.children,a),t.child;case 9:return n=t.type._context,i=t.pendingProps.children,Ai(t),n=pt(n),i=i(n),t.flags|=1,ct(e,t,i,a),t.child;case 14:return vf(e,t,t.type,t.pendingProps,a);case 15:return yf(e,t,t.type,t.pendingProps,a);case 19:return Cf(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=Fs(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ga(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return _f(e,t,a);case 24:return Ai(t),i=pt(Ke),e===null?(n=Do(),n===null&&(n=je,r=Eo(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:i,cache:n},Mo(t),Ba(t,Ke,n)):((e.lanes&a)!==0&&(Oo(e,t),gr(t,null,null,a),mr()),n=e.memoizedState,r=t.memoizedState,n.parent!==i?(n={parent:i,cache:i},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ba(t,Ke,i)):(i=r.cache,Ba(t,Ke,i),i!==n.cache&&To(t,[Ke],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ta(e){e.flags|=4}function xf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jp(t)){if(t=Bt.current,t!==null&&((Ee&4194048)===Ee?ra!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||t!==ra))throw pr=xo,ud;e.flags|=8192}}function Js(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qn():536870912,e.lanes|=t,Rn|=t)}function Rr(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,i|=n.subtreeFlags&65011712,i|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function qg(e,t,a){var i=t.pendingProps;switch(bo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ba(Ke),ea(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sr(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rd())),He(t),null;case 26:return a=t.memoizedState,e===null?(Ta(t),a!==null?(He(t),xf(t,a)):(He(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ta(t),He(t),xf(t,a)):(He(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ta(t),He(t),t.flags&=-16777217),null;case 27:ui(t),a=me.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ta(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return He(t),null}e=oe.current,sr(t)?id(t):(e=xp(n,i,a),t.stateNode=e,Ta(t))}return He(t),null;case 5:if(ui(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ta(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return He(t),null}if(e=oe.current,sr(t))id(t);else{switch(n=uc(me.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?n.createElement("select",{is:i.is}):n.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?n.createElement(a,{is:i.is}):n.createElement(a)}}e[Pe]=t,e[$e]=i;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(lt(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ta(t)}}return He(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ta(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=me.current,sr(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,n=gt,n!==null)switch(n.tag){case 27:case 5:i=n.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Sp(e.nodeValue,a)),e||Mi(t)}else e=uc(e).createTextNode(i),e[Pe]=t,t.stateNode=e}return He(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=sr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!n)throw Error(l(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));n[Pe]=t}else cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),n=!1}else n=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(wa(t),t):(wa(t),null)}if(wa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,n=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(n=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==n&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Js(t,t.updateQueue),He(t),null;case 4:return ea(),e===null&&Ll(t.stateNode.containerInfo),He(t),null;case 10:return ba(t.type),He(t),null;case 19:if(ie(Fe),n=t.memoizedState,n===null)return He(t),null;if(i=(t.flags&128)!==0,r=n.rendering,r===null)if(i)Rr(n,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Xs(e),r!==null){for(t.flags|=128,Rr(n,!1),e=r.updateQueue,t.updateQueue=e,Js(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)td(a,e),a=a.sibling;return ae(Fe,Fe.current&1|2),t.child}e=e.sibling}n.tail!==null&&Et()>ec&&(t.flags|=128,i=!0,Rr(n,!1),t.lanes=4194304)}else{if(!i)if(e=Xs(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Js(t,e),Rr(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!De)return He(t),null}else 2*Et()-n.renderingStartTime>ec&&a!==536870912&&(t.flags|=128,i=!0,Rr(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Et(),t.sibling=null,e=Fe.current,ae(Fe,i?e&1|2:e&1),t):(He(t),null);case 22:case 23:return wa(t),No(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),a=t.updateQueue,a!==null&&Js(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&ie(Li),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ba(Ke),He(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Pg(e,t){switch(bo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(Ke),ea(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ui(t),null;case 13:if(wa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(Fe),null;case 4:return ea(),null;case 10:return ba(t.type),null;case 22:case 23:return wa(t),No(),e!==null&&ie(Li),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ba(Ke),null;case 25:return null;default:return null}}function Mf(e,t){switch(bo(t),t.tag){case 3:ba(Ke),ea();break;case 26:case 27:case 5:ui(t);break;case 4:ea();break;case 13:wa(t);break;case 19:ie(Fe);break;case 10:ba(t.type);break;case 22:case 23:wa(t),No(),e!==null&&ie(Li);break;case 24:ba(Ke)}}function Tr(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var n=i.next;a=n;do{if((a.tag&e)===e){i=void 0;var r=a.create,h=a.inst;i=r(),h.destroy=i}a=a.next}while(a!==n)}}catch(T){Ne(t,t.return,T)}}function Ia(e,t,a){try{var i=t.updateQueue,n=i!==null?i.lastEffect:null;if(n!==null){var r=n.next;i=r;do{if((i.tag&e)===e){var h=i.inst,T=h.destroy;if(T!==void 0){h.destroy=void 0,n=t;var z=a,Y=T;try{Y()}catch(K){Ne(n,z,K)}}}i=i.next}while(i!==r)}}catch(K){Ne(t,t.return,K)}}function Of(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{gd(t,a)}catch(i){Ne(e,e.return,i)}}}function Af(e,t,a){a.props=Ni(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Ne(e,t,i)}}function Er(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(n){Ne(e,t,n)}}function sa(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(n){Ne(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ne(e,t,n)}else a.current=null}function Lf(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(n){Ne(e,e.return,n)}}function ol(e,t,a){try{var i=e.stateNode;sv(i,e.type,a,t),i[$e]=t}catch(n){Ne(e,e.return,n)}}function kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ai(e.type)||e.tag===4}function ll(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ul(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=lc));else if(i!==4&&(i===27&&ai(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ul(e,t,a),e=e.sibling;e!==null;)ul(e,t,a),e=e.sibling}function $s(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&ai(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($s(e,t,a),e=e.sibling;e!==null;)$s(e,t,a),e=e.sibling}function Nf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);lt(t,i,a),t[Pe]=e,t[$e]=a}catch(r){Ne(e,e.return,r)}}var Ea=!1,Xe=!1,dl=!1,zf=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Hg(e,t){if(e=e.containerInfo,zl=gc,e=Qu(e),oo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var n=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var h=0,T=-1,z=-1,Y=0,K=0,W=e,G=null;t:for(;;){for(var Q;W!==a||n!==0&&W.nodeType!==3||(T=h+n),W!==r||i!==0&&W.nodeType!==3||(z=h+i),W.nodeType===3&&(h+=W.nodeValue.length),(Q=W.firstChild)!==null;)G=W,W=Q;for(;;){if(W===e)break t;if(G===a&&++Y===n&&(T=h),G===r&&++K===i&&(z=h),(Q=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Q}a=T===-1||z===-1?null:{start:T,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(jl={focusedElem:e,selectionRange:a},gc=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,i=a.stateNode;try{var he=Ni(a.type,n,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(he,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Ne(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Pl(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pl(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function jf(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ka(e,a),i&4&&Tr(5,a);break;case 1:if(Ka(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Ne(a,a.return,h)}else{var n=Ni(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ne(a,a.return,h)}}i&64&&Of(a),i&512&&Er(a,a.return);break;case 3:if(Ka(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{gd(e,t)}catch(h){Ne(a,a.return,h)}}break;case 27:t===null&&i&4&&Nf(a);case 26:case 5:Ka(e,a),t===null&&i&4&&Lf(a),i&512&&Er(a,a.return);break;case 12:Ka(e,a);break;case 13:Ka(e,a),i&4&&Pf(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Kg.bind(null,a),pv(e,a))));break;case 22:if(i=a.memoizedState!==null||Ea,!i){t=t!==null&&t.memoizedState!==null||Xe,n=Ea;var r=Xe;Ea=i,(Xe=t)&&!r?Fa(e,a,(a.subtreeFlags&8772)!==0):Ka(e,a),Ea=n,Xe=r}break;case 30:break;default:Ka(e,a)}}function Uf(e){var t=e.alternate;t!==null&&(e.alternate=null,Uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,St=!1;function Ca(e,t,a){for(a=a.child;a!==null;)qf(e,t,a),a=a.sibling}function qf(e,t,a){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ka,a)}catch{}switch(a.tag){case 26:Xe||sa(a,t),Ca(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||sa(a,t);var i=qe,n=St;ai(a.type)&&(qe=a.stateNode,St=!1),Ca(e,t,a),Nr(a.stateNode),qe=i,St=n;break;case 5:Xe||sa(a,t);case 6:if(i=qe,n=St,qe=null,Ca(e,t,a),qe=i,St=n,qe!==null)if(St)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(r){Ne(a,t,r)}else try{qe.removeChild(a.stateNode)}catch(r){Ne(a,t,r)}break;case 18:qe!==null&&(St?(e=qe,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Vr(e)):Cp(qe,a.stateNode));break;case 4:i=qe,n=St,qe=a.stateNode.containerInfo,St=!0,Ca(e,t,a),qe=i,St=n;break;case 0:case 11:case 14:case 15:Xe||Ia(2,a,t),Xe||Ia(4,a,t),Ca(e,t,a);break;case 1:Xe||(sa(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Af(a,t,i)),Ca(e,t,a);break;case 21:Ca(e,t,a);break;case 22:Xe=(i=Xe)||a.memoizedState!==null,Ca(e,t,a),Xe=i;break;default:Ca(e,t,a)}}function Pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vr(e)}catch(a){Ne(t,t.return,a)}}function Bg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zf),t;default:throw Error(l(435,e.tag))}}function fl(e,t){var a=Bg(e);t.forEach(function(i){var n=Fg.bind(null,e,i);a.has(i)||(a.add(i),i.then(n,n))})}function Ot(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var n=a[i],r=e,h=t,T=h;e:for(;T!==null;){switch(T.tag){case 27:if(ai(T.type)){qe=T.stateNode,St=!1;break e}break;case 5:qe=T.stateNode,St=!1;break e;case 3:case 4:qe=T.stateNode.containerInfo,St=!0;break e}T=T.return}if(qe===null)throw Error(l(160));qf(r,h,n),qe=null,St=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Hf(t,e),t=t.sibling}var Ft=null;function Hf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),At(e),i&4&&(Ia(3,e,e.return),Tr(3,e),Ia(5,e,e.return));break;case 1:Ot(t,e),At(e),i&512&&(Xe||a===null||sa(a,a.return)),i&64&&Ea&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var n=Ft;if(Ot(t,e),At(e),i&512&&(Xe||a===null||sa(a,a.return)),i&4){var r=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(i){case"title":r=n.getElementsByTagName("title")[0],(!r||r[aa]||r[Pe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(i),n.head.insertBefore(r,n.querySelector("head > title"))),lt(r,i,a),r[Pe]=e,Ye(r),i=r;break e;case"link":var h=Np("link","href",n).get(i+(a.href||""));if(h){for(var T=0;T<h.length;T++)if(r=h[T],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(T,1);break t}}r=n.createElement(i),lt(r,i,a),n.head.appendChild(r);break;case"meta":if(h=Np("meta","content",n).get(i+(a.content||""))){for(T=0;T<h.length;T++)if(r=h[T],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(T,1);break t}}r=n.createElement(i),lt(r,i,a),n.head.appendChild(r);break;default:throw Error(l(468,i))}r[Pe]=e,Ye(r),i=r}e.stateNode=i}else zp(n,e.type,e.stateNode);else e.stateNode=kp(n,i,e.memoizedProps);else r!==i?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,i===null?zp(n,e.type,e.stateNode):kp(n,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ol(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,e),At(e),i&512&&(Xe||a===null||sa(a,a.return)),a!==null&&i&4&&ol(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,e),At(e),i&512&&(Xe||a===null||sa(a,a.return)),e.flags&32){n=e.stateNode;try{en(n,"")}catch(Q){Ne(e,e.return,Q)}}i&4&&e.stateNode!=null&&(n=e.memoizedProps,ol(e,n,a!==null?a.memoizedProps:n)),i&1024&&(dl=!0);break;case 6:if(Ot(t,e),At(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(Q){Ne(e,e.return,Q)}}break;case 3:if(pc=null,n=Ft,Ft=dc(t.containerInfo),Ot(t,e),Ft=n,At(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(Q){Ne(e,e.return,Q)}dl&&(dl=!1,Bf(e));break;case 4:i=Ft,Ft=dc(e.stateNode.containerInfo),Ot(t,e),At(e),Ft=i;break;case 12:Ot(t,e),At(e);break;case 13:Ot(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yl=Et()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fl(e,i)));break;case 22:n=e.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Y=Ea,K=Xe;if(Ea=Y||n,Xe=K||z,Ot(t,e),Xe=K,Ea=Y,At(e),i&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||z||Ea||Xe||zi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){z=a=t;try{if(r=z.stateNode,n)h=r.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{T=z.stateNode;var W=z.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){Ne(z,z.return,Q)}}}else if(t.tag===6){if(a===null){z=t;try{z.stateNode.nodeValue=n?"":z.memoizedProps}catch(Q){Ne(z,z.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,fl(e,a))));break;case 19:Ot(t,e),At(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,fl(e,i)));break;case 30:break;case 21:break;default:Ot(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(kf(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var n=a.stateNode,r=ll(e);$s(e,r,n);break;case 5:var h=a.stateNode;a.flags&32&&(en(h,""),a.flags&=-33);var T=ll(e);$s(e,T,h);break;case 3:case 4:var z=a.stateNode.containerInfo,Y=ll(e);ul(e,Y,z);break;default:throw Error(l(161))}}catch(K){Ne(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jf(e,t.alternate,t),t=t.sibling}function zi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),zi(t);break;case 1:sa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Af(t,t.return,a),zi(t);break;case 27:Nr(t.stateNode);case 26:case 5:sa(t,t.return),zi(t);break;case 22:t.memoizedState===null&&zi(t);break;case 30:zi(t);break;default:zi(t)}e=e.sibling}}function Fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,n=e,r=t,h=r.flags;switch(r.tag){case 0:case 11:case 15:Fa(n,r,a),Tr(4,r);break;case 1:if(Fa(n,r,a),i=r,n=i.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(Y){Ne(i,i.return,Y)}if(i=r,n=i.updateQueue,n!==null){var T=i.stateNode;try{var z=n.shared.hiddenCallbacks;if(z!==null)for(n.shared.hiddenCallbacks=null,n=0;n<z.length;n++)md(z[n],T)}catch(Y){Ne(i,i.return,Y)}}a&&h&64&&Of(r),Er(r,r.return);break;case 27:Nf(r);case 26:case 5:Fa(n,r,a),a&&i===null&&h&4&&Lf(r),Er(r,r.return);break;case 12:Fa(n,r,a);break;case 13:Fa(n,r,a),a&&h&4&&Pf(n,r);break;case 22:r.memoizedState===null&&Fa(n,r,a),Er(r,r.return);break;case 30:break;default:Fa(n,r,a)}t=t.sibling}}function pl(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ur(a))}function hl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ur(e))}function ca(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vf(e,t,a,i),t=t.sibling}function Vf(e,t,a,i){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ca(e,t,a,i),n&2048&&Tr(9,t);break;case 1:ca(e,t,a,i);break;case 3:ca(e,t,a,i),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ur(e)));break;case 12:if(n&2048){ca(e,t,a,i),e=t.stateNode;try{var r=t.memoizedProps,h=r.id,T=r.onPostCommit;typeof T=="function"&&T(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Ne(t,t.return,z)}}else ca(e,t,a,i);break;case 13:ca(e,t,a,i);break;case 23:break;case 22:r=t.stateNode,h=t.alternate,t.memoizedState!==null?r._visibility&2?ca(e,t,a,i):Cr(e,t):r._visibility&2?ca(e,t,a,i):(r._visibility|=2,bn(e,t,a,i,(t.subtreeFlags&10256)!==0)),n&2048&&pl(h,t);break;case 24:ca(e,t,a,i),n&2048&&hl(t.alternate,t);break;default:ca(e,t,a,i)}}function bn(e,t,a,i,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,h=t,T=a,z=i,Y=h.flags;switch(h.tag){case 0:case 11:case 15:bn(r,h,T,z,n),Tr(8,h);break;case 23:break;case 22:var K=h.stateNode;h.memoizedState!==null?K._visibility&2?bn(r,h,T,z,n):Cr(r,h):(K._visibility|=2,bn(r,h,T,z,n)),n&&Y&2048&&pl(h.alternate,h);break;case 24:bn(r,h,T,z,n),n&&Y&2048&&hl(h.alternate,h);break;default:bn(r,h,T,z,n)}t=t.sibling}}function Cr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,n=i.flags;switch(i.tag){case 22:Cr(a,i),n&2048&&pl(i.alternate,i);break;case 24:Cr(a,i),n&2048&&hl(i.alternate,i);break;default:Cr(a,i)}t=t.sibling}}var Dr=8192;function Sn(e){if(e.subtreeFlags&Dr)for(e=e.child;e!==null;)Yf(e),e=e.sibling}function Yf(e){switch(e.tag){case 26:Sn(e),e.flags&Dr&&e.memoizedState!==null&&Cv(Ft,e.memoizedState,e.memoizedProps);break;case 5:Sn(e);break;case 3:case 4:var t=Ft;Ft=dc(e.stateNode.containerInfo),Sn(e),Ft=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Dr,Dr=16777216,Sn(e),Dr=t):Sn(e));break;default:Sn(e)}}function Gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];tt=i,Xf(i,e)}Gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 0:case 11:case 15:xr(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:xr(e);break;case 12:xr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ws(e)):xr(e);break;default:xr(e)}}function Ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];tt=i,Xf(i,e)}Gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),Ws(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ws(t));break;default:Ws(t)}e=e.sibling}}function Xf(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Ia(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ur(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,tt=i;else e:for(a=e;tt!==null;){i=tt;var n=i.sibling,r=i.return;if(Uf(i),i===a){tt=null;break e}if(n!==null){n.return=r,tt=n;break e}tt=r}}}var Vg={getCacheForType:function(e){var t=pt(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Yg=typeof WeakMap=="function"?WeakMap:Map,Me=0,je=null,we=null,Ee=0,Oe=0,Lt=null,Ja=!1,wn=!1,ml=!1,Da=0,Ve=0,$a=0,ji=0,gl=0,Vt=0,Rn=0,Mr=null,wt=null,vl=!1,yl=0,ec=1/0,tc=null,Wa=null,ot=0,ei=null,Tn=null,En=0,_l=0,bl=null,Zf=null,Or=0,Sl=null;function kt(){if((Me&2)!==0&&Ee!==0)return Ee&-Ee;if(N.T!==null){var e=fn;return e!==0?e:xl()}return gi()}function If(){Vt===0&&(Vt=(Ee&536870912)===0||De?Fi():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),Vt}function Nt(e,t,a){(e===je&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Cn(e,0),ti(e,Ee,Vt,!1)),Zt(e,a),((Me&2)===0||e!==je)&&(e===je&&((Me&2)===0&&(ji|=a),Ve===4&&ti(e,Ee,Vt,!1)),oa(e))}function Kf(e,t,a){if((Me&6)!==0)throw Error(l(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Xt(e,t),n=i?Xg(e,t):Tl(e,t,!0),r=i;do{if(n===0){wn&&!i&&ti(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!Gg(a)){n=Tl(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var T=e;n=Mr;var z=T.current.memoizedState.isDehydrated;if(z&&(Cn(T,h).flags|=256),h=Tl(T,h,!1),h!==2){if(ml&&!z){T.errorRecoveryDisabledLanes|=r,ji|=r,n=4;break e}r=wt,wt=n,r!==null&&(wt===null?wt=r:wt.push.apply(wt,r))}n=h}if(r=!1,n!==2)continue}}if(n===1){Cn(e,0),ti(e,t,0,!0);break}e:{switch(i=e,r=n,r){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ti(i,t,Vt,!Ja);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(n=yl+300-Et(),10<n)){if(ti(i,t,Vt,!Ja),da(i,0,!0)!==0)break e;i.timeoutHandle=Tp(Ff.bind(null,i,a,wt,tc,vl,t,Vt,ji,Rn,Ja,r,2,-0,0),n);break e}Ff(i,a,wt,tc,vl,t,Vt,ji,Rn,Ja,r,0,-0,0)}}break}while(!0);oa(e)}function Ff(e,t,a,i,n,r,h,T,z,Y,K,W,G,Q){if(e.timeoutHandle=-1,W=t.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Ur={stylesheets:null,count:0,unsuspend:Ev},Yf(t),W=Dv(),W!==null)){e.cancelPendingCommit=W(ip.bind(null,e,t,r,a,i,n,h,T,z,K,1,G,Q)),ti(e,r,h,!Y);return}ip(e,t,r,a,i,n,h,T,z)}function Gg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var n=a[i],r=n.getSnapshot;n=n.value;try{if(!xt(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ti(e,t,a,i){t&=~gl,t&=~ji,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var n=t;0<n;){var r=31-ut(n),h=1<<r;i[r]=-1,n&=~h}a!==0&&Zn(e,a,t)}function ac(){return(Me&6)===0?(Ar(0),!1):!0}function wl(){if(we!==null){if(Oe===0)var e=we.return;else e=we,_a=Oi=null,Po(e),yn=null,Sr=0,e=we;for(;e!==null;)Mf(e.alternate,e),e=e.return;we=null}}function Cn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ov(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wl(),je=e,we=a=ga(e.current,null),Ee=t,Oe=0,Lt=null,Ja=!1,wn=Xt(e,t),ml=!1,Rn=Vt=gl=ji=$a=Ve=0,wt=Mr=null,vl=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var n=31-ut(i),r=1<<n;t|=e[n],i&=~r}return Da=t,Ts(),a}function Jf(e,t){_e=null,N.H=Ys,t===fr||t===ks?(t=pd(),Oe=3):t===ud?(t=pd(),Oe=4):Oe=t===mf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,we===null&&(Ve=1,Is(e,Ut(t,e.current)))}function $f(){var e=N.H;return N.H=Ys,e===null?Ys:e}function Wf(){var e=N.A;return N.A=Vg,e}function Rl(){Ve=4,Ja||(Ee&4194048)!==Ee&&Bt.current!==null||(wn=!0),($a&134217727)===0&&(ji&134217727)===0||je===null||ti(je,Ee,Vt,!1)}function Tl(e,t,a){var i=Me;Me|=2;var n=$f(),r=Wf();(je!==e||Ee!==t)&&(tc=null,Cn(e,t)),t=!1;var h=Ve;e:do try{if(Oe!==0&&we!==null){var T=we,z=Lt;switch(Oe){case 8:wl(),h=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var Y=Oe;if(Oe=0,Lt=null,Dn(e,T,z,Y),a&&wn){h=0;break e}break;default:Y=Oe,Oe=0,Lt=null,Dn(e,T,z,Y)}}Qg(),h=Ve;break}catch(K){Jf(e,K)}while(!0);return t&&e.shellSuspendCounter++,_a=Oi=null,Me=i,N.H=n,N.A=r,we===null&&(je=null,Ee=0,Ts()),h}function Qg(){for(;we!==null;)ep(we)}function Xg(e,t){var a=Me;Me|=2;var i=$f(),n=Wf();je!==e||Ee!==t?(tc=null,ec=Et()+500,Cn(e,t)):wn=Xt(e,t);e:do try{if(Oe!==0&&we!==null){t=we;var r=Lt;t:switch(Oe){case 1:Oe=0,Lt=null,Dn(e,t,r,1);break;case 2:case 9:if(dd(r)){Oe=0,Lt=null,tp(t);break}t=function(){Oe!==2&&Oe!==9||je!==e||(Oe=7),oa(e)},r.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:dd(r)?(Oe=0,Lt=null,tp(t)):(Oe=0,Lt=null,Dn(e,t,r,7));break;case 5:var h=null;switch(we.tag){case 26:h=we.memoizedState;case 5:case 27:var T=we;if(!h||jp(h)){Oe=0,Lt=null;var z=T.sibling;if(z!==null)we=z;else{var Y=T.return;Y!==null?(we=Y,ic(Y)):we=null}break t}}Oe=0,Lt=null,Dn(e,t,r,5);break;case 6:Oe=0,Lt=null,Dn(e,t,r,6);break;case 8:wl(),Ve=6;break e;default:throw Error(l(462))}}Zg();break}catch(K){Jf(e,K)}while(!0);return _a=Oi=null,N.H=i,N.A=n,Me=a,we!==null?0:(je=null,Ee=0,Ts(),Ve)}function Zg(){for(;we!==null&&!La();)ep(we)}function ep(e){var t=Df(e.alternate,e,Da);e.memoizedProps=e.pendingProps,t===null?ic(e):we=t}function tp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Sf(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Sf(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Po(t);default:Mf(a,t),t=we=td(t,Da),t=Df(a,t,Da)}e.memoizedProps=e.pendingProps,t===null?ic(e):we=t}function Dn(e,t,a,i){_a=Oi=null,Po(t),yn=null,Sr=0;var n=t.return;try{if(jg(e,n,t,a,Ee)){Ve=1,Is(e,Ut(a,e.current)),we=null;return}}catch(r){if(n!==null)throw we=n,r;Ve=1,Is(e,Ut(a,e.current)),we=null;return}t.flags&32768?(De||i===1?e=!0:wn||(Ee&536870912)!==0?e=!1:(Ja=e=!0,(i===2||i===9||i===3||i===6)&&(i=Bt.current,i!==null&&i.tag===13&&(i.flags|=16384))),ap(t,e)):ic(t)}function ic(e){var t=e;do{if((t.flags&32768)!==0){ap(t,Ja);return}e=t.return;var a=qg(t.alternate,t,Da);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ve===0&&(Ve=5)}function ap(e,t){do{var a=Pg(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Ve=6,we=null}function ip(e,t,a,i,n,r,h,T,z){e.cancelPendingCommit=null;do nc();while(ot!==0);if((Me&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(r=t.lanes|t.childLanes,r|=ho,Xn(e,a,r,h,T,z),e===je&&(we=je=null,Ee=0),Tn=t,ei=e,En=a,_l=r,bl=n,Zf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jg(di,function(){return op(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=N.T,N.T=null,n=X.p,X.p=2,h=Me,Me|=4;try{Hg(e,t,a)}finally{Me=h,X.p=n,N.T=i}}ot=1,np(),rp(),sp()}}function np(){if(ot===1){ot=0;var e=ei,t=Tn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var i=X.p;X.p=2;var n=Me;Me|=4;try{Hf(t,e);var r=jl,h=Qu(e.containerInfo),T=r.focusedElem,z=r.selectionRange;if(h!==T&&T&&T.ownerDocument&&Gu(T.ownerDocument.documentElement,T)){if(z!==null&&oo(T)){var Y=z.start,K=z.end;if(K===void 0&&(K=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(K,T.value.length);else{var W=T.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var Q=G.getSelection(),he=T.textContent.length,fe=Math.min(z.start,he),ke=z.end===void 0?fe:Math.min(z.end,he);!Q.extend&&fe>ke&&(h=ke,ke=fe,fe=h);var B=Yu(T,fe),P=Yu(T,ke);if(B&&P&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var V=W.createRange();V.setStart(B.node,B.offset),Q.removeAllRanges(),fe>ke?(Q.addRange(V),Q.extend(P.node,P.offset)):(V.setEnd(P.node,P.offset),Q.addRange(V))}}}}for(W=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}gc=!!zl,jl=zl=null}finally{Me=n,X.p=i,N.T=a}}e.current=t,ot=2}}function rp(){if(ot===2){ot=0;var e=ei,t=Tn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var i=X.p;X.p=2;var n=Me;Me|=4;try{jf(e,t.alternate,t)}finally{Me=n,X.p=i,N.T=a}}ot=3}}function sp(){if(ot===4||ot===3){ot=0,ms();var e=ei,t=Tn,a=En,i=Zf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,Tn=ei=null,cp(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Wa=null),In(a),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ka,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=N.T,n=X.p,X.p=2,N.T=null;try{for(var r=e.onRecoverableError,h=0;h<i.length;h++){var T=i[h];r(T.value,{componentStack:T.stack})}}finally{N.T=t,X.p=n}}(En&3)!==0&&nc(),oa(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===Sl?Or++:(Or=0,Sl=e):Or=0,Ar(0)}}function cp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ur(t)))}function nc(e){return np(),rp(),sp(),op()}function op(){if(ot!==5)return!1;var e=ei,t=_l;_l=0;var a=In(En),i=N.T,n=X.p;try{X.p=32>a?32:a,N.T=null,a=bl,bl=null;var r=ei,h=En;if(ot=0,Tn=ei=null,En=0,(Me&6)!==0)throw Error(l(331));var T=Me;if(Me|=4,Qf(r.current),Vf(r,r.current,h,a),Me=T,Ar(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ka,r)}catch{}return!0}finally{X.p=n,N.T=i,cp(e,t)}}function lp(e,t,a){t=Ut(a,t),t=Wo(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(Zt(e,2),oa(e))}function Ne(e,t,a){if(e.tag===3)lp(e,e,a);else for(;t!==null;){if(t.tag===3){lp(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wa===null||!Wa.has(i))){e=Ut(a,e),a=pf(2),i=Ga(t,a,2),i!==null&&(hf(a,i,t,e),Zt(i,2),oa(i));break}}t=t.return}}function El(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Yg;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(a)||(ml=!0,n.add(a),e=Ig.bind(null,e,t,a),t.then(e,e))}function Ig(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,je===e&&(Ee&a)===a&&(Ve===4||Ve===3&&(Ee&62914560)===Ee&&300>Et()-yl?(Me&2)===0&&Cn(e,0):gl|=a,Rn===Ee&&(Rn=0)),oa(e)}function up(e,t){t===0&&(t=Qn()),e=on(e,t),e!==null&&(Zt(e,t),oa(e))}function Kg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),up(e,a)}function Fg(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),up(e,a)}function Jg(e,t){return Xi(e,t)}var rc=null,xn=null,Cl=!1,sc=!1,Dl=!1,Ui=0;function oa(e){e!==xn&&e.next===null&&(xn===null?rc=xn=e:xn=xn.next=e),sc=!0,Cl||(Cl=!0,Wg())}function Ar(e,t){if(!Dl&&sc){Dl=!0;do for(var a=!1,i=rc;i!==null;){if(e!==0){var n=i.pendingLanes;if(n===0)var r=0;else{var h=i.suspendedLanes,T=i.pingedLanes;r=(1<<31-ut(42|e)+1)-1,r&=n&~(h&~T),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,hp(i,r))}else r=Ee,r=da(i,i===je?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(r&3)===0||Xt(i,r)||(a=!0,hp(i,r));i=i.next}while(a);Dl=!1}}function $g(){dp()}function dp(){sc=Cl=!1;var e=0;Ui!==0&&(cv()&&(e=Ui),Ui=0);for(var t=Et(),a=null,i=rc;i!==null;){var n=i.next,r=fp(i,t);r===0?(i.next=null,a===null?rc=n:a.next=n,n===null&&(xn=a)):(a=i,(e!==0||(r&3)!==0)&&(sc=!0)),i=n}Ar(e)}function fp(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var h=31-ut(r),T=1<<h,z=n[h];z===-1?((T&a)===0||(T&i)!==0)&&(n[h]=mi(T,t)):z<=t&&(e.expiredLanes|=T),r&=~T}if(t=je,a=Ee,a=da(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Aa(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Aa(i),In(a)){case 2:case 8:a=Zi;break;case 32:a=di;break;case 268435456:a=Ki;break;default:a=di}return i=pp.bind(null,e),a=Xi(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Aa(i),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nc()&&e.callbackNode!==a)return null;var i=Ee;return i=da(e,e===je?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Kf(e,i,t),fp(e,Et()),e.callbackNode!=null&&e.callbackNode===a?pp.bind(null,e):null)}function hp(e,t){if(nc())return null;Kf(e,t,!0)}function Wg(){lv(function(){(Me&6)!==0?Xi(Hn,$g):dp()})}function xl(){return Ui===0&&(Ui=Fi()),Ui}function mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vs(""+e)}function gp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ev(e,t,a,i,n){if(t==="submit"&&a&&a.stateNode===n){var r=mp((n[$e]||null).action),h=i.submitter;h&&(t=(t=h[$e]||null)?mp(t.formAction):h.getAttribute("formAction"),t!==null&&(r=t,h=null));var T=new Ss("action","action",null,i,n);e.push({event:T,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ui!==0){var z=h?gp(n,h):new FormData(n);Io(a,{pending:!0,data:z,method:n.method,action:r},null,z)}}else typeof r=="function"&&(T.preventDefault(),z=h?gp(n,h):new FormData(n),Io(a,{pending:!0,data:z,method:n.method,action:r},r,z))},currentTarget:n}]})}}for(var Ml=0;Ml<po.length;Ml++){var Ol=po[Ml],tv=Ol.toLowerCase(),av=Ol[0].toUpperCase()+Ol.slice(1);Kt(tv,"on"+av)}Kt(Iu,"onAnimationEnd"),Kt(Ku,"onAnimationIteration"),Kt(Fu,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(_g,"onTransitionRun"),Kt(bg,"onTransitionStart"),Kt(Sg,"onTransitionCancel"),Kt(Ju,"onTransitionEnd"),pa("onMouseEnter",["mouseout","mouseover"]),pa("onMouseLeave",["mouseout","mouseover"]),pa("onPointerEnter",["pointerout","pointerover"]),pa("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lr));function vp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],n=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var h=i.length-1;0<=h;h--){var T=i[h],z=T.instance,Y=T.currentTarget;if(T=T.listener,z!==r&&n.isPropagationStopped())break e;r=T,n.currentTarget=Y;try{r(n)}catch(K){Zs(K)}n.currentTarget=null,r=z}else for(h=0;h<i.length;h++){if(T=i[h],z=T.instance,Y=T.currentTarget,T=T.listener,z!==r&&n.isPropagationStopped())break e;r=T,n.currentTarget=Y;try{r(n)}catch(K){Zs(K)}n.currentTarget=null,r=z}}}}function Re(e,t){var a=t[vi];a===void 0&&(a=t[vi]=new Set);var i=e+"__bubble";a.has(i)||(yp(t,e,2,!1),a.add(i))}function Al(e,t,a){var i=0;t&&(i|=4),yp(a,e,i,t)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[cc]){e[cc]=!0,_i.forEach(function(a){a!=="selectionchange"&&(iv.has(a)||Al(a,!1,e),Al(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cc]||(t[cc]=!0,Al("selectionchange",!1,t))}}function yp(e,t,a,i){switch(Vp(t)){case 2:var n=Ov;break;case 8:n=Av;break;default:n=Xl}a=n.bind(null,t,a,e),n=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function kl(e,t,a,i,n){var r=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var T=i.stateNode.containerInfo;if(T===n)break;if(h===4)for(h=i.return;h!==null;){var z=h.tag;if((z===3||z===4)&&h.stateNode.containerInfo===n)return;h=h.return}for(;T!==null;){if(h=st(T),h===null)return;if(z=h.tag,z===5||z===6||z===26||z===27){i=r=h;continue e}T=T.parentNode}}i=i.return}Tu(function(){var Y=r,K=Jc(a),W=[];e:{var G=$u.get(e);if(G!==void 0){var Q=Ss,he=e;switch(e){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":Q=Jm;break;case"focusin":he="focus",Q=io;break;case"focusout":he="blur",Q=io;break;case"beforeblur":case"afterblur":Q=io;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=eg;break;case Iu:case Ku:case Fu:Q=Vm;break;case Ju:Q=ag;break;case"scroll":case"scrollend":Q=Um;break;case"wheel":Q=ng;break;case"copy":case"cut":case"paste":Q=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Mu;break;case"toggle":case"beforetoggle":Q=sg}var fe=(t&4)!==0,ke=!fe&&(e==="scroll"||e==="scrollend"),B=fe?G!==null?G+"Capture":null:G;fe=[];for(var P=Y,V;P!==null;){var J=P;if(V=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||V===null||B===null||(J=Jn(P,B),J!=null&&fe.push(kr(P,J,V))),ke)break;P=P.return}0<fe.length&&(G=new Q(G,he,null,a,K),W.push({event:G,listeners:fe}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&a!==Fc&&(he=a.relatedTarget||a.fromElement)&&(st(he)||he[ft]))break e;if((Q||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=Y,he=he?st(he):null,he!==null&&(ke=b(he),fe=he.tag,he!==ke||fe!==5&&fe!==27&&fe!==6)&&(he=null)):(Q=null,he=Y),Q!==he)){if(fe=Du,J="onMouseLeave",B="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Mu,J="onPointerLeave",B="onPointerEnter",P="pointer"),ke=Q==null?G:ja(Q),V=he==null?G:ja(he),G=new fe(J,P+"leave",Q,a,K),G.target=ke,G.relatedTarget=V,J=null,st(K)===Y&&(fe=new fe(B,P+"enter",he,a,K),fe.target=V,fe.relatedTarget=ke,J=fe),ke=J,Q&&he)t:{for(fe=Q,B=he,P=0,V=fe;V;V=Mn(V))P++;for(V=0,J=B;J;J=Mn(J))V++;for(;0<P-V;)fe=Mn(fe),P--;for(;0<V-P;)B=Mn(B),V--;for(;P--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=Mn(fe),B=Mn(B)}fe=null}else fe=null;Q!==null&&_p(W,G,Q,fe,!1),he!==null&&ke!==null&&_p(W,ke,he,fe,!0)}}e:{if(G=Y?ja(Y):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ce=Uu;else if(zu(G))if(qu)ce=gg;else{ce=hg;var be=pg}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?Y&&Kc(Y.elementType)&&(ce=Uu):ce=mg;if(ce&&(ce=ce(e,Y))){ju(W,ce,a,K);break e}be&&be(e,G,Y),e==="focusout"&&Y&&G.type==="number"&&Y.memoizedProps.value!=null&&Ic(G,"number",G.value)}switch(be=Y?ja(Y):window,e){case"focusin":(zu(be)||be.contentEditable==="true")&&(rn=be,lo=Y,rr=null);break;case"focusout":rr=lo=rn=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,Xu(W,a,K);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":Xu(W,a,K)}var le;if(ro)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else nn?ku(e,a)&&(pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Ou&&a.locale!=="ko"&&(nn||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&nn&&(le=Eu()):(Ha=K,eo="value"in Ha?Ha.value:Ha.textContent,nn=!0)),be=oc(Y,pe),0<be.length&&(pe=new xu(pe,e,null,a,K),W.push({event:pe,listeners:be}),le?pe.data=le:(le=Nu(a),le!==null&&(pe.data=le)))),(le=og?lg(e,a):ug(e,a))&&(pe=oc(Y,"onBeforeInput"),0<pe.length&&(be=new xu("onBeforeInput","beforeinput",null,a,K),W.push({event:be,listeners:pe}),be.data=le)),ev(W,e,Y,a,K)}vp(W,t)})}function kr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function oc(e,t){for(var a=t+"Capture",i=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=Jn(e,a),n!=null&&i.unshift(kr(e,n,r)),n=Jn(e,t),n!=null&&i.push(kr(e,n,r))),e.tag===3)return i;e=e.return}return[]}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _p(e,t,a,i,n){for(var r=t._reactName,h=[];a!==null&&a!==i;){var T=a,z=T.alternate,Y=T.stateNode;if(T=T.tag,z!==null&&z===i)break;T!==5&&T!==26&&T!==27||Y===null||(z=Y,n?(Y=Jn(a,r),Y!=null&&h.unshift(kr(a,Y,z))):n||(Y=Jn(a,r),Y!=null&&h.push(kr(a,Y,z)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var nv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function bp(e){return(typeof e=="string"?e:""+e).replace(nv,`
`).replace(rv,"")}function Sp(e,t){return t=bp(t),bp(e)===t}function lc(){}function Le(e,t,a,i,n,r){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||en(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&en(e,""+i);break;case"className":se(e,"class",i);break;case"tabIndex":se(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":se(e,a,i);break;case"style":wu(e,i,r);break;case"data":if(t!=="object"){se(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=vs(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Le(e,t,"name",n.name,n,null),Le(e,t,"formEncType",n.formEncType,n,null),Le(e,t,"formMethod",n.formMethod,n,null),Le(e,t,"formTarget",n.formTarget,n,null)):(Le(e,t,"encType",n.encType,n,null),Le(e,t,"method",n.method,n,null),Le(e,t,"target",n.target,n,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=vs(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=lc);break;case"onScroll":i!=null&&Re("scroll",e);break;case"onScrollEnd":i!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(n.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=vs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Re("beforetoggle",e),Re("toggle",e),re(e,"popover",i);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":re(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zm.get(a)||a,re(e,a,i))}}function Nl(e,t,a,i,n,r){switch(a){case"style":wu(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(n.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?en(e,i):(typeof i=="number"||typeof i=="bigint")&&en(e,""+i);break;case"onScroll":i!=null&&Re("scroll",e);break;case"onScrollEnd":i!=null&&Re("scrollend",e);break;case"onClick":i!=null&&(e.onclick=lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[$e]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof i=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,n);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):re(e,a,i)}}}function lt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var i=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var h=a[r];if(h!=null)switch(r){case"src":i=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,r,h,a,null)}}n&&Le(e,t,"srcSet",a.srcSet,a,null),i&&Le(e,t,"src",a.src,a,null);return;case"input":Re("invalid",e);var T=r=h=n=null,z=null,Y=null;for(i in a)if(a.hasOwnProperty(i)){var K=a[i];if(K!=null)switch(i){case"name":n=K;break;case"type":h=K;break;case"checked":z=K;break;case"defaultChecked":Y=K;break;case"value":r=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,t));break;default:Le(e,t,i,K,a,null)}}yu(e,r,T,z,Y,h,n,!1),Si(e);return;case"select":Re("invalid",e),i=h=r=null;for(n in a)if(a.hasOwnProperty(n)&&(T=a[n],T!=null))switch(n){case"value":r=T;break;case"defaultValue":h=T;break;case"multiple":i=T;default:Le(e,t,n,T,a,null)}t=r,a=h,e.multiple=!!i,t!=null?Wi(e,!!i,t,!1):a!=null&&Wi(e,!!i,a,!0);return;case"textarea":Re("invalid",e),r=n=i=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":i=T;break;case"defaultValue":n=T;break;case"children":r=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:Le(e,t,h,T,a,null)}bu(e,i,n,r),Si(e);return;case"option":for(z in a)if(a.hasOwnProperty(z)&&(i=a[z],i!=null))switch(z){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Le(e,t,z,i,a,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Re(Lr[i],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(i=a[Y],i!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,Y,i,a,null)}return;default:if(Kc(t)){for(K in a)a.hasOwnProperty(K)&&(i=a[K],i!==void 0&&Nl(e,t,K,i,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(i=a[T],i!=null&&Le(e,t,T,i,a,null))}function sv(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,h=null,T=null,z=null,Y=null,K=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":z=W;default:i.hasOwnProperty(Q)||Le(e,t,Q,null,i,W)}}for(var G in i){var Q=i[G];if(W=a[G],i.hasOwnProperty(G)&&(Q!=null||W!=null))switch(G){case"type":r=Q;break;case"name":n=Q;break;case"checked":Y=Q;break;case"defaultChecked":K=Q;break;case"value":h=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,t));break;default:Q!==W&&Le(e,t,G,Q,i,W)}}Fn(e,h,T,z,Y,K,r,n);return;case"select":Q=h=T=G=null;for(r in a)if(z=a[r],a.hasOwnProperty(r)&&z!=null)switch(r){case"value":break;case"multiple":Q=z;default:i.hasOwnProperty(r)||Le(e,t,r,null,i,z)}for(n in i)if(r=i[n],z=a[n],i.hasOwnProperty(n)&&(r!=null||z!=null))switch(n){case"value":G=r;break;case"defaultValue":T=r;break;case"multiple":h=r;default:r!==z&&Le(e,t,n,r,i,z)}t=T,a=h,i=Q,G!=null?Wi(e,!!a,G,!1):!!i!=!!a&&(t!=null?Wi(e,!!a,t,!0):Wi(e,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(T in a)if(n=a[T],a.hasOwnProperty(T)&&n!=null&&!i.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Le(e,t,T,null,i,n)}for(h in i)if(n=i[h],r=a[h],i.hasOwnProperty(h)&&(n!=null||r!=null))switch(h){case"value":G=n;break;case"defaultValue":Q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(l(91));break;default:n!==r&&Le(e,t,h,n,i,r)}_u(e,G,Q);return;case"option":for(var he in a)if(G=a[he],a.hasOwnProperty(he)&&G!=null&&!i.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Le(e,t,he,null,i,G)}for(z in i)if(G=i[z],Q=a[z],i.hasOwnProperty(z)&&G!==Q&&(G!=null||Q!=null))switch(z){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Le(e,t,z,G,i,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!i.hasOwnProperty(fe)&&Le(e,t,fe,null,i,G);for(Y in i)if(G=i[Y],Q=a[Y],i.hasOwnProperty(Y)&&G!==Q&&(G!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,t));break;default:Le(e,t,Y,G,i,Q)}return;default:if(Kc(t)){for(var ke in a)G=a[ke],a.hasOwnProperty(ke)&&G!==void 0&&!i.hasOwnProperty(ke)&&Nl(e,t,ke,void 0,i,G);for(K in i)G=i[K],Q=a[K],!i.hasOwnProperty(K)||G===Q||G===void 0&&Q===void 0||Nl(e,t,K,G,i,Q);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!i.hasOwnProperty(B)&&Le(e,t,B,null,i,G);for(W in i)G=i[W],Q=a[W],!i.hasOwnProperty(W)||G===Q||G==null&&Q==null||Le(e,t,W,G,i,Q)}var zl=null,jl=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=null;function cv(){var e=window.event;return e&&e.type==="popstate"?e===ql?!1:(ql=e,!0):(ql=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(uv)}:Tp;function uv(e){setTimeout(function(){throw e})}function ai(e){return e==="head"}function Cp(e,t){var a=t,i=0,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<i&&8>i){a=i;var h=e.ownerDocument;if(a&1&&Nr(h.documentElement),a&2&&Nr(h.body),a&4)for(a=h.head,Nr(a),h=a.firstChild;h;){var T=h.nextSibling,z=h.nodeName;h[aa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=T}}if(n===0){e.removeChild(r),Vr(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:i=a.charCodeAt(0)-48;else i=0;a=r}while(a);Vr(t)}function Pl(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pl(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dv(e,t,a,i){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[aa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function fv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function Hl(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function pv(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Bl=null;function Dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function xp(e,t,a){switch(t=uc(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Nr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yi(e)}var Yt=new Map,Mp=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=X.d;X.d={f:hv,r:mv,D:gv,C:vv,L:yv,m:_v,X:Sv,S:bv,M:wv};function hv(){var e=xa.f(),t=ac();return e||t}function mv(e){var t=fa(e);t!==null&&t.tag===5&&t.type==="form"?Id(t):xa.r(e)}var On=typeof document>"u"?null:document;function Op(e,t,a){var i=On;if(i&&typeof t=="string"&&t){var n=We(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Mp.has(n)||(Mp.add(n),e={rel:e,crossOrigin:a,href:t},i.querySelector(n)===null&&(t=i.createElement("link"),lt(t,"link",e),Ye(t),i.head.appendChild(t)))}}function gv(e){xa.D(e),Op("dns-prefetch",e,null)}function vv(e,t){xa.C(e,t),Op("preconnect",e,t)}function yv(e,t,a){xa.L(e,t,a);var i=On;if(i&&e&&t){var n='link[rel="preload"][as="'+We(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+We(a.imageSizes)+'"]')):n+='[href="'+We(e)+'"]';var r=n;switch(t){case"style":r=An(e);break;case"script":r=Ln(e)}Yt.has(r)||(e=R({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(r,e),i.querySelector(n)!==null||t==="style"&&i.querySelector(zr(r))||t==="script"&&i.querySelector(jr(r))||(t=i.createElement("link"),lt(t,"link",e),Ye(t),i.head.appendChild(t)))}}function _v(e,t){xa.m(e,t);var a=On;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+We(i)+'"][href="'+We(e)+'"]',r=n;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ln(e)}if(!Yt.has(r)&&(e=R({rel:"modulepreload",href:e},t),Yt.set(r,e),a.querySelector(n)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jr(r)))return}i=a.createElement("link"),lt(i,"link",e),Ye(i),a.head.appendChild(i)}}}function bv(e,t,a){xa.S(e,t,a);var i=On;if(i&&e){var n=Ua(i).hoistableStyles,r=An(e);t=t||"default";var h=n.get(r);if(!h){var T={loading:0,preload:null};if(h=i.querySelector(zr(r)))T.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(r))&&Vl(e,a);var z=h=i.createElement("link");Ye(z),lt(z,"link",e),z._p=new Promise(function(Y,K){z.onload=Y,z.onerror=K}),z.addEventListener("load",function(){T.loading|=1}),z.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:T},n.set(r,h)}}}function Sv(e,t){xa.X(e,t);var a=On;if(a&&e){var i=Ua(a).hoistableScripts,n=Ln(e),r=i.get(n);r||(r=a.querySelector(jr(n)),r||(e=R({src:e,async:!0},t),(t=Yt.get(n))&&Yl(e,t),r=a.createElement("script"),Ye(r),lt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(n,r))}}function wv(e,t){xa.M(e,t);var a=On;if(a&&e){var i=Ua(a).hoistableScripts,n=Ln(e),r=i.get(n);r||(r=a.querySelector(jr(n)),r||(e=R({src:e,async:!0,type:"module"},t),(t=Yt.get(n))&&Yl(e,t),r=a.createElement("script"),Ye(r),lt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(n,r))}}function Ap(e,t,a,i){var n=(n=me.current)?dc(n):null;if(!n)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=An(a.href),a=Ua(n).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=An(a.href);var r=Ua(n).hoistableStyles,h=r.get(e);if(h||(n=n.ownerDocument||n,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,h),(r=n.querySelector(zr(e)))&&!r._p&&(h.instance=r,h.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),r||Rv(n,e,a,h.state))),t&&i===null)throw Error(l(528,""));return h}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ln(a),a=Ua(n).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function An(e){return'href="'+We(e)+'"'}function zr(e){return'link[rel="stylesheet"]['+e+"]"}function Lp(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Rv(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),lt(t,"link",a),Ye(t),e.head.appendChild(t))}function Ln(e){return'[src="'+We(e)+'"]'}function jr(e){return"script[async]"+e}function kp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+We(a.href)+'"]');if(i)return t.instance=i,Ye(i),i;var n=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ye(i),lt(i,"style",n),fc(i,a.precedence,e),t.instance=i;case"stylesheet":n=An(a.href);var r=e.querySelector(zr(n));if(r)return t.state.loading|=4,t.instance=r,Ye(r),r;i=Lp(a),(n=Yt.get(n))&&Vl(i,n),r=(e.ownerDocument||e).createElement("link"),Ye(r);var h=r;return h._p=new Promise(function(T,z){h.onload=T,h.onerror=z}),lt(r,"link",i),t.state.loading|=4,fc(r,a.precedence,e),t.instance=r;case"script":return r=Ln(a.src),(n=e.querySelector(jr(r)))?(t.instance=n,Ye(n),n):(i=a,(n=Yt.get(r))&&(i=R({},a),Yl(i,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ye(n),lt(n,"link",i),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,fc(i,a.precedence,e));return t.instance}function fc(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=i.length?i[i.length-1]:null,r=n,h=0;h<i.length;h++){var T=i[h];if(T.dataset.precedence===t)r=T;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Vl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pc=null;function Np(e,t,a){if(pc===null){var i=new Map,n=pc=new Map;n.set(a,i)}else n=pc,i=n.get(a),i||(i=new Map,n.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[aa]||r[Pe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var h=r.getAttribute(t)||"";h=e+h;var T=i.get(h);T?T.push(r):i.set(h,[r])}}return i}function zp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Tv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ur=null;function Ev(){}function Cv(e,t,a){if(Ur===null)throw Error(l(475));var i=Ur;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=An(a.href),r=e.querySelector(zr(n));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=hc.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,Ye(r);return}r=e.ownerDocument||e,a=Lp(a),(n=Yt.get(n))&&Vl(a,n),r=r.createElement("link"),Ye(r);var h=r;h._p=new Promise(function(T,z){h.onload=T,h.onerror=z}),lt(r,"link",a),t.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=hc.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Dv(){if(Ur===null)throw Error(l(475));var e=Ur;return e.stylesheets&&e.count===0&&Gl(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Gl(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)Gl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function Gl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,t.forEach(xv,e),mc=null,hc.call(e))}function xv(e,t){if(!(t.state.loading&4)){var a=mc.get(e);if(a)var i=a.get(null);else{a=new Map,mc.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var h=n[r];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),i=h)}i&&a.set(null,i)}n=t.instance,h=n.getAttribute("data-precedence"),r=a.get(h)||i,r===i&&a.set(null,n),a.set(h,n),this.count++,i=hc.bind(this),n.addEventListener("load",i),n.addEventListener("error",i),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var qr={$$typeof:u,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Mv(e,t,a,i,n,r,h,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=i,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Up(e,t,a,i,n,r,h,T,z,Y,K,W){return e=new Mv(e,t,a,h,T,z,Y,W),t=1,r===!0&&(t|=24),r=Mt(3,null,null,t),e.current=r,r.stateNode=e,t=Eo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:a,cache:t},Mo(r),e}function qp(e){return e?(e=ln,e):ln}function Pp(e,t,a,i,n,r){n=qp(n),i.context===null?i.context=n:i.pendingContext=n,i=Ya(t),i.payload={element:a},r=r===void 0?null:r,r!==null&&(i.callback=r),a=Ga(e,i,t),a!==null&&(Nt(a,e,t),hr(a,e,t))}function Hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ql(e,t){Hp(e,t),(e=e.alternate)&&Hp(e,t)}function Bp(e){if(e.tag===13){var t=on(e,67108864);t!==null&&Nt(t,e,67108864),Ql(e,67108864)}}var gc=!0;function Ov(e,t,a,i){var n=N.T;N.T=null;var r=X.p;try{X.p=2,Xl(e,t,a,i)}finally{X.p=r,N.T=n}}function Av(e,t,a,i){var n=N.T;N.T=null;var r=X.p;try{X.p=8,Xl(e,t,a,i)}finally{X.p=r,N.T=n}}function Xl(e,t,a,i){if(gc){var n=Zl(i);if(n===null)kl(e,t,i,vc,a),Yp(e,i);else if(kv(n,e,t,a,i))i.stopPropagation();else if(Yp(e,i),t&4&&-1<Lv.indexOf(e)){for(;n!==null;){var r=fa(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var h=dt(r.pendingLanes);if(h!==0){var T=r;for(T.pendingLanes|=2,T.entangledLanes|=2;h;){var z=1<<31-ut(h);T.entanglements[1]|=z,h&=~z}oa(r),(Me&6)===0&&(ec=Et()+500,Ar(0))}}break;case 13:T=on(r,2),T!==null&&Nt(T,r,2),ac(),Ql(r,2)}if(r=Zl(i),r===null&&kl(e,t,i,vc,a),r===n)break;n=r}n!==null&&i.stopPropagation()}else kl(e,t,i,null,a)}}function Zl(e){return e=Jc(e),Il(e)}var vc=null;function Il(e){if(vc=null,e=st(e),e!==null){var t=b(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=v(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vc=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case Hn:return 2;case Zi:return 8;case di:case Ii:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var Kl=!1,ii=null,ni=null,ri=null,Pr=new Map,Hr=new Map,si=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yp(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function Br(e,t,a,i,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:r,targetContainers:[n]},t!==null&&(t=fa(t),t!==null&&Bp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function kv(e,t,a,i,n){switch(t){case"focusin":return ii=Br(ii,e,t,a,i,n),!0;case"dragenter":return ni=Br(ni,e,t,a,i,n),!0;case"mouseover":return ri=Br(ri,e,t,a,i,n),!0;case"pointerover":var r=n.pointerId;return Pr.set(r,Br(Pr.get(r)||null,e,t,a,i,n)),!0;case"gotpointercapture":return r=n.pointerId,Hr.set(r,Br(Hr.get(r)||null,e,t,a,i,n)),!0}return!1}function Gp(e){var t=st(e.target);if(t!==null){var a=b(t);if(a!==null){if(t=a.tag,t===13){if(t=v(a),t!==null){e.blockedOn=t,Kn(e.priority,function(){if(a.tag===13){var i=kt();i=zt(i);var n=on(a,i);n!==null&&Nt(n,a,i),Ql(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Zl(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Fc=i,a.target.dispatchEvent(i),Fc=null}else return t=fa(a),t!==null&&Bp(t),e.blockedOn=a,!1;t.shift()}return!0}function Qp(e,t,a){yc(e)&&a.delete(t)}function Nv(){Kl=!1,ii!==null&&yc(ii)&&(ii=null),ni!==null&&yc(ni)&&(ni=null),ri!==null&&yc(ri)&&(ri=null),Pr.forEach(Qp),Hr.forEach(Qp)}function _c(e,t){e.blockedOn===t&&(e.blockedOn=null,Kl||(Kl=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,Nv)))}var bc=null;function Xp(e){bc!==e&&(bc=e,_.unstable_scheduleCallback(_.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],n=e[t+2];if(typeof i!="function"){if(Il(i||a)===null)continue;break}var r=fa(a);r!==null&&(e.splice(t,3),t-=3,Io(r,{pending:!0,data:n,method:a.method,action:i},i,n))}}))}function Vr(e){function t(z){return _c(z,e)}ii!==null&&_c(ii,e),ni!==null&&_c(ni,e),ri!==null&&_c(ri,e),Pr.forEach(t),Hr.forEach(t);for(var a=0;a<si.length;a++){var i=si[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<si.length&&(a=si[0],a.blockedOn===null);)Gp(a),a.blockedOn===null&&si.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var n=a[i],r=a[i+1],h=n[$e]||null;if(typeof r=="function")h||Xp(a);else if(h){var T=null;if(r&&r.hasAttribute("formAction")){if(n=r,h=r[$e]||null)T=h.formAction;else if(Il(n)!==null)continue}else T=h.action;typeof T=="function"?a[i+1]=T:(a.splice(i,3),i-=3),Xp(a)}}}function Fl(e){this._internalRoot=e}Sc.prototype.render=Fl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=kt();Pp(a,i,e,t,null,null)},Sc.prototype.unmount=Fl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pp(e.current,2,null,e,null,null),ac(),t[ft]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=gi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<si.length&&t!==0&&t<si[a].priority;a++);si.splice(a,0,e),a===0&&Gp(e)}};var Zp=L.version;if(Zp!=="19.1.0")throw Error(l(527,Zp,"19.1.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=O(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var zv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{ka=wc.inject(zv),nt=wc}catch{}}return Gr.createRoot=function(e,t){if(!A(e))throw Error(l(299));var a=!1,i="",n=lf,r=uf,h=df,T=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(T=t.unstable_transitionCallbacks)),t=Up(e,1,!1,null,null,a,i,n,r,h,T,null),e[ft]=t.current,Ll(e),new Fl(t)},Gr.hydrateRoot=function(e,t,a){if(!A(e))throw Error(l(299));var i=!1,n="",r=lf,h=uf,T=df,z=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),t=Up(e,1,!0,t,a??null,i,n,r,h,T,z,Y),t.context=qp(null),a=t.current,i=kt(),i=zt(i),n=Ya(i),n.callback=null,Ga(a,n,i),a=i,t.current.lanes=a,Zt(t,a),oa(t),e[ft]=t.current,Ll(e),new Sc(t)},Gr.version="19.1.0",Gr}var ih;function Qv(){if(ih)return Wl.exports;ih=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(L){console.error(L)}}return _(),Wl.exports=Gv(),Wl.exports}var Xv=Qv(),iu={},Rc={exports:{}},nu,nh;function Zv(){if(nh)return nu;nh=1;var _=1e3,L=_*60,D=L*60,l=D*24,A=l*7,b=l*365.25;nu=function(R,o){o=o||{};var m=typeof R;if(m==="string"&&R.length>0)return v(R);if(m==="number"&&isFinite(R))return o.long?O(R):S(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))};function v(R){if(R=String(R),!(R.length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(o){var m=parseFloat(o[1]),j=(o[2]||"ms").toLowerCase();switch(j){case"years":case"year":case"yrs":case"yr":case"y":return m*b;case"weeks":case"week":case"w":return m*A;case"days":case"day":case"d":return m*l;case"hours":case"hour":case"hrs":case"hr":case"h":return m*D;case"minutes":case"minute":case"mins":case"min":case"m":return m*L;case"seconds":case"second":case"secs":case"sec":case"s":return m*_;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function S(R){var o=Math.abs(R);return o>=l?Math.round(R/l)+"d":o>=D?Math.round(R/D)+"h":o>=L?Math.round(R/L)+"m":o>=_?Math.round(R/_)+"s":R+"ms"}function O(R){var o=Math.abs(R);return o>=l?E(R,o,l,"day"):o>=D?E(R,o,D,"hour"):o>=L?E(R,o,L,"minute"):o>=_?E(R,o,_,"second"):R+" ms"}function E(R,o,m,j){var k=o>=m*1.5;return Math.round(R/m)+" "+j+(k?"s":"")}return nu}var ru,rh;function Iv(){if(rh)return ru;rh=1;function _(L){l.debug=l,l.default=l,l.coerce=E,l.disable=S,l.enable=b,l.enabled=O,l.humanize=Zv(),l.destroy=R,Object.keys(L).forEach(o=>{l[o]=L[o]}),l.names=[],l.skips=[],l.formatters={};function D(o){let m=0;for(let j=0;j<o.length;j++)m=(m<<5)-m+o.charCodeAt(j),m|=0;return l.colors[Math.abs(m)%l.colors.length]}l.selectColor=D;function l(o){let m,j=null,k,C;function s(...c){if(!s.enabled)return;const f=s,u=Number(new Date),d=u-(m||u);f.diff=d,f.prev=m,f.curr=u,m=u,c[0]=l.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");let p=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,(g,x)=>{if(g==="%%")return"%";p++;const w=l.formatters[x];if(typeof w=="function"){const q=c[p];g=w.call(f,q),c.splice(p,1),p--}return g}),l.formatArgs.call(f,c),(f.log||l.log).apply(f,c)}return s.namespace=o,s.useColors=l.useColors(),s.color=l.selectColor(o),s.extend=A,s.destroy=l.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>j!==null?j:(k!==l.namespaces&&(k=l.namespaces,C=l.enabled(o)),C),set:c=>{j=c}}),typeof l.init=="function"&&l.init(s),s}function A(o,m){const j=l(this.namespace+(typeof m>"u"?":":m)+o);return j.log=this.log,j}function b(o){l.save(o),l.namespaces=o,l.names=[],l.skips=[];const m=(typeof o=="string"?o:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const j of m)j[0]==="-"?l.skips.push(j.slice(1)):l.names.push(j)}function v(o,m){let j=0,k=0,C=-1,s=0;for(;j<o.length;)if(k<m.length&&(m[k]===o[j]||m[k]==="*"))m[k]==="*"?(C=k,s=j,k++):(j++,k++);else if(C!==-1)k=C+1,s++,j=s;else return!1;for(;k<m.length&&m[k]==="*";)k++;return k===m.length}function S(){const o=[...l.names,...l.skips.map(m=>"-"+m)].join(",");return l.enable(""),o}function O(o){for(const m of l.skips)if(v(o,m))return!1;for(const m of l.names)if(v(o,m))return!0;return!1}function E(o){return o instanceof Error?o.stack||o.message:o}function R(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l.enable(l.load()),l}return ru=_,ru}var sh;function Yc(){return sh||(sh=1,function(_,L){var D={};L.formatArgs=A,L.save=b,L.load=v,L.useColors=l,L.storage=S(),L.destroy=(()=>{let E=!1;return()=>{E||(E=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),L.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let E;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(E=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(E[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function A(E){if(E[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+E[0]+(this.useColors?"%c ":" ")+"+"+_.exports.humanize(this.diff),!this.useColors)return;const R="color: "+this.color;E.splice(1,0,R,"color: inherit");let o=0,m=0;E[0].replace(/%[a-zA-Z%]/g,j=>{j!=="%%"&&(o++,j==="%c"&&(m=o))}),E.splice(m,0,R)}L.log=console.debug||console.log||(()=>{});function b(E){try{E?L.storage.setItem("debug",E):L.storage.removeItem("debug")}catch{}}function v(){let E;try{E=L.storage.getItem("debug")||L.storage.getItem("DEBUG")}catch{}return!E&&typeof process<"u"&&"env"in process&&(E=D.DEBUG),E}function S(){try{return localStorage}catch{}}_.exports=Iv()(L);const{formatters:O}=_.exports;O.j=function(E){try{return JSON.stringify(E)}catch(R){return"[UnexpectedJSONParseError]: "+R.message}}}(Rc,Rc.exports)),Rc.exports}var qi={},Pi={},ds={exports:{}},Kv=ds.exports,ch;function Fv(){return ch||(ch=1,function(_,L){(function(D,l){var A="2.0.4",b=500,v="user-agent",S="",O="?",E="function",R="undefined",o="object",m="string",j="browser",k="cpu",C="device",s="engine",c="os",f="result",u="name",d="type",p="vendor",y="version",g="architecture",x="major",w="model",q="console",H="mobile",F="tablet",M="smarttv",I="wearable",Z="xr",N="embedded",X="inapp",ee="brands",ue="formFactors",U="fullVersionList",$="platform",ie="platformVersion",ae="bitness",oe="sec-ch-ua",Te=oe+"-full-version-list",me=oe+"-arch",mt=oe+"-"+ae,ze=oe+"-form-factors",ea=oe+"-"+H,qn=oe+"-"+w,ui=oe+"-"+$,Pn=ui+"-version",Xi=[ee,U,H,w,$,ie,g,ue,ae],Aa="Amazon",La="Apple",ms="ASUS",Et="BlackBerry",ua="Google",Hn="Huawei",Zi="Lenovo",di="Honor",Ii="LG",Ki="Microsoft",Bn="Motorola",Vn="Nvidia",ka="OnePlus",nt="OPPO",yt="Samsung",ut="Sharp",fi="Sony",Yn="Xiaomi",Gn="Zebra",pi="Chrome",hi="Chromium",dt="Chromecast",da="Edge",Xt="Firefox",mi="Opera",Fi="Facebook",Qn="Sogou",ta="Mobile ",Zt=" Browser",Xn="Windows",Zn=typeof D!==R,rt=Zn&&D.navigator?D.navigator:l,zt=rt&&rt.userAgentData?rt.userAgentData:l,In=function(te,re){var se={},ve=re;if(!Ct(re)){ve={};for(var de in re)for(var xe in re[de])ve[xe]=re[de][xe].concat(ve[xe]?ve[xe]:[])}for(var ne in te)se[ne]=ve[ne]&&ve[ne].length%2===0?ve[ne].concat(te[ne]):te[ne];return se},gi=function(te){for(var re={},se=0;se<te.length;se++)re[te[se].toUpperCase()]=te[se];return re},Kn=function(te,re){if(typeof te===o&&te.length>0){for(var se in te)if(ft(re)==ft(te[se]))return!0;return!1}return Pe(te)?ft(re)==ft(te):!1},Ct=function(te,re){for(var se in te)return/^(browser|cpu|device|engine|os)$/.test(se)||(re?Ct(te[se]):!1)},Pe=function(te){return typeof te===m},$e=function(te){if(!te)return l;for(var re=[],se=Na(/\\?\"/g,te).split(","),ve=0;ve<se.length;ve++)if(se[ve].indexOf(";")>-1){var de=aa(se[ve]).split(";v=");re[ve]={brand:de[0],version:de[1]}}else re[ve]=aa(se[ve]);return re},ft=function(te){return Pe(te)?te.toLowerCase():te},vi=function(te){return Pe(te)?Na(/[^\d\.]/g,te).split(".")[0]:l},It=function(te){for(var re in te){var se=te[re];typeof se==o&&se.length==2?this[se[0]]=se[1]:this[se]=l}return this},Na=function(te,re){return Pe(re)?re.replace(te,S):re},za=function(te){return Na(/\\?\"/g,te)},aa=function(te,re){if(Pe(te))return te=Na(/^\s\s*/,te),typeof re===R?te:te.substring(0,b)},yi=function(te,re){if(!(!te||!re))for(var se=0,ve,de,xe,ne,Se,ge;se<re.length&&!Se;){var Ue=re[se],jt=re[se+1];for(ve=de=0;ve<Ue.length&&!Se&&Ue[ve];)if(Se=Ue[ve++].exec(te),Se)for(xe=0;xe<jt.length;xe++)ge=Se[++de],ne=jt[xe],typeof ne===o&&ne.length>0?ne.length===2?typeof ne[1]==E?this[ne[0]]=ne[1].call(this,ge):this[ne[0]]=ne[1]:ne.length>=3&&(typeof ne[1]===E&&!(ne[1].exec&&ne[1].test)?ne.length>3?this[ne[0]]=ge?ne[1].apply(this,ne.slice(2)):l:this[ne[0]]=ge?ne[1].call(this,ge,ne[2]):l:ne.length==3?this[ne[0]]=ge?ge.replace(ne[1],ne[2]):l:ne.length==4?this[ne[0]]=ge?ne[3].call(this,ge.replace(ne[1],ne[2])):l:ne.length>4&&(this[ne[0]]=ge?ne[3].apply(this,[ge.replace(ne[1],ne[2])].concat(ne.slice(4))):l)):this[ne]=ge||l;se+=2}},st=function(te,re){for(var se in re)if(typeof re[se]===o&&re[se].length>0){for(var ve=0;ve<re[se].length;ve++)if(Kn(re[se][ve],te))return se===O?l:se}else if(Kn(re[se],te))return se===O?l:se;return re.hasOwnProperty("*")?re["*"]:te},fa={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2","8.1":"6.3",10:["6.4","10.0"],NT:""},ja={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":l},Ua={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},Ye={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[u,ta+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[y,[u,da+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,y],[/opios[\/ ]+([\w\.]+)/i],[y,[u,mi+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[u,mi+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[u,mi]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[u,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[u,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[u,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[u,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[u,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[u,"Smart "+Zi+Zt]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure"+Zt],y],[/\bfocus\/([\w\.]+)/i],[y,[u,Xt+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[u,mi+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[u,mi+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[u,"MIUI"+Zt]],[/fxios\/([\w\.-]+)/i],[y,[u,ta+Xt]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[u,"360"]],[/\b(qq)\/([\w\.]+)/i],[[u,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1"+Zt],y],[/samsungbrowser\/([\w\.]+)/i],[y,[u,yt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[u,Qn+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,Qn+" Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[u,y],[/(lbbrowser|rekonq)/i],[u],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,Fi],y,[d,X]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[u,y,[d,X]],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[u,"GSA"],[d,X]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[u,"TikTok"],[d,X]],[/\[(linkedin)app\]/i],[u,[d,X]],[/(chromium)[\/ ]([-\w\.]+)/i],[u,y],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[u,pi+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[y,[u,da+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,pi+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[u,"Android"+Zt]],[/chrome\/([\w\.]+) mobile/i],[y,[u,ta+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,y],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[y,[u,ta+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[u,ta+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[y,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[y,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[u,y],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[u,ta+Xt],y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[u,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[u,Xt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[u,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[u,[y,/[^\d\.]+./,S]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[g,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[g,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[g,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[g,/ower/,S,ft]],[/ sun4\w[;\)]/i],[[g,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[g,ft]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[p,yt],[d,F]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[w,[p,yt],[d,H]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[p,La],[d,H]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[p,La],[d,F]],[/(macintosh);/i],[w,[p,La]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[p,ut],[d,H]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[w,[p,di],[d,F]],[/honor([-\w ]+)[;\)]/i],[w,[p,di],[d,H]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[w,[p,Hn],[d,F]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[p,Hn],[d,H]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[w,/_/g," "],[p,Yn],[d,F]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[w,/_/g," "],[p,Yn],[d,H]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-k]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[p,ka],[d,H]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[p,nt],[d,H]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[w,[p,st,{OnePlus:["203","304","403","404","413","415"],"*":nt}],[d,F]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[w,[p,"BLU"],[d,H]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[p,"Vivo"],[d,H]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[p,"Realme"],[d,H]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[w,[p,Zi],[d,F]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[w,[p,Zi],[d,H]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[w,[p,Bn],[d,H]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[p,Bn],[d,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[p,Ii],[d,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[p,Ii],[d,H]],[/(nokia) (t[12][01])/i],[p,w,[d,F]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[w,/_/g," "],[d,H],[p,"Nokia"]],[/(pixel (c|tablet))\b/i],[w,[p,ua],[d,F]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[w,[p,ua],[d,H]],[/(google) (pixelbook( go)?)/i],[p,w],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[p,fi],[d,H]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[p,fi],[d,F]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[p,Aa],[d,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[p,Aa],[d,H]],[/(playbook);[-\w\),; ]+(rim)/i],[w,p,[d,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[p,Et],[d,H]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[p,ms],[d,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[p,ms],[d,H]],[/(nexus 9)/i],[w,[p,"HTC"],[d,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[w,/_/g," "],[d,H]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[w,[p,"TCL"],[d,F]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[w,[p,"TCL"],[d,H]],[/(itel) ((\w+))/i],[[p,ft],w,[d,st,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[p,"Acer"],[d,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[p,"Meizu"],[d,H]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[p,"Ulefone"],[d,H]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[w,[p,"Energizer"],[d,H]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[w,[p,"Cat"],[d,H]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[w,[p,"Smartfren"],[d,H]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[w,[p,"Nothing"],[d,H]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[w,[p,"Archos"],[d,F]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[w,[p,"Archos"],[d,H]],[/; (n159v)/i],[w,[p,"HMD"],[d,H]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[p,w,[d,F]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i],[p,w,[d,H]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[p,w,[d,F]],[/(surface duo)/i],[w,[p,Ki],[d,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[p,"Fairphone"],[d,H]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[w,[p,Vn],[d,F]],[/(sprint) (\w+)/i],[p,w,[d,H]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[p,Ki],[d,H]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[p,Gn],[d,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[p,Gn],[d,H]],[/smart-tv.+(samsung)/i],[p,[d,M]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[p,yt],[d,M]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[p,w,[d,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Ii],[d,M]],[/(apple) ?tv/i],[p,[w,La+" TV"],[d,M]],[/crkey.*devicetype\/chromecast/i],[[w,dt+" Third Generation"],[p,ua],[d,M]],[/crkey.*devicetype\/([^/]*)/i],[[w,/^/,"Chromecast "],[p,ua],[d,M]],[/fuchsia.*crkey/i],[[w,dt+" Nest Hub"],[p,ua],[d,M]],[/crkey/i],[[w,dt],[p,ua],[d,M]],[/(portaltv)/i],[w,[p,Fi],[d,M]],[/droid.+aft(\w+)( bui|\))/i],[w,[p,Aa],[d,M]],[/(shield \w+ tv)/i],[w,[p,Vn],[d,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[p,ut],[d,M]],[/(bravia[\w ]+)( bui|\))/i],[w,[p,fi],[d,M]],[/(mi(tv|box)-?\w+) bui/i],[w,[p,Yn],[d,M]],[/Hbbtv.*(technisat) (.*);/i],[p,w,[d,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,/.+\/(\w+)/,"$1",st,{LG:"lge"}],[w,aa],[d,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[w,[d,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:|large screen[\w ]+safari)\b/i],[[d,M]],[/(playstation \w+)/i],[w,[p,fi],[d,q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[p,Ki],[d,q]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i],[p,w,[d,q]],[/droid.+; (shield)( bui|\))/i],[w,[p,Vn],[d,q]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[w,[p,yt],[d,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[p,w,[d,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[w,[p,nt],[d,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[p,La],[d,I]],[/(opwwe\d{3})/i],[w,[p,ka],[d,I]],[/(moto 360)/i],[w,[p,Bn],[d,I]],[/(smartwatch 3)/i],[w,[p,fi],[d,I]],[/(g watch r)/i],[w,[p,Ii],[d,I]],[/droid.+; (wt63?0{2,3})\)/i],[w,[p,Gn],[d,I]],[/droid.+; (glass) \d/i],[w,[p,ua],[d,Z]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,w,[d,Z]],[/(quest( \d| pro)?s?).+vr/i],[w,[p,Fi],[d,Z]],[/mobile vr; rv.+firefox/i],[[d,Z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,N]],[/(aeobc)\b/i],[w,[p,Aa],[d,N]],[/(homepod).+mac os/i],[w,[p,La],[d,N]],[/windows iot/i],[[d,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[w,[d,st,{mobile:"Mobile",xr:"VR","*":F}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,F]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,H]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[w,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[u,da+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[u,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,y],[/ladybird\//i],[[u,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,u]],os:[[/(windows nt) (6\.[23]); arm/i],[[u,/N/,"R"],[y,st,fa]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[u,y],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[y,/(;|\))/g,"",st,fa],[u,Xn]],[/(windows ce)\/?([\d\.]*)/i],[u,y],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[u,"macOS"],[y,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[y,[u,dt+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[y,[u,dt+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[y,[u,dt+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[y,[u,dt+" Linux"]],[/crkey\/([\d\.]+)/i],[y,[u,dt]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[y,u],[/(ubuntu) ([\w\.]+) like android/i],[[u,/(.+)/,"$1 Touch"],y],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[u,y],[/\(bb(10);/i],[y,[u,Et]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[u,Xt+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[y,[u,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[y,st,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[u,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,"Chrome OS"],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[u,y],[/(sunos) ?([\d\.]*)/i],[[u,"Solaris"],y],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,y]]},_i=function(){var te={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return It.call(te.init,[[j,[u,y,x,d]],[k,[g]],[C,[d,w,p]],[s,[u,y]],[c,[u,y]]]),It.call(te.isIgnore,[[j,[y,x]],[s,[y]],[c,[y]]]),It.call(te.isIgnoreRgx,[[j,/ ?browser$/i],[c,/ ?os$/i]]),It.call(te.toString,[[j,[u,y]],[k,[g]],[C,[p,w]],[s,[u,y]],[c,[u,y]]]),te}(),gs=function(te,re){var se=_i.init[re],ve=_i.isIgnore[re]||0,de=_i.isIgnoreRgx[re]||0,xe=_i.toString[re]||0;function ne(){It.call(this,se)}return ne.prototype.getItem=function(){return te},ne.prototype.withClientHints=function(){return zt?zt.getHighEntropyValues(Xi).then(function(Se){return te.setCH(new ia(Se,!1)).parseCH().get()}):te.parseCH().get()},ne.prototype.withFeatureCheck=function(){return te.detectFeature().get()},re!=f&&(ne.prototype.is=function(Se){var ge=!1;for(var Ue in this)if(this.hasOwnProperty(Ue)&&!Kn(ve,Ue)&&ft(de?Na(de,this[Ue]):this[Ue])==ft(de?Na(de,Se):Se)){if(ge=!0,Se!=R)break}else if(Se==R&&ge){ge=!ge;break}return ge},ne.prototype.toString=function(){var Se=S;for(var ge in xe)typeof this[xe[ge]]!==R&&(Se+=(Se?" ":S)+this[xe[ge]]);return Se||R}),zt||(ne.prototype.then=function(Se){var ge=this,Ue=function(){for(var Ge in ge)ge.hasOwnProperty(Ge)&&(this[Ge]=ge[Ge])};Ue.prototype={is:ne.prototype.is,toString:ne.prototype.toString};var jt=new Ue;return Se(jt),jt}),new ne};function ia(te,re){if(te=te||{},It.call(this,Xi),re)It.call(this,[[ee,$e(te[oe])],[U,$e(te[Te])],[H,/\?1/.test(te[ea])],[w,za(te[qn])],[$,za(te[ui])],[ie,za(te[Pn])],[g,za(te[me])],[ue,$e(te[ze])],[ae,za(te[mt])]]);else for(var se in te)this.hasOwnProperty(se)&&typeof te[se]!==R&&(this[se]=te[se])}function pa(te,re,se,ve){return this.get=function(de){return de?this.data.hasOwnProperty(de)?this.data[de]:l:this.data},this.set=function(de,xe){return this.data[de]=xe,this},this.setCH=function(de){return this.uaCH=de,this},this.detectFeature=function(){if(rt&&rt.userAgent==this.ua)switch(this.itemType){case j:rt.brave&&typeof rt.brave.isBrave==E&&this.set(u,"Brave");break;case C:!this.get(d)&&zt&&zt[H]&&this.set(d,H),this.get(w)=="Macintosh"&&rt&&typeof rt.standalone!==R&&rt.maxTouchPoints&&rt.maxTouchPoints>2&&this.set(w,"iPad").set(d,F);break;case c:!this.get(u)&&zt&&zt[$]&&this.set(u,zt[$]);break;case f:var de=this.data,xe=function(ne){return de[ne].getItem().detectFeature().get()};this.set(j,xe(j)).set(k,xe(k)).set(C,xe(C)).set(s,xe(s)).set(c,xe(c))}return this},this.parseUA=function(){return this.itemType!=f&&yi.call(this.data,this.ua,this.rgxMap),this.itemType==j&&this.set(x,vi(this.get(y))),this},this.parseCH=function(){var de=this.uaCH,xe=this.rgxMap;switch(this.itemType){case j:case s:var ne=de[U]||de[ee],Se;if(ne)for(var ge in ne){var Ue=ne[ge].brand||ne[ge],jt=ne[ge].version;this.itemType==j&&!/not.a.brand/i.test(Ue)&&(!Se||/Chrom/.test(Se)&&Ue!=hi||Se==da&&/WebView2/.test(Ue))&&(Ue=st(Ue,Ua),Se=this.get(u),Se&&!/Chrom/.test(Se)&&/Chrom/.test(Ue)||this.set(u,Ue).set(y,jt).set(x,vi(jt)),Se=Ue),this.itemType==s&&Ue==hi&&this.set(y,jt)}break;case k:var Ge=de[g];Ge&&(Ge&&de[ae]=="64"&&(Ge+="64"),yi.call(this.data,Ge+";",xe));break;case C:if(de[H]&&this.set(d,H),de[w]&&(this.set(w,de[w]),!this.get(d)||!this.get(p))){var qa={};yi.call(qa,"droid 9; "+de[w]+")",xe),!this.get(d)&&qa.type&&this.set(d,qa.type),!this.get(p)&&qa.vendor&&this.set(p,qa.vendor)}if(de[ue]){var Ji;if(typeof de[ue]!="string")for(var Si=0;!Ji&&Si<de[ue].length;)Ji=st(de[ue][Si++],ja);else Ji=st(de[ue],ja);this.set(d,Ji)}break;case c:var $i=de[$];if($i){var Pa=de[ie];$i==Xn&&(Pa=parseInt(vi(Pa),10)>=13?"11":"10"),this.set(u,$i).set(y,Pa)}this.get(u)==Xn&&de[w]=="Xbox"&&this.set(u,"Xbox").set(y,l);break;case f:var Zc=this.data,We=function(Fn){return Zc[Fn].getItem().setCH(de).parseCH().get()};this.set(j,We(j)).set(k,We(k)).set(C,We(C)).set(s,We(s)).set(c,We(c))}return this},It.call(this,[["itemType",te],["ua",re],["uaCH",ve],["rgxMap",se],["data",gs(this,te)]]),this}function Dt(te,re,se){if(typeof te===o?(Ct(te,!0)?(typeof re===o&&(se=re),re=te):(se=te,re=l),te=l):typeof te===m&&!Ct(re,!0)&&(se=re,re=l),se&&typeof se.append===E){var ve={};se.forEach(function(ge,Ue){ve[Ue]=ge}),se=ve}if(!(this instanceof Dt))return new Dt(te,re,se).getResult();var de=typeof te===m?te:se&&se[v]?se[v]:rt&&rt.userAgent?rt.userAgent:S,xe=new ia(se,!0),ne=re?In(Ye,re):Ye,Se=function(ge){return ge==f?function(){return new pa(ge,de,ne,xe).set("ua",de).set(j,this.getBrowser()).set(k,this.getCPU()).set(C,this.getDevice()).set(s,this.getEngine()).set(c,this.getOS()).get()}:function(){return new pa(ge,de,ne[ge],xe).parseUA().get()}};return It.call(this,[["getBrowser",Se(j)],["getCPU",Se(k)],["getDevice",Se(C)],["getEngine",Se(s)],["getOS",Se(c)],["getResult",Se(f)],["getUA",function(){return de}],["setUA",function(ge){return Pe(ge)&&(de=ge.length>b?aa(ge,b):ge),this}]]).setUA(de),this}Dt.VERSION=A,Dt.BROWSER=gi([u,y,x,d]),Dt.CPU=gi([g]),Dt.DEVICE=gi([w,p,d,q,H,M,F,I,N]),Dt.ENGINE=Dt.OS=gi([u,y]),_.exports&&(L=_.exports=Dt),L.UAParser=Dt;var ha=Zn&&(D.jQuery||D.Zepto);if(ha&&!ha.ua){var bi=new Dt;ha.ua=bi.getResult(),ha.ua.get=function(){return bi.getUA()},ha.ua.set=function(te){bi.setUA(te);var re=bi.getResult();for(var se in re)ha.ua[se]=re[se]}}})(typeof window=="object"?window:Kv)}(ds,ds.exports)),ds.exports}var Qr={},oh;function Tt(){if(oh)return Qr;oh=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Logger=void 0;const _=Yc(),L="mediasoup-client";class D{_debug;_warn;_error;constructor(A){A?(this._debug=(0,_.default)(`${L}:${A}`),this._warn=(0,_.default)(`${L}:WARN:${A}`),this._error=(0,_.default)(`${L}:ERROR:${A}`)):(this._debug=(0,_.default)(L),this._warn=(0,_.default)(`${L}:WARN`),this._error=(0,_.default)(`${L}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Qr.Logger=D,Qr}var Xr={},Tc={exports:{}},lh;function Jv(){if(lh)return Tc.exports;lh=1;var _=typeof Reflect=="object"?Reflect:null,L=_&&typeof _.apply=="function"?_.apply:function(p,y,g){return Function.prototype.apply.call(p,y,g)},D;_&&typeof _.ownKeys=="function"?D=_.ownKeys:Object.getOwnPropertySymbols?D=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:D=function(p){return Object.getOwnPropertyNames(p)};function l(d){console&&console.warn&&console.warn(d)}var A=Number.isNaN||function(p){return p!==p};function b(){b.init.call(this)}Tc.exports=b,Tc.exports.once=c,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var v=10;function S(d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return v},set:function(d){if(typeof d!="number"||d<0||A(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");v=d}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||A(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function O(d){return d._maxListeners===void 0?b.defaultMaxListeners:d._maxListeners}b.prototype.getMaxListeners=function(){return O(this)},b.prototype.emit=function(p){for(var y=[],g=1;g<arguments.length;g++)y.push(arguments[g]);var x=p==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var q;if(y.length>0&&(q=y[0]),q instanceof Error)throw q;var H=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw H.context=q,H}var F=w[p];if(F===void 0)return!1;if(typeof F=="function")L(F,this,y);else for(var M=F.length,I=k(F,M),g=0;g<M;++g)L(I[g],this,y);return!0};function E(d,p,y,g){var x,w,q;if(S(y),w=d._events,w===void 0?(w=d._events=Object.create(null),d._eventsCount=0):(w.newListener!==void 0&&(d.emit("newListener",p,y.listener?y.listener:y),w=d._events),q=w[p]),q===void 0)q=w[p]=y,++d._eventsCount;else if(typeof q=="function"?q=w[p]=g?[y,q]:[q,y]:g?q.unshift(y):q.push(y),x=O(d),x>0&&q.length>x&&!q.warned){q.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=d,H.type=p,H.count=q.length,l(H)}return d}b.prototype.addListener=function(p,y){return E(this,p,y,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(p,y){return E(this,p,y,!0)};function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(d,p,y){var g={fired:!1,wrapFn:void 0,target:d,type:p,listener:y},x=R.bind(g);return x.listener=y,g.wrapFn=x,x}b.prototype.once=function(p,y){return S(y),this.on(p,o(this,p,y)),this},b.prototype.prependOnceListener=function(p,y){return S(y),this.prependListener(p,o(this,p,y)),this},b.prototype.removeListener=function(p,y){var g,x,w,q,H;if(S(y),x=this._events,x===void 0)return this;if(g=x[p],g===void 0)return this;if(g===y||g.listener===y)--this._eventsCount===0?this._events=Object.create(null):(delete x[p],x.removeListener&&this.emit("removeListener",p,g.listener||y));else if(typeof g!="function"){for(w=-1,q=g.length-1;q>=0;q--)if(g[q]===y||g[q].listener===y){H=g[q].listener,w=q;break}if(w<0)return this;w===0?g.shift():C(g,w),g.length===1&&(x[p]=g[0]),x.removeListener!==void 0&&this.emit("removeListener",p,H||y)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(p){var y,g,x;if(g=this._events,g===void 0)return this;if(g.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):g[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete g[p]),this;if(arguments.length===0){var w=Object.keys(g),q;for(x=0;x<w.length;++x)q=w[x],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(y=g[p],typeof y=="function")this.removeListener(p,y);else if(y!==void 0)for(x=y.length-1;x>=0;x--)this.removeListener(p,y[x]);return this};function m(d,p,y){var g=d._events;if(g===void 0)return[];var x=g[p];return x===void 0?[]:typeof x=="function"?y?[x.listener||x]:[x]:y?s(x):k(x,x.length)}b.prototype.listeners=function(p){return m(this,p,!0)},b.prototype.rawListeners=function(p){return m(this,p,!1)},b.listenerCount=function(d,p){return typeof d.listenerCount=="function"?d.listenerCount(p):j.call(d,p)},b.prototype.listenerCount=j;function j(d){var p=this._events;if(p!==void 0){var y=p[d];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?D(this._events):[]};function k(d,p){for(var y=new Array(p),g=0;g<p;++g)y[g]=d[g];return y}function C(d,p){for(;p+1<d.length;p++)d[p]=d[p+1];d.pop()}function s(d){for(var p=new Array(d.length),y=0;y<p.length;++y)p[y]=d[y].listener||d[y];return p}function c(d,p){return new Promise(function(y,g){function x(q){d.removeListener(p,w),g(q)}function w(){typeof d.removeListener=="function"&&d.removeListener("error",x),y([].slice.call(arguments))}u(d,p,w,{once:!0}),p!=="error"&&f(d,x,{once:!0})})}function f(d,p,y){typeof d.on=="function"&&u(d,"error",p,y)}function u(d,p,y,g){if(typeof d.on=="function")g.once?d.once(p,y):d.on(p,y);else if(typeof d.addEventListener=="function")d.addEventListener(p,function x(w){g.once&&d.removeEventListener(p,x),y(w)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d)}return Tc.exports}var uh;function Gi(){if(uh)return Xr;uh=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.EnhancedEventEmitter=void 0;const _=Jv(),L=Tt(),D=new L.Logger("EnhancedEventEmitter");class l extends _.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(b,...v){return super.emit(b,...v)}safeEmit(b,...v){try{return super.emit(b,...v)}catch(S){D.error("safeEmit() | event listener threw an error [eventName:%s]:%o",b,S);try{super.emit("listenererror",b,S)}catch{}return!!super.listenerCount(b)}}on(b,v){return super.on(b,v),this}off(b,v){return super.off(b,v),this}addListener(b,v){return super.on(b,v),this}prependListener(b,v){return super.prependListener(b,v),this}once(b,v){return super.once(b,v),this}prependOnceListener(b,v){return super.prependOnceListener(b,v),this}removeListener(b,v){return super.off(b,v),this}removeAllListeners(b){return super.removeAllListeners(b),this}listenerCount(b){return super.listenerCount(b)}listeners(b){return super.listeners(b)}rawListeners(b){return super.rawListeners(b)}}return Xr.EnhancedEventEmitter=l,Xr}var Hi={},dh;function Qt(){if(dh)return Hi;dh=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.InvalidStateError=Hi.UnsupportedError=void 0;class _ extends Error{constructor(l){super(l),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,_):this.stack=new Error(l).stack}}Hi.UnsupportedError=_;class L extends Error{constructor(l){super(l),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,L):this.stack=new Error(l).stack}}return Hi.InvalidStateError=L,Hi}var kn={},fh;function Wt(){if(fh)return kn;fh=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.clone=_,kn.generateRandomNumber=L,kn.deepFreeze=D;function _(l){if(l!==void 0)return Number.isNaN(l)?NaN:typeof structuredClone=="function"?structuredClone(l):JSON.parse(JSON.stringify(l))}function L(){return Math.round(Math.random()*1e7)}function D(l){const A=Reflect.ownKeys(l);for(const b of A){const v=l[b];(v&&typeof v=="object"||typeof v=="function")&&D(v)}return Object.freeze(l)}return kn}var vt={},it={},Bi={},ph;function $v(){if(ph)return Bi;ph=1;var _=Bi&&Bi.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Logger=void 0;const L=_(Yc()),D="h264-profile-level-id";class l{constructor(b){b?(this._debug=(0,L.default)(`${D}:${b}`),this._warn=(0,L.default)(`${D}:WARN:${b}`),this._error=(0,L.default)(`${D}:ERROR:${b}`)):(this._debug=(0,L.default)(D),this._warn=(0,L.default)(`${D}:WARN`),this._error=(0,L.default)(`${D}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Bi.Logger=l,Bi}var hh;function Wv(){if(hh)return it;hh=1,Object.defineProperty(it,"__esModule",{value:!0}),it.ProfileLevelId=it.Level=it.Profile=void 0,it.parseProfileLevelId=R,it.profileLevelIdToString=o,it.profileToString=m,it.levelToString=j,it.parseSdpProfileLevelId=k,it.isSameProfile=C,it.isSameProfileAndLevel=s,it.generateProfileLevelIdStringForAnswer=c,it.supportedLevel=f;const _=$v(),L=new _.Logger;var D;(function(g){g[g.ConstrainedBaseline=1]="ConstrainedBaseline",g[g.Baseline=2]="Baseline",g[g.Main=3]="Main",g[g.ConstrainedHigh=4]="ConstrainedHigh",g[g.High=5]="High",g[g.PredictiveHigh444=6]="PredictiveHigh444"})(D||(it.Profile=D={}));var l;(function(g){g[g.L1_b=0]="L1_b",g[g.L1=10]="L1",g[g.L1_1=11]="L1_1",g[g.L1_2=12]="L1_2",g[g.L1_3=13]="L1_3",g[g.L2=20]="L2",g[g.L2_1=21]="L2_1",g[g.L2_2=22]="L2_2",g[g.L3=30]="L3",g[g.L3_1=31]="L3_1",g[g.L3_2=32]="L3_2",g[g.L4=40]="L4",g[g.L4_1=41]="L4_1",g[g.L4_2=42]="L4_2",g[g.L5=50]="L5",g[g.L5_1=51]="L5_1",g[g.L5_2=52]="L5_2"})(l||(it.Level=l={}));class A{constructor(x,w){this.profile=x,this.level=w}}it.ProfileLevelId=A;const b=new A(D.ConstrainedBaseline,l.L3_1);class v{constructor(x){this.mask=~u("x",x),this.masked_value=u("1",x)}isMatch(x){return this.masked_value===(x&this.mask)}}class S{constructor(x,w,q){this.profile_idc=x,this.profile_iop=w,this.profile=q}}const O=[new S(66,new v("x1xx0000"),D.ConstrainedBaseline),new S(77,new v("1xxx0000"),D.ConstrainedBaseline),new S(88,new v("11xx0000"),D.ConstrainedBaseline),new S(66,new v("x0xx0000"),D.Baseline),new S(88,new v("10xx0000"),D.Baseline),new S(77,new v("0x0x0000"),D.Main),new S(100,new v("00000000"),D.High),new S(100,new v("00001100"),D.ConstrainedHigh),new S(244,new v("00000000"),D.PredictiveHigh444)],E=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:l.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:l.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:l.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:l.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:l.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:l.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:l.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:l.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:l.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:l.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:l.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:l.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:l.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:l.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:l.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:l.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:l.L5_2}];function R(g){if(typeof g!="string"||g.length!==6)return;const w=parseInt(g,16);if(w===0)return;const q=w&255,H=w>>8&255,F=w>>16&255;let M;switch(q){case l.L1_1:{M=(H&16)!==0?l.L1_b:l.L1_1;break}case l.L1:case l.L1_2:case l.L1_3:case l.L2:case l.L2_1:case l.L2_2:case l.L3:case l.L3_1:case l.L3_2:case l.L4:case l.L4_1:case l.L4_2:case l.L5:case l.L5_1:case l.L5_2:{M=q;break}default:{L.warn(`parseProfileLevelId() | unrecognized level_idc [str:${g}, level_idc:${q}]`);return}}for(const I of O)if(F===I.profile_idc&&I.profile_iop.isMatch(H))return L.debug(`parseProfileLevelId() | result [str:${g}, profile:${I.profile}, level:${M}]`),new A(I.profile,M);L.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${g}, profile_idc:${F}, profile_iop:${H}]`)}function o(g){if(g.level==l.L1_b)switch(g.profile){case D.ConstrainedBaseline:return"42f00b";case D.Baseline:return"42100b";case D.Main:return"4d100b";default:{L.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${g.profile}`);return}}let x;switch(g.profile){case D.ConstrainedBaseline:{x="42e0";break}case D.Baseline:{x="4200";break}case D.Main:{x="4d00";break}case D.ConstrainedHigh:{x="640c";break}case D.High:{x="6400";break}case D.PredictiveHigh444:{x="f400";break}default:{L.warn(`profileLevelIdToString() | unrecognized profile ${g.profile}`);return}}let w=g.level.toString(16);return w.length===1&&(w=`0${w}`),`${x}${w}`}function m(g){switch(g){case D.ConstrainedBaseline:return"ConstrainedBaseline";case D.Baseline:return"Baseline";case D.Main:return"Main";case D.ConstrainedHigh:return"ConstrainedHigh";case D.High:return"High";case D.PredictiveHigh444:return"PredictiveHigh444";default:{L.warn(`profileToString() | unrecognized profile ${g}`);return}}}function j(g){switch(g){case l.L1_b:return"1b";case l.L1:return"1";case l.L1_1:return"1.1";case l.L1_2:return"1.2";case l.L1_3:return"1.3";case l.L2:return"2";case l.L2_1:return"2.1";case l.L2_2:return"2.2";case l.L3:return"3";case l.L3_1:return"3.1";case l.L3_2:return"3.2";case l.L4:return"4";case l.L4_1:return"4.1";case l.L4_2:return"4.2";case l.L5:return"5";case l.L5_1:return"5.1";case l.L5_2:return"5.2";default:{L.warn(`levelToString() | unrecognized level ${g}`);return}}}function k(g={}){const x=g["profile-level-id"];return x?R(x):b}function C(g={},x={}){const w=k(g),q=k(x);return!!(w&&q&&w.profile===q.profile)}function s(g={},x={}){const w=k(g),q=k(x);return!!(w&&q&&w.profile===q.profile&&w.level==q.level)}function c(g={},x={}){if(!g["profile-level-id"]&&!x["profile-level-id"]){L.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const w=k(g),q=k(x);if(!w)throw new TypeError("invalid local_profile_level_id");if(!q)throw new TypeError("invalid remote_profile_level_id");if(w.profile!==q.profile)throw new TypeError("H264 Profile mismatch");const H=y(g)&&y(x),F=w.level,M=q.level,I=p(F,M),Z=H?F:I;return L.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${w.profile}, level:${Z}]`),o(new A(w.profile,Z))}function f(g,x){for(let q=E.length-1;q>=0;--q){const H=E[q];if(H.max_macroblock_frame_size*256<=g&&H.max_macroblocks_per_second<=x*H.max_macroblock_frame_size)return L.debug(`supportedLevel() | result [max_frame_pixel_count:${g}, max_fps:${x}, level:${H.level}]`),H.level}L.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${g}, max_fps:${x}]`)}function u(g,x){return+(x[0]===g)<<7|+(x[1]===g)<<6|+(x[2]===g)<<5|+(x[3]===g)<<4|+(x[4]===g)<<3|+(x[5]===g)<<2|+(x[6]===g)<<1|+(x[7]===g)<<0}function d(g,x){return g===l.L1_b?x!==l.L1&&x!==l.L1_b:x===l.L1_b?g!==l.L1:g<x}function p(g,x){return d(g,x)?g:x}function y(g={}){const x=g["level-asymmetry-allowed"];return x===!0||x===1||x==="1"}return it}var mh;function Oa(){if(mh)return vt;mh=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.validateRtpCapabilities=b,vt.validateRtpParameters=v,vt.validateSctpStreamParameters=S,vt.validateSctpCapabilities=O,vt.getExtendedRtpCapabilities=E,vt.getRecvRtpCapabilities=R,vt.getSendingRtpParameters=o,vt.getSendingRemoteRtpParameters=m,vt.reduceCodecs=j,vt.generateProbatorRtpParameters=k,vt.canSend=C,vt.canReceive=s;const _=Wv(),L=Wt(),D="probator",l=1234,A=127;function b(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(M.codecs&&!Array.isArray(M.codecs))throw new TypeError("caps.codecs is not an array");M.codecs||(M.codecs=[]);for(const I of M.codecs)c(I);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const I of M.headerExtensions)u(I)}function v(M){if(typeof M!="object")throw new TypeError("params is not an object");if(M.mid&&typeof M.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(M.codecs))throw new TypeError("missing params.codecs");for(const I of M.codecs)d(I);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("params.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const I of M.headerExtensions)p(I);if(M.encodings&&!Array.isArray(M.encodings))throw new TypeError("params.encodings is not an array");M.encodings||(M.encodings=[]);for(const I of M.encodings)y(I);if(M.rtcp&&typeof M.rtcp!="object")throw new TypeError("params.rtcp is not an object");M.rtcp||(M.rtcp={}),g(M.rtcp)}function S(M){if(typeof M!="object")throw new TypeError("params is not an object");if(typeof M.streamId!="number")throw new TypeError("missing params.streamId");let I=!1;if(typeof M.ordered=="boolean"?I=!0:M.ordered=!0,M.maxPacketLifeTime&&typeof M.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(M.maxRetransmits&&typeof M.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(M.maxPacketLifeTime&&M.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(I&&M.ordered&&(M.maxPacketLifeTime||M.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!I&&(M.maxPacketLifeTime||M.maxRetransmits)&&(M.ordered=!1),M.label&&typeof M.label!="string")throw new TypeError("invalid params.label");if(M.protocol&&typeof M.protocol!="string")throw new TypeError("invalid params.protocol")}function O(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(!M.numStreams||typeof M.numStreams!="object")throw new TypeError("missing caps.numStreams");x(M.numStreams)}function E(M,I,Z){const N={codecs:[],headerExtensions:[]};if(Z)for(const X of M.codecs??[]){if(w(X))continue;const ee=(I.codecs??[]).find(U=>q(U,X,{strict:!0,modify:!0}));if(!ee)continue;const ue={mimeType:X.mimeType,kind:X.kind,clockRate:X.clockRate,channels:X.channels,localPayloadType:X.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:ee.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:X.parameters??{},remoteParameters:ee.parameters??{},rtcpFeedback:F(X,ee)};N.codecs.push(ue)}else for(const X of I.codecs??[]){if(w(X))continue;const ee=(M.codecs??[]).find(U=>q(U,X,{strict:!0,modify:!0}));if(!ee)continue;const ue={mimeType:ee.mimeType,kind:ee.kind,clockRate:ee.clockRate,channels:ee.channels,localPayloadType:ee.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:X.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:ee.parameters??{},remoteParameters:X.parameters??{},rtcpFeedback:F(ee,X)};N.codecs.push(ue)}for(const X of N.codecs){const ee=M.codecs.find(U=>w(U)&&U.parameters?.apt===X.localPayloadType),ue=I.codecs.find(U=>w(U)&&U.parameters?.apt===X.remotePayloadType);ee&&ue&&(X.localRtxPayloadType=ee.preferredPayloadType,X.remoteRtxPayloadType=ue.preferredPayloadType)}for(const X of I.headerExtensions){const ee=M.headerExtensions.find(U=>H(U,X));if(!ee)continue;const ue={kind:X.kind,uri:X.uri,sendId:ee.preferredId,recvId:X.preferredId,encrypt:ee.preferredEncrypt??!1,direction:"sendrecv"};switch(X.direction){case"sendrecv":{ue.direction="sendrecv";break}case"recvonly":{ue.direction="sendonly";break}case"sendonly":{ue.direction="recvonly";break}case"inactive":{ue.direction="inactive";break}}N.headerExtensions.push(ue)}return N}function R(M){const I={codecs:[],headerExtensions:[]};for(const Z of M.codecs){const N={mimeType:Z.mimeType,kind:Z.kind,preferredPayloadType:Z.remotePayloadType,clockRate:Z.clockRate,channels:Z.channels,parameters:Z.localParameters,rtcpFeedback:Z.rtcpFeedback};if(I.codecs.push(N),!Z.remoteRtxPayloadType)continue;const X={mimeType:`${Z.kind}/rtx`,kind:Z.kind,preferredPayloadType:Z.remoteRtxPayloadType,clockRate:Z.clockRate,parameters:{apt:Z.remotePayloadType},rtcpFeedback:[]};I.codecs.push(X)}for(const Z of M.headerExtensions){if(Z.direction!=="sendrecv"&&Z.direction!=="recvonly")continue;const N={kind:Z.kind,uri:Z.uri,preferredId:Z.recvId,preferredEncrypt:Z.encrypt??!1,direction:Z.direction};I.headerExtensions.push(N)}return I}function o(M,I){const Z={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const N of I.codecs){if(N.kind!==M)continue;const X={mimeType:N.mimeType,payloadType:N.localPayloadType,clockRate:N.clockRate,channels:N.channels,parameters:N.localParameters,rtcpFeedback:N.rtcpFeedback};if(Z.codecs.push(X),N.localRtxPayloadType){const ee={mimeType:`${N.kind}/rtx`,payloadType:N.localRtxPayloadType,clockRate:N.clockRate,parameters:{apt:N.localPayloadType},rtcpFeedback:[]};Z.codecs.push(ee)}}for(const N of I.headerExtensions){if(N.kind&&N.kind!==M||N.direction!=="sendrecv"&&N.direction!=="sendonly")continue;const X={uri:N.uri,id:N.sendId,encrypt:N.encrypt,parameters:{}};Z.headerExtensions.push(X)}return Z}function m(M,I){const Z={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const N of I.codecs){if(N.kind!==M)continue;const X={mimeType:N.mimeType,payloadType:N.localPayloadType,clockRate:N.clockRate,channels:N.channels,parameters:N.remoteParameters,rtcpFeedback:N.rtcpFeedback};if(Z.codecs.push(X),N.localRtxPayloadType){const ee={mimeType:`${N.kind}/rtx`,payloadType:N.localRtxPayloadType,clockRate:N.clockRate,parameters:{apt:N.localPayloadType},rtcpFeedback:[]};Z.codecs.push(ee)}}for(const N of I.headerExtensions){if(N.kind&&N.kind!==M||N.direction!=="sendrecv"&&N.direction!=="sendonly")continue;const X={uri:N.uri,id:N.sendId,encrypt:N.encrypt,parameters:{}};Z.headerExtensions.push(X)}if(Z.headerExtensions.some(N=>N.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const N of Z.codecs)N.rtcpFeedback=(N.rtcpFeedback??[]).filter(X=>X.type!=="goog-remb");else if(Z.headerExtensions.some(N=>N.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const N of Z.codecs)N.rtcpFeedback=(N.rtcpFeedback??[]).filter(X=>X.type!=="transport-cc");else for(const N of Z.codecs)N.rtcpFeedback=(N.rtcpFeedback??[]).filter(X=>X.type!=="transport-cc"&&X.type!=="goog-remb");return Z}function j(M,I){const Z=[];if(!I)Z.push(M[0]),w(M[1])&&Z.push(M[1]);else{for(let N=0;N<M.length;++N)if(q(M[N],I,{strict:!0})){Z.push(M[N]),w(M[N+1])&&Z.push(M[N+1]);break}if(Z.length===0)throw new TypeError("no matching codec found")}return Z}function k(M){M=L.clone(M),v(M);const I={mid:D,codecs:[],headerExtensions:[],encodings:[{ssrc:l}],rtcp:{cname:"probator"}};return I.codecs.push(M.codecs[0]),I.codecs[0].payloadType=A,I.headerExtensions=M.headerExtensions,I}function C(M,I){return I.codecs.some(Z=>Z.kind===M)}function s(M,I){if(v(M),M.codecs.length===0)return!1;const Z=M.codecs[0];return I.codecs.some(N=>N.remotePayloadType===Z.payloadType)}function c(M){const I=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const Z=I.exec(M.mimeType);if(!Z)throw new TypeError("invalid codec.mimeType");if(M.kind=Z[1].toLowerCase(),typeof M.preferredPayloadType!="number")throw new TypeError("missing codec.preferredPayloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");M.kind==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const N of Object.keys(M.parameters)){let X=M.parameters[N];if(X===void 0&&(M.parameters[N]="",X=""),typeof X!="string"&&typeof X!="number")throw new TypeError(`invalid codec parameter [key:${N}s, value:${X}]`);if(N==="apt"&&typeof X!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const N of M.rtcpFeedback)f(N)}function f(M){if(typeof M!="object")throw new TypeError("fb is not an object");if(!M.type||typeof M.type!="string")throw new TypeError("missing fb.type");(!M.parameter||typeof M.parameter!="string")&&(M.parameter="")}function u(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(M.kind!=="audio"&&M.kind!=="video")throw new TypeError("invalid ext.kind");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.preferredId!="number")throw new TypeError("missing ext.preferredId");if(M.preferredEncrypt&&typeof M.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(M.preferredEncrypt||(M.preferredEncrypt=!1),M.direction&&typeof M.direction!="string")throw new TypeError("invalid ext.direction");M.direction||(M.direction="sendrecv")}function d(M){const I=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const Z=I.exec(M.mimeType);if(!Z)throw new TypeError("invalid codec.mimeType");if(typeof M.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");Z[1].toLowerCase()==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const X of Object.keys(M.parameters)){let ee=M.parameters[X];if(ee===void 0&&(M.parameters[X]="",ee=""),typeof ee!="string"&&typeof ee!="number")throw new TypeError(`invalid codec parameter [key:${X}s, value:${ee}]`);if(X==="apt"&&typeof ee!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const X of M.rtcpFeedback)f(X)}function p(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.id!="number")throw new TypeError("missing ext.id");if(M.encrypt&&typeof M.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");M.encrypt||(M.encrypt=!1),(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const I of Object.keys(M.parameters)){let Z=M.parameters[I];if(Z===void 0&&(M.parameters[I]="",Z=""),typeof Z!="string"&&typeof Z!="number")throw new TypeError("invalid header extension parameter")}}function y(M){if(typeof M!="object")throw new TypeError("encoding is not an object");if(M.ssrc&&typeof M.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(M.rid&&typeof M.rid!="string")throw new TypeError("invalid encoding.rid");if(M.rtx&&typeof M.rtx!="object")throw new TypeError("invalid encoding.rtx");if(M.rtx&&typeof M.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!M.dtx||typeof M.dtx!="boolean")&&(M.dtx=!1),M.scalabilityMode&&typeof M.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function g(M){if(typeof M!="object")throw new TypeError("rtcp is not an object");if(M.cname&&typeof M.cname!="string")throw new TypeError("invalid rtcp.cname");(!M.reducedSize||typeof M.reducedSize!="boolean")&&(M.reducedSize=!0)}function x(M){if(typeof M!="object")throw new TypeError("numStreams is not an object");if(typeof M.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof M.MIS!="number")throw new TypeError("missing numStreams.MIS")}function w(M){return M?/.+\/rtx$/i.test(M.mimeType):!1}function q(M,I,{strict:Z=!1,modify:N=!1}={}){const X=M.mimeType.toLowerCase(),ee=I.mimeType.toLowerCase();if(X!==ee||M.clockRate!==I.clockRate||M.channels!==I.channels)return!1;switch(X){case"video/h264":{if(Z){const ue=M.parameters["packetization-mode"]??0,U=I.parameters["packetization-mode"]??0;if(ue!==U||!_.isSameProfile(M.parameters,I.parameters))return!1;let $;try{$=_.generateProfileLevelIdStringForAnswer(M.parameters,I.parameters)}catch{return!1}N&&($?(M.parameters["profile-level-id"]=$,I.parameters["profile-level-id"]=$):(delete M.parameters["profile-level-id"],delete I.parameters["profile-level-id"]))}break}case"video/vp9":{if(Z){const ue=M.parameters["profile-id"]??0,U=I.parameters["profile-id"]??0;if(ue!==U)return!1}break}}return!0}function H(M,I){return!(M.kind&&I.kind&&M.kind!==I.kind||M.uri!==I.uri)}function F(M,I){const Z=[];for(const N of M.rtcpFeedback??[]){const X=(I.rtcpFeedback??[]).find(ee=>ee.type===N.type&&(ee.parameter===N.parameter||!ee.parameter&&!N.parameter));X&&Z.push(X)}return Z}return vt}var Zr={},su={},Ir={},Kr={},gh;function ey(){if(gh)return Kr;gh=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Logger=void 0;const _=Yc(),L="awaitqueue";let D=class{_debug;_warn;_error;constructor(A){A?(this._debug=_(`${L}:${A}`),this._warn=_(`${L}:WARN:${A}`),this._error=_(`${L}:ERROR:${A}`)):(this._debug=_(L),this._warn=_(`${L}:WARN`),this._error=_(`${L}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Kr.Logger=D,Kr}var Vi={},vh;function ym(){if(vh)return Vi;vh=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.AwaitQueueRemovedTaskError=Vi.AwaitQueueStoppedError=void 0;class _ extends Error{constructor(l){super(l??"queue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,_)}}Vi.AwaitQueueStoppedError=_;class L extends Error{constructor(l){super(l??"queue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,L)}}return Vi.AwaitQueueRemovedTaskError=L,Vi}var yh;function ty(){if(yh)return Ir;yh=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.AwaitQueue=void 0;const _=ey(),L=ym(),D=new _.Logger("AwaitQueue");let l=class{pendingTasks=new Map;nextTaskId=0;stopping=!1;constructor(){D.debug("constructor()")}get size(){return this.pendingTasks.size}async push(b,v){if(v=v??b.name,D.debug(`push() [name:${v}]`),typeof b!="function")throw new TypeError("given task is not a function");if(v)try{Object.defineProperty(b,"name",{value:v})}catch{}return new Promise((S,O)=>{const E={id:this.nextTaskId++,task:b,name:v,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:R=>{if(E.completed)return;E.completed=!0,this.pendingTasks.delete(E.id),D.debug(`resolving task [name:${E.name}]`),S(R);const[o]=this.pendingTasks.values();o&&!o.executedAt&&this.execute(o)},reject:R=>{if(!E.completed&&(E.completed=!0,this.pendingTasks.delete(E.id),D.debug(`rejecting task [name:${E.name}]: %s`,String(R)),O(R),!this.stopping)){const[o]=this.pendingTasks.values();o&&!o.executedAt&&this.execute(o)}}};this.pendingTasks.set(E.id,E),this.pendingTasks.size===1&&this.execute(E)})}stop(){D.debug("stop()"),this.stopping=!0;for(const b of this.pendingTasks.values())D.debug(`stop() | stopping task [name:${b.name}]`),b.reject(new L.AwaitQueueStoppedError);this.stopping=!1}remove(b){D.debug(`remove() [taskIdx:${b}]`);const v=Array.from(this.pendingTasks.values())[b];if(!v){D.debug(`stop() | no task with given idx [taskIdx:${b}]`);return}v.reject(new L.AwaitQueueRemovedTaskError)}dump(){const b=Date.now();let v=0;return Array.from(this.pendingTasks.values()).map(S=>({idx:v++,task:S.task,name:S.name,enqueuedTime:S.executedAt?S.executedAt-S.enqueuedAt:b-S.enqueuedAt,executionTime:S.executedAt?b-S.executedAt:0}))}async execute(b){if(D.debug(`execute() [name:${b.name}]`),b.executedAt)throw new Error("task already being executed");b.executedAt=Date.now();try{const v=await b.task();b.resolve(v)}catch(v){b.reject(v)}}};return Ir.AwaitQueue=l,Ir}var _h;function ay(){return _h||(_h=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.AwaitQueueRemovedTaskError=_.AwaitQueueStoppedError=_.AwaitQueue=void 0;var L=ty();Object.defineProperty(_,"AwaitQueue",{enumerable:!0,get:function(){return L.AwaitQueue}});var D=ym();Object.defineProperty(_,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return D.AwaitQueueStoppedError}}),Object.defineProperty(_,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return D.AwaitQueueRemovedTaskError}})}(su)),su}var Fr={},bh;function _m(){if(bh)return Fr;bh=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Producer=void 0;const _=Tt(),L=Gi(),D=Qt(),l=new _.Logger("Producer");let A=class extends L.EnhancedEventEmitter{_id;_localId;_closed=!1;_rtpSender;_track;_kind;_rtpParameters;_paused;_maxSpatialLayer;_stopTracks;_disableTrackOnPause;_zeroRtpOnPause;_appData;_observer=new L.EnhancedEventEmitter;constructor({id:v,localId:S,rtpSender:O,track:E,rtpParameters:R,stopTracks:o,disableTrackOnPause:m,zeroRtpOnPause:j,appData:k}){super(),l.debug("constructor()"),this._id=v,this._localId=S,this._rtpSender=O,this._track=E,this._kind=E.kind,this._rtpParameters=R,this._paused=m?!E.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=m,this._zeroRtpOnPause=j,this._appData=k??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(v){this._appData=v}get observer(){return this._observer}close(){this._closed||(l.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(l.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new D.InvalidStateError("closed");return new Promise((v,S)=>{this.safeEmit("@getstats",v,S)})}pause(){if(l.debug("pause()"),this._closed){l.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((v,S)=>{this.safeEmit("@pause",v,S)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(l.debug("resume()"),this._closed){l.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((v,S)=>{this.safeEmit("@resume",v,S)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:v}){if(l.debug("replaceTrack() [track:%o]",v),this._closed){if(v&&this._stopTracks)try{v.stop()}catch{}throw new D.InvalidStateError("closed")}else if(v&&v.readyState==="ended")throw new D.InvalidStateError("track ended");if(v===this._track){l.debug("replaceTrack() | same track, ignored");return}await new Promise((S,O)=>{this.safeEmit("@replacetrack",v,S,O)}),this.destroyTrack(),this._track=v,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(v){if(this._closed)throw new D.InvalidStateError("closed");if(this._kind!=="video")throw new D.UnsupportedError("not a video Producer");if(typeof v!="number")throw new TypeError("invalid spatialLayer");v!==this._maxSpatialLayer&&(await new Promise((S,O)=>{this.safeEmit("@setmaxspatiallayer",v,S,O)}).catch(()=>{}),this._maxSpatialLayer=v)}async setRtpEncodingParameters(v){if(this._closed)throw new D.InvalidStateError("closed");if(typeof v!="object")throw new TypeError("invalid params");await new Promise((S,O)=>{this.safeEmit("@setrtpencodingparameters",v,S,O)})}onTrackEnded(){l.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Fr.Producer=A,Fr}var Jr={},Sh;function bm(){if(Sh)return Jr;Sh=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Consumer=void 0;const _=Tt(),L=Gi(),D=Qt(),l=new _.Logger("Consumer");let A=class extends L.EnhancedEventEmitter{_id;_localId;_producerId;_closed=!1;_rtpReceiver;_track;_rtpParameters;_paused;_appData;_observer=new L.EnhancedEventEmitter;constructor({id:v,localId:S,producerId:O,rtpReceiver:E,track:R,rtpParameters:o,appData:m}){super(),l.debug("constructor()"),this._id=v,this._localId=S,this._producerId=O,this._rtpReceiver=E,this._track=R,this._rtpParameters=o,this._paused=!R.enabled,this._appData=m??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(v){this._appData=v}get observer(){return this._observer}close(){this._closed||(l.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(l.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new D.InvalidStateError("closed");return new Promise((v,S)=>{this.safeEmit("@getstats",v,S)})}pause(){if(l.debug("pause()"),this._closed){l.error("pause() | Consumer closed");return}if(this._paused){l.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(l.debug("resume()"),this._closed){l.error("resume() | Consumer closed");return}if(!this._paused){l.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){l.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Jr.Consumer=A,Jr}var $r={},wh;function Sm(){if(wh)return $r;wh=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.DataProducer=void 0;const _=Tt(),L=Gi(),D=Qt(),l=new _.Logger("DataProducer");let A=class extends L.EnhancedEventEmitter{_id;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=new L.EnhancedEventEmitter;constructor({id:v,dataChannel:S,sctpStreamParameters:O,appData:E}){super(),l.debug("constructor()"),this._id=v,this._dataChannel=S,this._sctpStreamParameters=O,this._appData=E??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(v){this._dataChannel.bufferedAmountLowThreshold=v}get appData(){return this._appData}set appData(v){this._appData=v}get observer(){return this._observer}close(){this._closed||(l.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(l.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(v){if(l.debug("send()"),this._closed)throw new D.InvalidStateError("closed");this._dataChannel.send(v)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(l.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",v=>{if(this._closed)return;const S=v.error??new Error("unknown DataChannel error");v.error?.errorDetail==="sctp-failure"?l.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",v.error?.sctpCauseCode,v.error.message):l.error('DataChannel "error" event: %o',S),this.safeEmit("error",S)}),this._dataChannel.addEventListener("close",()=>{this._closed||(l.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||l.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return $r.DataProducer=A,$r}var Wr={},Rh;function wm(){if(Rh)return Wr;Rh=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.DataConsumer=void 0;const _=Tt(),L=Gi(),D=new _.Logger("DataConsumer");let l=class extends L.EnhancedEventEmitter{_id;_dataProducerId;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=new L.EnhancedEventEmitter;constructor({id:b,dataProducerId:v,dataChannel:S,sctpStreamParameters:O,appData:E}){super(),D.debug("constructor()"),this._id=b,this._dataProducerId=v,this._dataChannel=S,this._sctpStreamParameters=O,this._appData=E??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(b){this._dataChannel.binaryType=b}get appData(){return this._appData}set appData(b){this._appData=b}get observer(){return this._observer}close(){this._closed||(D.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(D.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(D.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",b=>{if(this._closed)return;const v=b.error??new Error("unknown DataChannel error");b.error?.errorDetail==="sctp-failure"?D.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",b.error?.sctpCauseCode,b.error.message):D.error('DataChannel "error" event: %o',v),this.safeEmit("error",v)}),this._dataChannel.addEventListener("close",()=>{this._closed||(D.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",b=>{this._closed||this.safeEmit("message",b.data)})}};return Wr.DataConsumer=l,Wr}var Th;function Rm(){if(Th)return Zr;Th=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Transport=void 0;const _=ay(),L=Tt(),D=Gi(),l=Qt(),A=Wt(),b=Oa(),v=_m(),S=bm(),O=Sm(),E=wm(),R=new L.Logger("Transport");class o{consumerOptions;promise;resolve;reject;constructor(k){this.consumerOptions=k,this.promise=new Promise((C,s)=>{this.resolve=C,this.reject=s})}}let m=class extends D.EnhancedEventEmitter{_id;_closed=!1;_direction;_extendedRtpCapabilities;_canProduceByKind;_maxSctpMessageSize;_handler;_iceGatheringState="new";_connectionState="new";_appData;_producers=new Map;_consumers=new Map;_dataProducers=new Map;_dataConsumers=new Map;_probatorConsumerCreated=!1;_awaitQueue=new _.AwaitQueue;_pendingConsumerTasks=[];_consumerCreationInProgress=!1;_pendingPauseConsumers=new Map;_consumerPauseInProgress=!1;_pendingResumeConsumers=new Map;_consumerResumeInProgress=!1;_pendingCloseConsumers=new Map;_consumerCloseInProgress=!1;_observer=new D.EnhancedEventEmitter;constructor({direction:k,id:C,iceParameters:s,iceCandidates:c,dtlsParameters:f,sctpParameters:u,iceServers:d,iceTransportPolicy:p,additionalSettings:y,appData:g,handlerFactory:x,extendedRtpCapabilities:w,canProduceByKind:q}){super(),R.debug("constructor() [id:%s, direction:%s]",C,k),this._id=C,this._direction=k,this._extendedRtpCapabilities=w,this._canProduceByKind=q,this._maxSctpMessageSize=u?u.maxMessageSize:null;const H=A.clone(y)??{};delete H.iceServers,delete H.iceTransportPolicy,delete H.bundlePolicy,delete H.rtcpMuxPolicy,this._handler=x.factory({direction:k,iceParameters:s,iceCandidates:c,dtlsParameters:f,sctpParameters:u,iceServers:d,iceTransportPolicy:p,additionalSettings:H,extendedRtpCapabilities:w}),this._appData=g??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(k){this._appData=k}get observer(){return this._observer}close(){if(!this._closed){R.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const k of this._producers.values())k.transportClosed();this._producers.clear();for(const k of this._consumers.values())k.transportClosed();this._consumers.clear();for(const k of this._dataProducers.values())k.transportClosed();this._dataProducers.clear();for(const k of this._dataConsumers.values())k.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new l.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:k}){if(R.debug("restartIce()"),this._closed)throw new l.InvalidStateError("closed");if(!k)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(k),"transport.restartIce()")}async updateIceServers({iceServers:k}={}){if(R.debug("updateIceServers()"),this._closed)throw new l.InvalidStateError("closed");if(!Array.isArray(k))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(k),"transport.updateIceServers()")}async produce({track:k,encodings:C,codecOptions:s,codec:c,stopTracks:f=!0,disableTrackOnPause:u=!0,zeroRtpOnPause:d=!1,onRtpSender:p,appData:y={}}={}){if(R.debug("produce() [track:%o]",k),this._closed)throw new l.InvalidStateError("closed");if(k){if(this._direction!=="send")throw new l.UnsupportedError("not a sending Transport");if(this._canProduceByKind[k.kind]){if(k.readyState==="ended")throw new l.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(y&&typeof y!="object")throw new TypeError("if given, appData must be an object")}else throw new l.UnsupportedError(`cannot produce ${k.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let g;if(C&&!Array.isArray(C))throw TypeError("encodings must be an array");C&&C.length===0?g=void 0:C&&(g=C.map(H=>{const F={active:!0};return H.active===!1&&(F.active=!1),typeof H.dtx=="boolean"&&(F.dtx=H.dtx),typeof H.scalabilityMode=="string"&&(F.scalabilityMode=H.scalabilityMode),typeof H.scaleResolutionDownBy=="number"&&(F.scaleResolutionDownBy=H.scaleResolutionDownBy),typeof H.maxBitrate=="number"&&(F.maxBitrate=H.maxBitrate),typeof H.maxFramerate=="number"&&(F.maxFramerate=H.maxFramerate),typeof H.adaptivePtime=="boolean"&&(F.adaptivePtime=H.adaptivePtime),typeof H.priority=="string"&&(F.priority=H.priority),typeof H.networkPriority=="string"&&(F.networkPriority=H.networkPriority),F}));const{localId:x,rtpParameters:w,rtpSender:q}=await this._handler.send({track:k,encodings:g,codecOptions:s,codec:c,onRtpSender:p});try{b.validateRtpParameters(w);const{id:H}=await new Promise((M,I)=>{this.safeEmit("produce",{kind:k.kind,rtpParameters:w,appData:y},M,I)}),F=new v.Producer({id:H,localId:x,rtpSender:q,track:k,rtpParameters:w,stopTracks:f,disableTrackOnPause:u,zeroRtpOnPause:d,appData:y});return this._producers.set(F.id,F),this.handleProducer(F),this._observer.safeEmit("newproducer",F),F}catch(H){throw this._handler.stopSending(x).catch(()=>{}),H}},"transport.produce()").catch(g=>{if(f)try{k.stop()}catch{}throw g})}async consume({id:k,producerId:C,kind:s,rtpParameters:c,streamId:f,onRtpReceiver:u,appData:d={}}){if(R.debug("consume()"),this._closed)throw new l.InvalidStateError("closed");if(this._direction!=="recv")throw new l.UnsupportedError("not a receiving Transport");if(typeof k!="string")throw new TypeError("missing id");if(typeof C!="string")throw new TypeError("missing producerId");if(s!=="audio"&&s!=="video")throw new TypeError(`invalid kind '${s}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(d&&typeof d!="object")throw new TypeError("if given, appData must be an object");const p=A.clone(c);if(!b.canReceive(p,this._extendedRtpCapabilities))throw new l.UnsupportedError("cannot consume this Producer");const g=new o({id:k,producerId:C,kind:s,rtpParameters:p,streamId:f,onRtpReceiver:u,appData:d});return this._pendingConsumerTasks.push(g),queueMicrotask(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),g.promise}async produceData({ordered:k=!0,maxPacketLifeTime:C,maxRetransmits:s,label:c="",protocol:f="",appData:u={}}={}){if(R.debug("produceData()"),this._closed)throw new l.InvalidStateError("closed");if(this._direction!=="send")throw new l.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(u&&typeof u!="object")throw new TypeError("if given, appData must be an object")}else throw new l.UnsupportedError("SCTP not enabled by remote Transport");return(C||s)&&(k=!1),this._awaitQueue.push(async()=>{const{dataChannel:d,sctpStreamParameters:p}=await this._handler.sendDataChannel({ordered:k,maxPacketLifeTime:C,maxRetransmits:s,label:c,protocol:f});b.validateSctpStreamParameters(p);const{id:y}=await new Promise((x,w)=>{this.safeEmit("producedata",{sctpStreamParameters:p,label:c,protocol:f,appData:u},x,w)}),g=new O.DataProducer({id:y,dataChannel:d,sctpStreamParameters:p,appData:u});return this._dataProducers.set(g.id,g),this.handleDataProducer(g),this._observer.safeEmit("newdataproducer",g),g},"transport.produceData()")}async consumeData({id:k,dataProducerId:C,sctpStreamParameters:s,label:c="",protocol:f="",appData:u={}}){if(R.debug("consumeData()"),this._closed)throw new l.InvalidStateError("closed");if(this._direction!=="recv")throw new l.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof k!="string")throw new TypeError("missing id");if(typeof C!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(u&&typeof u!="object")throw new TypeError("if given, appData must be an object")}else throw new l.UnsupportedError("SCTP not enabled by remote Transport");const d=A.clone(s);return b.validateSctpStreamParameters(d),this._awaitQueue.push(async()=>{const{dataChannel:p}=await this._handler.receiveDataChannel({sctpStreamParameters:d,label:c,protocol:f}),y=new E.DataConsumer({id:k,dataProducerId:C,dataChannel:p,sctpStreamParameters:d,appData:u});return this._dataConsumers.set(y.id,y),this.handleDataConsumer(y),this._observer.safeEmit("newdataconsumer",y),y},"transport.consumeData()")}createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){R.debug("createPendingConsumers() | there is no Consumer to be created");return}const k=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let C;const s=[];for(const c of k){const{id:f,kind:u,rtpParameters:d,streamId:p,onRtpReceiver:y}=c.consumerOptions;s.push({trackId:f,kind:u,rtpParameters:d,streamId:p,onRtpReceiver:y})}try{const c=await this._handler.receive(s);for(let f=0;f<c.length;++f){const u=k[f],d=c[f],{id:p,producerId:y,kind:g,rtpParameters:x,appData:w}=u.consumerOptions,{localId:q,rtpReceiver:H,track:F}=d,M=new S.Consumer({id:p,localId:q,producerId:y,rtpReceiver:H,track:F,rtpParameters:x,appData:w});this._consumers.set(M.id,M),this.handleConsumer(M),!this._probatorConsumerCreated&&!C&&g==="video"&&(C=M),this._observer.safeEmit("newconsumer",M),u.resolve(M)}}catch(c){for(const f of k)f.reject(c)}if(C)try{const c=b.generateProbatorRtpParameters(C.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:c}]),R.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(c){R.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",c)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){R.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const k=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const C=k.map(s=>s.localId);await this._handler.pauseReceiving(C)}catch(C){R.error("pausePendingConsumers() | failed to pause Consumers:",C)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){R.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const k=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const C=k.map(s=>s.localId);await this._handler.resumeReceiving(C)}catch(C){R.error("resumePendingConsumers() | failed to resume Consumers:",C)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){R.debug("closePendingConsumers() | there is no Consumer to be closed");return}const k=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(k.map(C=>C.localId))}catch(C){R.error("closePendingConsumers() | failed to close Consumers:",C)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const k=this._handler;k.on("@connect",({dtlsParameters:C},s,c)=>{if(this._closed){c(new l.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:C},s,c)}),k.on("@icegatheringstatechange",C=>{C!==this._iceGatheringState&&(R.debug("ICE gathering state changed to %s",C),this._iceGatheringState=C,this._closed||this.safeEmit("icegatheringstatechange",C))}),k.on("@icecandidateerror",C=>{R.warn(`ICE candidate error [url:${C.url}, localAddress:${C.address}, localPort:${C.port}]: ${C.errorCode} "${C.errorText}"`),this.safeEmit("icecandidateerror",C)}),k.on("@connectionstatechange",C=>{C!==this._connectionState&&(R.debug("connection state changed to %s",C),this._connectionState=C,this._closed||this.safeEmit("connectionstatechange",C))})}handleProducer(k){k.on("@close",()=>{this._producers.delete(k.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(k.localId),"producer @close event").catch(C=>R.warn("producer.close() failed:%o",C))}),k.on("@pause",(C,s)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(k.localId),"producer @pause event").then(C).catch(s)}),k.on("@resume",(C,s)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(k.localId),"producer @resume event").then(C).catch(s)}),k.on("@replacetrack",(C,s,c)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(k.localId,C),"producer @replacetrack event").then(s).catch(c)}),k.on("@setmaxspatiallayer",(C,s,c)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(k.localId,C),"producer @setmaxspatiallayer event").then(s).catch(c)}),k.on("@setrtpencodingparameters",(C,s,c)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(k.localId,C),"producer @setrtpencodingparameters event").then(s).catch(c)}),k.on("@getstats",(C,s)=>{if(this._closed)return s(new l.InvalidStateError("closed"));this._handler.getSenderStats(k.localId).then(C).catch(s)})}handleConsumer(k){k.on("@close",()=>{this._consumers.delete(k.id),this._pendingPauseConsumers.delete(k.id),this._pendingResumeConsumers.delete(k.id),!this._closed&&(this._pendingCloseConsumers.set(k.id,k),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),k.on("@pause",()=>{this._pendingResumeConsumers.has(k.id)&&this._pendingResumeConsumers.delete(k.id),this._pendingPauseConsumers.set(k.id,k),queueMicrotask(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),k.on("@resume",()=>{this._pendingPauseConsumers.has(k.id)&&this._pendingPauseConsumers.delete(k.id),this._pendingResumeConsumers.set(k.id,k),queueMicrotask(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),k.on("@getstats",(C,s)=>{if(this._closed)return s(new l.InvalidStateError("closed"));this._handler.getReceiverStats(k.localId).then(C).catch(s)})}handleDataProducer(k){k.on("@close",()=>{this._dataProducers.delete(k.id)})}handleDataConsumer(k){k.on("@close",()=>{this._dataConsumers.delete(k.id)})}};return Zr.Transport=m,Zr}var es={},$t={},cu={},ou={exports:{}},Eh;function gu(){if(Eh)return ou.exports;Eh=1;var _=ou.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(L){return L.encoding?"rtpmap:%d %s/%s/%s":L.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(L){return L.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(L){return L.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(L){return"extmap:%d"+(L.direction?"/%s":"%v")+(L["encrypt-uri"]?" %s":"%v")+" %s"+(L.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(L){return L.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(L){var D="candidate:%s %d %s %d %s %d typ %s";return D+=L.raddr!=null?" raddr %s rport %d":"%v%v",D+=L.tcptype!=null?" tcptype %s":"%v",L.generation!=null&&(D+=" generation %d"),D+=L["network-id"]!=null?" network-id %d":"%v",D+=L["network-cost"]!=null?" network-cost %d":"%v",D}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(L){var D="ssrc:%d";return L.attribute!=null&&(D+=" %s",L.value!=null&&(D+=":%s")),D}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(L){return L.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(L){return L.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(L){return"imageattr:%s %s %s"+(L.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(L){return"simulcast:%s %s"+(L.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(L){return"ts-refclk:%s"+(L.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(L){var D="mediaclk:";return D+=L.id!=null?"id=%s %s":"%v%s",D+=L.mediaClockValue!=null?"=%s":"",D+=L.rateNumerator!=null?" rate=%s":"",D+=L.rateDenominator!=null?"/%s":"",D}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(_).forEach(function(L){var D=_[L];D.forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})}),ou.exports}var Ch;function iy(){return Ch||(Ch=1,function(_){var L=function(S){return String(Number(S))===S?Number(S):S},D=function(S,O,E,R){if(R&&!E)O[R]=L(S[1]);else for(var o=0;o<E.length;o+=1)S[o+1]!=null&&(O[E[o]]=L(S[o+1]))},l=function(S,O,E){var R=S.name&&S.names;S.push&&!O[S.push]?O[S.push]=[]:R&&!O[S.name]&&(O[S.name]={});var o=S.push?{}:R?O[S.name]:O;D(E.match(S.reg),o,S.names,S.name),S.push&&O[S.push].push(o)},A=gu(),b=RegExp.prototype.test.bind(/^([a-z])=(.*)/);_.parse=function(S){var O={},E=[],R=O;return S.split(/(\r\n|\r|\n)/).filter(b).forEach(function(o){var m=o[0],j=o.slice(2);m==="m"&&(E.push({rtp:[],fmtp:[]}),R=E[E.length-1]);for(var k=0;k<(A[m]||[]).length;k+=1){var C=A[m][k];if(C.reg.test(j))return l(C,R,j)}}),O.media=E,O};var v=function(S,O){var E=O.split(/=(.+)/,2);return E.length===2?S[E[0]]=L(E[1]):E.length===1&&O.length>1&&(S[E[0]]=void 0),S};_.parseParams=function(S){return S.split(/;\s?/).reduce(v,{})},_.parseFmtpConfig=_.parseParams,_.parsePayloads=function(S){return S.toString().split(" ").map(Number)},_.parseRemoteCandidates=function(S){for(var O=[],E=S.split(" ").map(L),R=0;R<E.length;R+=3)O.push({component:E[R],ip:E[R+1],port:E[R+2]});return O},_.parseImageAttributes=function(S){return S.split(" ").map(function(O){return O.substring(1,O.length-1).split(",").reduce(v,{})})},_.parseSimulcastStreamList=function(S){return S.split(";").map(function(O){return O.split(",").map(function(E){var R,o=!1;return E[0]!=="~"?R=L(E):(R=L(E.substring(1,E.length)),o=!0),{scid:R,paused:o}})})}}(cu)),cu}var lu,Dh;function ny(){if(Dh)return lu;Dh=1;var _=gu(),L=/%[sdv%]/g,D=function(v){var S=1,O=arguments,E=O.length;return v.replace(L,function(R){if(S>=E)return R;var o=O[S];switch(S+=1,R){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})},l=function(v,S,O){var E=S.format instanceof Function?S.format(S.push?O:O[S.name]):S.format,R=[v+"="+E];if(S.names)for(var o=0;o<S.names.length;o+=1){var m=S.names[o];S.name?R.push(O[S.name][m]):R.push(O[S.names[o]])}else R.push(O[S.name]);return D.apply(null,R)},A=["v","o","s","i","u","e","p","c","b","t","r","z","a"],b=["i","c","b","a"];return lu=function(v,S){S=S||{},v.version==null&&(v.version=0),v.name==null&&(v.name=" "),v.media.forEach(function(o){o.payloads==null&&(o.payloads="")});var O=S.outerOrder||A,E=S.innerOrder||b,R=[];return O.forEach(function(o){_[o].forEach(function(m){m.name in v&&v[m.name]!=null?R.push(l(o,m,v)):m.push in v&&v[m.push]!=null&&v[m.push].forEach(function(j){R.push(l(o,m,j))})})}),v.media.forEach(function(o){R.push(l("m",_.m[0],o)),E.forEach(function(m){_[m].forEach(function(j){j.name in o&&o[j.name]!=null?R.push(l(m,j,o)):j.push in o&&o[j.push]!=null&&o[j.push].forEach(function(k){R.push(l(m,j,k))})})})}),R.join(`\r
`)+`\r
`},lu}var xh;function oi(){if(xh)return $t;xh=1;var _=iy(),L=ny(),D=gu();return $t.grammar=D,$t.write=L,$t.parse=_.parse,$t.parseParams=_.parseParams,$t.parseFmtpConfig=_.parseFmtpConfig,$t.parsePayloads=_.parsePayloads,$t.parseRemoteCandidates=_.parseRemoteCandidates,$t.parseImageAttributes=_.parseImageAttributes,$t.parseSimulcastStreamList=_.parseSimulcastStreamList,$t}var Ec={},Mh;function Un(){if(Mh)return Ec;Mh=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.parse=L;const _=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function L(D){const l=_.exec(D??"");return l?{spatialLayers:Number(l[1]),temporalLayers:Number(l[2])}:{spatialLayers:1,temporalLayers:1}}return Ec}var Yi={},Oh;function fs(){if(Oh)return Yi;Oh=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.extractRtpCapabilities=L,Yi.extractDtlsParameters=D,Yi.getCname=l,Yi.applyCodecParameters=A;const _=oi();function L({sdpObject:b}){const v=new Map,S=[];let O=!1,E=!1;for(const o of b.media){const m=o.type;switch(m){case"audio":{if(O)continue;O=!0;break}case"video":{if(E)continue;E=!0;break}default:continue}for(const j of o.rtp){const k={kind:m,mimeType:`${m}/${j.codec}`,preferredPayloadType:j.payload,clockRate:j.rate,channels:j.encoding,parameters:{},rtcpFeedback:[]};v.set(k.preferredPayloadType,k)}for(const j of o.fmtp??[]){const k=_.parseParams(j.config),C=v.get(j.payload);C&&(k?.hasOwnProperty("profile-level-id")&&(k["profile-level-id"]=String(k["profile-level-id"])),C.parameters=k)}for(const j of o.rtcpFb??[]){const k={type:j.type,parameter:j.subtype};if(k.parameter||delete k.parameter,j.payload!=="*"){const C=v.get(Number(j.payload));if(!C)continue;C.rtcpFeedback.push(k)}else for(const C of v.values())C.kind===m&&!/.+\/rtx$/i.test(C.mimeType)&&C.rtcpFeedback.push(k)}for(const j of o.ext??[]){if(j["encrypt-uri"])continue;const k={kind:m,uri:j.uri,preferredId:j.value};S.push(k)}}return{codecs:Array.from(v.values()),headerExtensions:S}}function D({sdpObject:b}){let v=b.setup,S=b.fingerprint;if(!v||!S){const R=(b.media??[]).find(o=>o.port!==0);R&&(v??=R.setup,S??=R.fingerprint)}if(v){if(!S)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let O;switch(v){case"active":{O="client";break}case"passive":{O="server";break}case"actpass":{O="auto";break}}return{role:O,fingerprints:[{algorithm:S.type,value:S.hash}]}}function l({offerMediaObject:b}){const v=(b.ssrcs??[]).find(S=>S.attribute==="cname");return v?v.value:""}function A({offerRtpParameters:b,answerMediaObject:v}){for(const S of b.codecs){const O=S.mimeType.toLowerCase();if(O!=="audio/opus"||!(v.rtp??[]).find(m=>m.payload===S.payloadType))continue;v.fmtp=v.fmtp??[];let R=v.fmtp.find(m=>m.payload===S.payloadType);R||(R={payload:S.payloadType,config:""},v.fmtp.push(R));const o=_.parseParams(R.config);switch(O){case"audio/opus":{const m=S.parameters?.["sprop-stereo"];m!==void 0&&(o.stereo=Number(m)?1:0);break}}R.config="";for(const m of Object.keys(o))R.config&&(R.config+=";"),R.config+=`${m}=${o[m]}`}}return Yi}var ts={},Ah;function ps(){if(Ah)return ts;Ah=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.getRtpEncodings=_,ts.addLegacySimulcast=L;function _({offerMediaObject:D}){const l=new Set;for(const v of D.ssrcs??[]){const S=v.id;S&&l.add(S)}if(l.size===0)throw new Error("no a=ssrc lines found");const A=new Map;for(const v of D.ssrcGroups??[]){if(v.semantics!=="FID")continue;const S=v.ssrcs.split(/\s+/),O=Number(S[0]),E=Number(S[1]);l.has(O)&&(l.delete(O),l.delete(E),A.set(O,E))}for(const v of l)A.set(v,void 0);const b=[];for(const[v,S]of A){const O={ssrc:v};S&&(O.rtx={ssrc:S}),b.push(O)}return b}function L({offerMediaObject:D,numStreams:l}){if(l<=1)throw new TypeError("numStreams must be greater than 1");const A=(D.ssrcs??[]).find(j=>j.attribute==="msid");if(!A)throw new Error("a=ssrc line with msid information not found");const[b,v]=A.value.split(" "),S=Number(A.id);let O;(D.ssrcGroups??[]).some(j=>{if(j.semantics!=="FID")return!1;const k=j.ssrcs.split(/\s+/);return Number(k[0])===S?(O=Number(k[1]),!0):!1});const E=(D.ssrcs??[]).find(j=>j.attribute==="cname");if(!E)throw new Error("a=ssrc line with cname information not found");const R=E.value,o=[],m=[];for(let j=0;j<l;++j)o.push(S+j),O&&m.push(O+j);D.ssrcGroups=[],D.ssrcs=[],D.ssrcGroups.push({semantics:"SIM",ssrcs:o.join(" ")});for(const j of o)D.ssrcs.push({id:j,attribute:"cname",value:R}),D.ssrcs.push({id:j,attribute:"msid",value:`${b} ${v}`});for(let j=0;j<m.length;++j){const k=o[j],C=m[j];D.ssrcs.push({id:C,attribute:"cname",value:R}),D.ssrcs.push({id:C,attribute:"msid",value:`${b} ${v}`}),D.ssrcGroups.push({semantics:"FID",ssrcs:`${k} ${C}`})}}return ts}var Cc={},Lh;function Gc(){if(Lh)return Cc;Lh=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.addNackSupportForOpus=_;function _(L){for(const D of L.codecs??[])(D.mimeType.toLowerCase()==="audio/opus"||D.mimeType.toLowerCase()==="audio/multiopus")&&!D.rtcpFeedback?.some(l=>l.type==="nack"&&!l.parameter)&&(D.rtcpFeedback||(D.rtcpFeedback=[]),D.rtcpFeedback.push({type:"nack"}))}return Cc}var as={},kh;function Qi(){if(kh)return as;kh=1,Object.defineProperty(as,"__esModule",{value:!0}),as.HandlerInterface=void 0;const _=Gi();let L=class extends _.EnhancedEventEmitter{constructor(){super()}};return as.HandlerInterface=L,as}var is={},Ma={},Nh;function ry(){if(Nh)return Ma;Nh=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.OfferMediaSection=Ma.AnswerMediaSection=Ma.MediaSection=void 0;const _=oi(),L=Wt();let D=class{_mediaObject;constructor({iceParameters:S,iceCandidates:O,dtlsParameters:E}){if(this._mediaObject={type:"",port:0,protocol:"",payloads:"",rtp:[],fmtp:[]},S&&this.setIceParameters(S),O){this._mediaObject.candidates=[];for(const R of O){const o={foundation:R.foundation,component:1,ip:R.address??R.ip,port:R.port,priority:R.priority,transport:R.protocol,type:R.type};R.tcpType&&(o.tcptype=R.tcpType),this._mediaObject.candidates.push(o)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}E&&this.setDtlsRole(E.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(S){this._mediaObject.iceUfrag=S.usernameFragment,this._mediaObject.icePwd=S.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};Ma.MediaSection=D;class l extends D{constructor({iceParameters:S,iceCandidates:O,dtlsParameters:E,sctpParameters:R,plainRtpParameters:o,offerMediaObject:m,offerRtpParameters:j,answerRtpParameters:k,codecOptions:C}){switch(super({iceParameters:S,iceCandidates:O,dtlsParameters:E}),this._mediaObject.mid=String(m.mid),this._mediaObject.type=m.type,this._mediaObject.protocol=m.protocol,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),m.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const s of k.codecs){const c={payload:s.payloadType,codec:b(s),rate:s.clockRate};s.channels>1&&(c.encoding=s.channels),this._mediaObject.rtp.push(c);const f=L.clone(s.parameters)??{};let u=L.clone(s.rtcpFeedback)??[];if(C){const{opusStereo:p,opusFec:y,opusDtx:g,opusMaxPlaybackRate:x,opusMaxAverageBitrate:w,opusPtime:q,opusNack:H,videoGoogleStartBitrate:F,videoGoogleMaxBitrate:M,videoGoogleMinBitrate:I}=C,Z=j.codecs.find(N=>N.payloadType===s.payloadType);switch(s.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{p!==void 0&&(Z.parameters["sprop-stereo"]=p?1:0,f.stereo=p?1:0),y!==void 0&&(Z.parameters.useinbandfec=y?1:0,f.useinbandfec=y?1:0),g!==void 0&&(Z.parameters.usedtx=g?1:0,f.usedtx=g?1:0),x!==void 0&&(f.maxplaybackrate=x),w!==void 0&&(f.maxaveragebitrate=w),q!==void 0&&(Z.parameters.ptime=q,f.ptime=q),H||(Z.rtcpFeedback=Z.rtcpFeedback.filter(N=>N.type!=="nack"||N.parameter),u=u.filter(N=>N.type!=="nack"||N.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":case"video/av1":{F!==void 0&&(f["x-google-start-bitrate"]=F),M!==void 0&&(f["x-google-max-bitrate"]=M),I!==void 0&&(f["x-google-min-bitrate"]=I);break}}}const d={payload:s.payloadType,config:""};for(const p of Object.keys(f))d.config&&(d.config+=";"),d.config+=`${p}=${f[p]}`;d.config&&this._mediaObject.fmtp.push(d);for(const p of u)this._mediaObject.rtcpFb.push({payload:s.payloadType,type:p.type,subtype:p.parameter})}this._mediaObject.payloads=k.codecs.map(s=>s.payloadType).join(" "),this._mediaObject.ext=[];for(const s of k.headerExtensions)(m.ext??[]).some(f=>f.uri===s.uri)&&this._mediaObject.ext.push({uri:s.uri,value:s.id});if(m.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),m.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:m.simulcast.list1},this._mediaObject.rids=[];for(const s of m.rids??[])s.direction==="send"&&this._mediaObject.rids.push({id:s.id,direction:"recv"})}else if(m.simulcast_03){this._mediaObject.simulcast_03={value:m.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const s of m.rids??[])s.direction==="send"&&this._mediaObject.rids.push({id:s.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";break}case"application":{typeof m.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=R.port,this._mediaObject.maxMessageSize=R.maxMessageSize):m.sctpmap&&(this._mediaObject.payloads=String(R.port),this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:R.port,maxMessageSize:R.maxMessageSize});break}}}setDtlsRole(S){switch(S){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(S){if(!this._mediaObject.simulcast?.list1)return;const O={};for(const o of S)o.rid&&(O[o.rid]=o);const E=this._mediaObject.simulcast.list1,R=_.parseSimulcastStreamList(E);for(const o of R)for(const m of o)m.paused=!O[m.scid]?.active;this._mediaObject.simulcast.list1=R.map(o=>o.map(m=>`${m.paused?"~":""}${m.scid}`).join(",")).join(";")}}Ma.AnswerMediaSection=l;class A extends D{constructor({iceParameters:S,iceCandidates:O,dtlsParameters:E,sctpParameters:R,plainRtpParameters:o,mid:m,kind:j,offerRtpParameters:k,streamId:C,trackId:s}){switch(super({iceParameters:S,iceCandidates:O,dtlsParameters:E}),this._mediaObject.mid=String(m),this._mediaObject.type=j,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},R?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),this._mediaObject.extmapAllowMixed="extmap-allow-mixed",j){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._mediaObject.msid=`${C??"-"} ${s}`;for(const d of k.codecs){const p={payload:d.payloadType,codec:b(d),rate:d.clockRate};d.channels>1&&(p.encoding=d.channels),this._mediaObject.rtp.push(p);const y={payload:d.payloadType,config:""};for(const g of Object.keys(d.parameters??{}))y.config&&(y.config+=";"),y.config+=`${g}=${d.parameters[g]}`;y.config&&this._mediaObject.fmtp.push(y);for(const g of d.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:d.payloadType,type:g.type,subtype:g.parameter})}this._mediaObject.payloads=k.codecs.map(d=>d.payloadType).join(" "),this._mediaObject.ext=[];for(const d of k.headerExtensions)this._mediaObject.ext.push({uri:d.uri,value:d.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const c=k.encodings[0],f=c.ssrc,u=c.rtx?.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],f&&k.rtcp.cname&&this._mediaObject.ssrcs.push({id:f,attribute:"cname",value:k.rtcp.cname}),u&&(k.rtcp.cname&&this._mediaObject.ssrcs.push({id:u,attribute:"cname",value:k.rtcp.cname}),f&&this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${f} ${u}`}));break}case"application":{this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=R.port,this._mediaObject.maxMessageSize=R.maxMessageSize;break}}}setDtlsRole(S){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}}Ma.OfferMediaSection=A;function b(v){const O=new RegExp("^(audio|video)/(.+)","i").exec(v.mimeType);if(!O)throw new TypeError("invalid codec.mimeType");return O[2]}return Ma}var zh;function hs(){if(zh)return is;zh=1,Object.defineProperty(is,"__esModule",{value:!0}),is.RemoteSdp=void 0;const _=oi(),L=Tt(),D=ry(),l=["av1","h264"],A=new L.Logger("RemoteSdp");let b=class{_iceParameters;_iceCandidates;_dtlsParameters;_sctpParameters;_plainRtpParameters;_mediaSections=[];_midToIndex=new Map;_firstMid;_sdpObject;constructor({iceParameters:S,iceCandidates:O,dtlsParameters:E,sctpParameters:R,plainRtpParameters:o}){if(this._iceParameters=S,this._iceCandidates=O,this._dtlsParameters=E,this._sctpParameters=R,this._plainRtpParameters=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"10000",sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},S?.iceLite&&(this._sdpObject.icelite="ice-lite"),E){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const m=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:E.fingerprints[m-1].algorithm,hash:E.fingerprints[m-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}o&&(this._sdpObject.origin.address=o.ip,this._sdpObject.origin.ipVer=o.ipVersion)}updateIceParameters(S){A.debug("updateIceParameters() [iceParameters:%o]",S),this._iceParameters=S,this._sdpObject.icelite=S.iceLite?"ice-lite":void 0;for(const O of this._mediaSections)O.setIceParameters(S)}updateDtlsRole(S){A.debug("updateDtlsRole() [role:%s]",S),this._dtlsParameters.role=S;for(const O of this._mediaSections)O.setDtlsRole(S)}setSessionExtmapAllowMixed(){A.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let S=0;S<this._mediaSections.length;++S){const O=this._mediaSections[S];if(O.closed)return{idx:S,reuseMid:O.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:S,reuseMid:O,offerRtpParameters:E,answerRtpParameters:R,codecOptions:o}){const m=new D.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:S,offerRtpParameters:E,answerRtpParameters:R,codecOptions:o}),j=m.getObject();j.rtp.find(C=>l.includes(C.codec.toLowerCase()))||(j.ext=j.ext?.filter(C=>C.uri!=="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension")),O?this._replaceMediaSection(m,O):this._midToIndex.has(m.mid)?this._replaceMediaSection(m):this._addMediaSection(m)}receive({mid:S,kind:O,offerRtpParameters:E,streamId:R,trackId:o}){this.setSessionExtmapAllowMixed();const m=new D.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,mid:S,kind:O,offerRtpParameters:E,streamId:R,trackId:o}),j=this._mediaSections.find(k=>k.closed);j?this._replaceMediaSection(m,j.mid):this._addMediaSection(m)}pauseMediaSection(S){this._findMediaSection(S).pause()}resumeSendingMediaSection(S){this._findMediaSection(S).resume()}resumeReceivingMediaSection(S){this._findMediaSection(S).resume()}disableMediaSection(S){this._findMediaSection(S).disable()}closeMediaSection(S){const O=this._findMediaSection(S);return S===this._firstMid?(A.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",S),this.disableMediaSection(S),!1):(O.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(S,O){const E=this._findMediaSection(S);E.muxSimulcastStreams(O),this._replaceMediaSection(E)}sendSctpAssociation({offerMediaObject:S}){const O=new D.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:S});this._addMediaSection(O)}receiveSctpAssociation(){const S=new D.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application"});this._addMediaSection(S)}getSdp(){return this._sdpObject.origin.sessionVersion++,_.write(this._sdpObject)}_addMediaSection(S){this._firstMid||(this._firstMid=S.mid),this._mediaSections.push(S),this._midToIndex.set(S.mid,this._mediaSections.length-1),this._sdpObject.media.push(S.getObject()),this._regenerateBundleMids()}_replaceMediaSection(S,O){if(typeof O=="string"){const E=this._midToIndex.get(O);if(E===void 0)throw new Error(`no media section found for reuseMid '${O}'`);const R=this._mediaSections[E];this._mediaSections[E]=S,this._midToIndex.delete(R.mid),this._midToIndex.set(S.mid,E),this._sdpObject.media[E]=S.getObject(),this._regenerateBundleMids()}else{const E=this._midToIndex.get(S.mid);if(E===void 0)throw new Error(`no media section found with mid '${S.mid}'`);this._mediaSections[E]=S,this._sdpObject.media[E]=S.getObject()}}_findMediaSection(S){const O=this._midToIndex.get(S);if(O===void 0)throw new Error(`no media section found with mid '${S}'`);return this._mediaSections[O]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(S=>!S.closed).map(S=>S.mid).join(" "))}};return is.RemoteSdp=b,is}var jh;function sy(){if(jh)return es;jh=1,Object.defineProperty(es,"__esModule",{value:!0}),es.Chrome111=void 0;const _=oi(),L=Tt(),D=Wt(),l=Oa(),A=Qt(),b=Un(),v=fs(),S=ps(),O=Gc(),E=Qi(),R=hs(),o=new L.Logger("Chrome111"),m="Chrome111",j={OS:1024,MIS:1024};let k=class Tm extends E.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:m,factory:s=>new Tm(s),getNativeRtpCapabilities:async()=>{o.debug("getNativeRtpCapabilities()");const s=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{s.addTransceiver("audio"),s.addTransceiver("video",{sendEncodings:[{scalabilityMode:"L3T3"}]});const c=await s.createOffer();try{s.close()}catch{}const f=_.parse(c.sdp),u=v.extractRtpCapabilities({sdpObject:f});return O.addNackSupportForOpus(u),u}catch(c){try{s.close()}catch{}throw c}},getNativeSctpCapabilities:async()=>(o.debug("getNativeSctpCapabilities()"),{numStreams:j})}}constructor({direction:s,iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d,iceServers:p,iceTransportPolicy:y,additionalSettings:g,extendedRtpCapabilities:x}){super(),o.debug("constructor()"),this._direction=s,this._remoteSdp=new R.RemoteSdp({iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",x),video:l.getSendingRtpParameters("video",x)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",x),video:l.getSendingRemoteRtpParameters("video",x)},u.role&&u.role!=="auto"&&(this._forcedLocalDtlsRole=u.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:p??[],iceTransportPolicy:y??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...g}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",w=>{this.emit("@icecandidateerror",w)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(o.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}get name(){return m}close(){if(o.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async updateIceServers(s){this.assertNotClosed(),o.debug("updateIceServers()");const c=this._pc.getConfiguration();c.iceServers=s,this._pc.setConfiguration(c)}async restartIce(s){if(this.assertNotClosed(),o.debug("restartIce()"),this._remoteSdp.updateIceParameters(s),!!this._transportReady)if(this._direction==="send"){const c=await this._pc.createOffer({iceRestart:!0});o.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:s,encodings:c,codecOptions:f,codec:u,onRtpSender:d}){if(this.assertNotClosed(),this.assertSendDirection(),o.debug("send() [kind:%s, track.id:%s]",s.kind,s.id),c&&c.length>1){let I=1;for(const Z of c){const N=Z.scalabilityMode?(0,b.parse)(Z.scalabilityMode).temporalLayers:3;N>I&&(I=N)}c.forEach((Z,N)=>{Z.rid=`r${N}`,Z.scalabilityMode=`L1T${I}`})}const p=D.clone(this._sendingRtpParametersByKind[s.kind]);p.codecs=l.reduceCodecs(p.codecs,u);const y=D.clone(this._sendingRemoteRtpParametersByKind[s.kind]);y.codecs=l.reduceCodecs(y.codecs,u);const g=this._remoteSdp.getNextMediaSectionIdx(),x=this._pc.addTransceiver(s,{direction:"sendonly",streams:[this._sendStream],sendEncodings:c});d&&d(x.sender);const w=await this._pc.createOffer();let q=_.parse(w.sdp);q.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q}),o.debug("send() | calling pc.setLocalDescription() [offer:%o]",w),await this._pc.setLocalDescription(w);const H=x.mid;p.mid=H,q=_.parse(this._pc.localDescription.sdp);const F=q.media[g.idx];if(p.rtcp.cname=v.getCname({offerMediaObject:F}),!c)p.encodings=S.getRtpEncodings({offerMediaObject:F});else if(c.length===1){const I=S.getRtpEncodings({offerMediaObject:F});Object.assign(I[0],c[0]),p.encodings=I}else p.encodings=c;this._remoteSdp.send({offerMediaObject:F,reuseMid:g.reuseMid,offerRtpParameters:p,answerRtpParameters:y,codecOptions:f});const M={type:"answer",sdp:this._remoteSdp.getSdp()};return o.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.set(H,x),{localId:H,rtpParameters:p,rtpSender:x.sender}}async stopSending(s){if(this.assertSendDirection(),o.debug("stopSending() [localId:%s]",s),this._closed)return;const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");if(c.sender.replaceTrack(null),this._pc.removeTrack(c.sender),this._remoteSdp.closeMediaSection(c.mid))try{c.stop()}catch{}const u=await this._pc.createOffer();o.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const d={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d),this._mapMidTransceiver.delete(s)}async pauseSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("pauseSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="inactive",this._remoteSdp.pauseMediaSection(s);const f=await this._pc.createOffer();o.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async resumeSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("resumeSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(this._remoteSdp.resumeSendingMediaSection(s),!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="sendonly";const f=await this._pc.createOffer();o.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async replaceTrack(s,c){this.assertNotClosed(),this.assertSendDirection(),c?o.debug("replaceTrack() [localId:%s, track.id:%s]",s,c.id):o.debug("replaceTrack() [localId:%s, no track]",s);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(c)}async setMaxSpatialLayer(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{g<=c?y.active=!0:y.active=!1}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async setRtpEncodingParameters(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setRtpEncodingParameters() [localId:%s, params:%o]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{u.encodings[g]={...y,...c}}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async getSenderStats(s){this.assertNotClosed(),this.assertSendDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.sender.getStats()}async sendDataChannel({ordered:s,maxPacketLifeTime:c,maxRetransmits:f,label:u,protocol:d}){this.assertNotClosed(),this.assertSendDirection();const p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:s,maxPacketLifeTime:c,maxRetransmits:f,protocol:d};o.debug("sendDataChannel() [options:%o]",p);const y=this._pc.createDataChannel(u,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%j.MIS,!this._hasDataChannelMediaSection){const x=await this._pc.createOffer(),w=_.parse(x.sdp),q=w.media.find(F=>F.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:w}),o.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x),this._remoteSdp.sendSctpAssociation({offerMediaObject:q});const H={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",H),await this._pc.setRemoteDescription(H),this._hasDataChannelMediaSection=!0}const g={streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits};return{dataChannel:y,sctpStreamParameters:g}}async receive(s){this.assertNotClosed(),this.assertRecvDirection();const c=[],f=new Map;for(const y of s){const{trackId:g,kind:x,rtpParameters:w,streamId:q}=y;o.debug("receive() [trackId:%s, kind:%s]",g,x);const H=w.mid??String(this._mapMidTransceiver.size);f.set(g,H),this._remoteSdp.receive({mid:H,kind:x,offerRtpParameters:w,streamId:q??w.rtcp.cname,trackId:g})}const u={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);for(const y of s){const{trackId:g,onRtpReceiver:x}=y;if(x){const w=f.get(g),q=this._pc.getTransceivers().find(H=>H.mid===w);if(!q)throw new Error("transceiver not found");x(q.receiver)}}let d=await this._pc.createAnswer();const p=_.parse(d.sdp);for(const y of s){const{trackId:g,rtpParameters:x}=y,w=f.get(g),q=p.media.find(H=>String(H.mid)===w);v.applyCodecParameters({offerRtpParameters:x,answerMediaObject:q})}d={type:"answer",sdp:_.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),o.debug("receive() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const y of s){const{trackId:g}=y,x=f.get(g),w=this._pc.getTransceivers().find(q=>q.mid===x);if(w)this._mapMidTransceiver.set(x,w),c.push({localId:x,track:w.receiver.track,rtpReceiver:w.receiver});else throw new Error("new RTCRtpTransceiver not found")}return c}async stopReceiving(s){if(this.assertRecvDirection(),this._closed)return;for(const u of s){o.debug("stopReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(d.mid)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const u of s)this._mapMidTransceiver.delete(u)}async pauseReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("pauseReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("resumeReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(s){this.assertNotClosed(),this.assertRecvDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:s,label:c,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y}=s,g={negotiated:!0,id:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y,protocol:f};o.debug("receiveDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(c,g);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const w={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",w),await this._pc.setRemoteDescription(w);const q=await this._pc.createAnswer();if(!this._transportReady){const H=_.parse(q.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:H})}o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setLocalDescription(q),this._hasDataChannelMediaSection=!0}return{dataChannel:x}}async setupTransport({localDtlsRole:s,localSdpObject:c}){c||(c=_.parse(this._pc.localDescription.sdp));const f=v.extractDtlsParameters({sdpObject:c});f.role=s,this._remoteSdp.updateDtlsRole(s==="client"?"server":"client"),await new Promise((u,d)=>{this.safeEmit("@connect",{dtlsParameters:f},u,d)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return es.Chrome111=k,es}var ns={},Uh;function cy(){if(Uh)return ns;Uh=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.Chrome74=void 0;const _=oi(),L=Tt(),D=Wt(),l=Oa(),A=Qt(),b=Un(),v=fs(),S=ps(),O=Gc(),E=Qi(),R=hs(),o=new L.Logger("Chrome74"),m="Chrome74",j={OS:1024,MIS:1024};let k=class Em extends E.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:m,factory:s=>new Em(s),getNativeRtpCapabilities:async()=>{o.debug("getNativeRtpCapabilities()");const s=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{s.addTransceiver("audio"),s.addTransceiver("video");const c=await s.createOffer();try{s.close()}catch{}const f=_.parse(c.sdp),u=v.extractRtpCapabilities({sdpObject:f});return O.addNackSupportForOpus(u),u}catch(c){try{s.close()}catch{}throw c}},getNativeSctpCapabilities:async()=>(o.debug("getNativeSctpCapabilities()"),{numStreams:j})}}constructor({direction:s,iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d,iceServers:p,iceTransportPolicy:y,additionalSettings:g,extendedRtpCapabilities:x}){super(),o.debug("constructor()"),this._direction=s,this._remoteSdp=new R.RemoteSdp({iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",x),video:l.getSendingRtpParameters("video",x)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",x),video:l.getSendingRemoteRtpParameters("video",x)},u.role&&u.role!=="auto"&&(this._forcedLocalDtlsRole=u.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:p??[],iceTransportPolicy:y??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...g}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",w=>{this.emit("@icecandidateerror",w)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(o.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}get name(){return m}close(){if(o.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async updateIceServers(s){this.assertNotClosed(),o.debug("updateIceServers()");const c=this._pc.getConfiguration();c.iceServers=s,this._pc.setConfiguration(c)}async restartIce(s){if(this.assertNotClosed(),o.debug("restartIce()"),this._remoteSdp.updateIceParameters(s),!!this._transportReady)if(this._direction==="send"){const c=await this._pc.createOffer({iceRestart:!0});o.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:s,encodings:c,codecOptions:f,codec:u}){this.assertNotClosed(),this.assertSendDirection(),o.debug("send() [kind:%s, track.id:%s]",s.kind,s.id),c&&c.length>1&&c.forEach((Z,N)=>{Z.rid=`r${N}`});const d=D.clone(this._sendingRtpParametersByKind[s.kind]);d.codecs=l.reduceCodecs(d.codecs,u);const p=D.clone(this._sendingRemoteRtpParametersByKind[s.kind]);p.codecs=l.reduceCodecs(p.codecs,u);const y=this._remoteSdp.getNextMediaSectionIdx(),g=this._pc.addTransceiver(s,{direction:"sendonly",streams:[this._sendStream],sendEncodings:c});let x=await this._pc.createOffer(),w=_.parse(x.sdp);w.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();let q;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:w});let H=!1;const F=(0,b.parse)((c??[{}])[0].scalabilityMode);c&&c.length===1&&F.spatialLayers>1&&d.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(o.debug("send() | enabling legacy simulcast for VP9 SVC"),H=!0,w=_.parse(x.sdp),q=w.media[y.idx],S.addLegacySimulcast({offerMediaObject:q,numStreams:F.spatialLayers}),x={type:"offer",sdp:_.write(w)}),o.debug("send() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const M=g.mid;if(d.mid=M,w=_.parse(this._pc.localDescription.sdp),q=w.media[y.idx],d.rtcp.cname=v.getCname({offerMediaObject:q}),!c)d.encodings=S.getRtpEncodings({offerMediaObject:q});else if(c.length===1){let Z=S.getRtpEncodings({offerMediaObject:q});Object.assign(Z[0],c[0]),H&&(Z=[Z[0]]),d.encodings=Z}else d.encodings=c;if(d.encodings.length>1&&(d.codecs[0].mimeType.toLowerCase()==="video/vp8"||d.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Z of d.encodings)Z.scalabilityMode?Z.scalabilityMode=`L1T${F.temporalLayers}`:Z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:q,reuseMid:y.reuseMid,offerRtpParameters:d,answerRtpParameters:p,codecOptions:f});const I={type:"answer",sdp:this._remoteSdp.getSdp()};return o.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I),this._mapMidTransceiver.set(M,g),{localId:M,rtpParameters:d,rtpSender:g.sender}}async stopSending(s){if(this.assertSendDirection(),o.debug("stopSending() [localId:%s]",s),this._closed)return;const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");if(c.sender.replaceTrack(null),this._pc.removeTrack(c.sender),this._remoteSdp.closeMediaSection(c.mid))try{c.stop()}catch{}const u=await this._pc.createOffer();o.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const d={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d),this._mapMidTransceiver.delete(s)}async pauseSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("pauseSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="inactive",this._remoteSdp.pauseMediaSection(s);const f=await this._pc.createOffer();o.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async resumeSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("resumeSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(this._remoteSdp.resumeSendingMediaSection(s),!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="sendonly";const f=await this._pc.createOffer();o.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async replaceTrack(s,c){this.assertNotClosed(),this.assertSendDirection(),c?o.debug("replaceTrack() [localId:%s, track.id:%s]",s,c.id):o.debug("replaceTrack() [localId:%s, no track]",s);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(c)}async setMaxSpatialLayer(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{g<=c?y.active=!0:y.active=!1}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async setRtpEncodingParameters(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setRtpEncodingParameters() [localId:%s, params:%o]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{u.encodings[g]={...y,...c}}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async getSenderStats(s){this.assertNotClosed(),this.assertSendDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.sender.getStats()}async sendDataChannel({ordered:s,maxPacketLifeTime:c,maxRetransmits:f,label:u,protocol:d}){this.assertNotClosed(),this.assertSendDirection();const p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:s,maxPacketLifeTime:c,maxRetransmits:f,protocol:d};o.debug("sendDataChannel() [options:%o]",p);const y=this._pc.createDataChannel(u,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%j.MIS,!this._hasDataChannelMediaSection){const x=await this._pc.createOffer(),w=_.parse(x.sdp),q=w.media.find(F=>F.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:w}),o.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x),this._remoteSdp.sendSctpAssociation({offerMediaObject:q});const H={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",H),await this._pc.setRemoteDescription(H),this._hasDataChannelMediaSection=!0}const g={streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits};return{dataChannel:y,sctpStreamParameters:g}}async receive(s){this.assertNotClosed(),this.assertRecvDirection();const c=[],f=new Map;for(const y of s){const{trackId:g,kind:x,rtpParameters:w,streamId:q}=y;o.debug("receive() [trackId:%s, kind:%s]",g,x);const H=w.mid??String(this._mapMidTransceiver.size);f.set(g,H),this._remoteSdp.receive({mid:H,kind:x,offerRtpParameters:w,streamId:q??w.rtcp.cname,trackId:g})}const u={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);let d=await this._pc.createAnswer();const p=_.parse(d.sdp);for(const y of s){const{trackId:g,rtpParameters:x}=y,w=f.get(g),q=p.media.find(H=>String(H.mid)===w);v.applyCodecParameters({offerRtpParameters:x,answerMediaObject:q})}d={type:"answer",sdp:_.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),o.debug("receive() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const y of s){const{trackId:g}=y,x=f.get(g),w=this._pc.getTransceivers().find(q=>q.mid===x);if(w)this._mapMidTransceiver.set(x,w),c.push({localId:x,track:w.receiver.track,rtpReceiver:w.receiver});else throw new Error("new RTCRtpTransceiver not found")}return c}async stopReceiving(s){if(this.assertRecvDirection(),this._closed)return;for(const u of s){o.debug("stopReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(d.mid)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const u of s)this._mapMidTransceiver.delete(u)}async pauseReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("pauseReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("resumeReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(s){this.assertNotClosed(),this.assertRecvDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:s,label:c,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y}=s,g={negotiated:!0,id:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y,protocol:f};o.debug("receiveDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(c,g);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const w={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",w),await this._pc.setRemoteDescription(w);const q=await this._pc.createAnswer();if(!this._transportReady){const H=_.parse(q.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:H})}o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setLocalDescription(q),this._hasDataChannelMediaSection=!0}return{dataChannel:x}}async setupTransport({localDtlsRole:s,localSdpObject:c}){c||(c=_.parse(this._pc.localDescription.sdp));const f=v.extractDtlsParameters({sdpObject:c});f.role=s,this._remoteSdp.updateDtlsRole(s==="client"?"server":"client"),await new Promise((u,d)=>{this.safeEmit("@connect",{dtlsParameters:f},u,d)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return ns.Chrome74=k,ns}var rs={},qh;function oy(){if(qh)return rs;qh=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.Firefox120=void 0;const _=oi(),L=Tt(),D=Qt(),l=Wt(),A=Oa(),b=Un(),v=fs(),S=ps(),O=Qi(),E=hs(),R=new L.Logger("Firefox120"),o="Firefox120",m={OS:16,MIS:2048};let j=class Cm extends O.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:o,factory:C=>new Cm(C),getNativeRtpCapabilities:async()=>{R.debug("getNativeRtpCapabilities()");const C=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),s=document.createElement("canvas");s.getContext("2d");const f=s.captureStream().getVideoTracks()[0];try{C.addTransceiver("audio",{direction:"sendrecv"}),C.addTransceiver(f,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const u=await C.createOffer();try{s.remove()}catch{}try{f.stop()}catch{}try{C.close()}catch{}const d=_.parse(u.sdp);return v.extractRtpCapabilities({sdpObject:d})}catch(u){try{s.remove()}catch{}try{f.stop()}catch{}try{C.close()}catch{}throw u}},getNativeSctpCapabilities:async()=>(R.debug("getNativeSctpCapabilities()"),{numStreams:m})}}constructor({direction:C,iceParameters:s,iceCandidates:c,dtlsParameters:f,sctpParameters:u,iceServers:d,iceTransportPolicy:p,additionalSettings:y,extendedRtpCapabilities:g}){super(),R.debug("constructor()"),this._direction=C,this._remoteSdp=new E.RemoteSdp({iceParameters:s,iceCandidates:c,dtlsParameters:f,sctpParameters:u}),this._sendingRtpParametersByKind={audio:A.getSendingRtpParameters("audio",g),video:A.getSendingRtpParameters("video",g)},this._sendingRemoteRtpParametersByKind={audio:A.getSendingRemoteRtpParameters("audio",g),video:A.getSendingRemoteRtpParameters("video",g)},this._pc=new RTCPeerConnection({iceServers:d??[],iceTransportPolicy:p??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...y}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",x=>{this.emit("@icecandidateerror",x)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(R.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}get name(){return o}close(){if(R.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async updateIceServers(C){throw this.assertNotClosed(),new D.UnsupportedError("not supported")}async restartIce(C){if(this.assertNotClosed(),R.debug("restartIce()"),this._remoteSdp.updateIceParameters(C),!!this._transportReady)if(this._direction==="send"){const s=await this._pc.createOffer({iceRestart:!0});R.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s);const c={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",c),await this._pc.setRemoteDescription(c)}else{const s={type:"offer",sdp:this._remoteSdp.getSdp()};R.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);const c=await this._pc.createAnswer();R.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",c),await this._pc.setLocalDescription(c)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:C,encodings:s,codecOptions:c,codec:f,onRtpSender:u}){this.assertNotClosed(),this.assertSendDirection(),R.debug("send() [kind:%s, track.id:%s]",C.kind,C.id),s&&s.length>1&&s.forEach((M,I)=>{M.rid=`r${I}`});const d=l.clone(this._sendingRtpParametersByKind[C.kind]);d.codecs=A.reduceCodecs(d.codecs,f);const p=l.clone(this._sendingRemoteRtpParametersByKind[C.kind]);p.codecs=A.reduceCodecs(p.codecs,f);const y=this._pc.addTransceiver(C,{direction:"sendonly",streams:[this._sendStream],sendEncodings:s});u&&u(y.sender);const g=await this._pc.createOffer();let x=_.parse(g.sdp);x.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed(),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:x});const w=(0,b.parse)((s??[{}])[0].scalabilityMode);R.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const q=y.mid;d.mid=q,x=_.parse(this._pc.localDescription.sdp);const H=x.media[x.media.length-1];if(d.rtcp.cname=v.getCname({offerMediaObject:H}),!s)d.encodings=S.getRtpEncodings({offerMediaObject:H});else if(s.length===1){const M=S.getRtpEncodings({offerMediaObject:H});Object.assign(M[0],s[0]),d.encodings=M}else d.encodings=s;if(d.encodings.length>1&&(d.codecs[0].mimeType.toLowerCase()==="video/vp8"||d.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const M of d.encodings)M.scalabilityMode?M.scalabilityMode=`L1T${w.temporalLayers}`:M.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:H,offerRtpParameters:d,answerRtpParameters:p,codecOptions:c});const F={type:"answer",sdp:this._remoteSdp.getSdp()};return R.debug("send() | calling pc.setRemoteDescription() [answer:%o]",F),await this._pc.setRemoteDescription(F),this._mapMidTransceiver.set(q,y),{localId:q,rtpParameters:d,rtpSender:y.sender}}async stopSending(C){if(this.assertSendDirection(),R.debug("stopSending() [localId:%s]",C),this._closed)return;const s=this._mapMidTransceiver.get(C);if(!s)throw new Error("associated transceiver not found");s.sender.replaceTrack(null),this._pc.removeTrack(s.sender),this._remoteSdp.disableMediaSection(s.mid);const c=await this._pc.createOffer();R.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f),this._mapMidTransceiver.delete(C)}async pauseSending(C){this.assertNotClosed(),this.assertSendDirection(),R.debug("pauseSending() [localId:%s]",C);const s=this._mapMidTransceiver.get(C);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="inactive",this._remoteSdp.pauseMediaSection(C);const c=await this._pc.createOffer();R.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async resumeSending(C){this.assertNotClosed(),this.assertSendDirection(),R.debug("resumeSending() [localId:%s]",C);const s=this._mapMidTransceiver.get(C);if(!s)throw new Error("associated RTCRtpTransceiver not found");s.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(C);const c=await this._pc.createOffer();R.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}async replaceTrack(C,s){this.assertNotClosed(),this.assertSendDirection(),s?R.debug("replaceTrack() [localId:%s, track.id:%s]",C,s.id):R.debug("replaceTrack() [localId:%s, no track]",C);const c=this._mapMidTransceiver.get(C);if(!c)throw new Error("associated RTCRtpTransceiver not found");await c.sender.replaceTrack(s)}async setMaxSpatialLayer(C,s){this.assertNotClosed(),this.assertSendDirection(),R.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",C,s);const c=this._mapMidTransceiver.get(C);if(!c)throw new Error("associated transceiver not found");const f=c.sender.getParameters();f.encodings.forEach((p,y)=>{y<=s?p.active=!0:p.active=!1}),await c.sender.setParameters(f),this._remoteSdp.muxMediaSectionSimulcast(C,f.encodings);const u=await this._pc.createOffer();R.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const d={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d)}async setRtpEncodingParameters(C,s){this.assertNotClosed(),this.assertSendDirection(),R.debug("setRtpEncodingParameters() [localId:%s, params:%o]",C,s);const c=this._mapMidTransceiver.get(C);if(!c)throw new Error("associated RTCRtpTransceiver not found");const f=c.sender.getParameters();f.encodings.forEach((p,y)=>{f.encodings[y]={...p,...s}}),await c.sender.setParameters(f),this._remoteSdp.muxMediaSectionSimulcast(C,f.encodings);const u=await this._pc.createOffer();R.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const d={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d)}async getSenderStats(C){this.assertNotClosed(),this.assertSendDirection();const s=this._mapMidTransceiver.get(C);if(!s)throw new Error("associated RTCRtpTransceiver not found");return s.sender.getStats()}async sendDataChannel({ordered:C,maxPacketLifeTime:s,maxRetransmits:c,label:f,protocol:u}){this.assertNotClosed(),this.assertSendDirection();const d={negotiated:!0,id:this._nextSendSctpStreamId,ordered:C,maxPacketLifeTime:s,maxRetransmits:c,protocol:u};R.debug("sendDataChannel() [options:%o]",d);const p=this._pc.createDataChannel(f,d);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const g=await this._pc.createOffer(),x=_.parse(g.sdp),w=x.media.find(H=>H.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:x}),R.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),this._remoteSdp.sendSctpAssociation({offerMediaObject:w});const q={type:"answer",sdp:this._remoteSdp.getSdp()};R.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const y={streamId:d.id,ordered:d.ordered,maxPacketLifeTime:d.maxPacketLifeTime,maxRetransmits:d.maxRetransmits};return{dataChannel:p,sctpStreamParameters:y}}async receive(C){this.assertNotClosed(),this.assertRecvDirection();const s=[],c=new Map;for(const p of C){const{trackId:y,kind:g,rtpParameters:x,streamId:w}=p;R.debug("receive() [trackId:%s, kind:%s]",y,g);const q=x.mid??String(this._mapMidTransceiver.size);c.set(y,q),this._remoteSdp.receive({mid:q,kind:g,offerRtpParameters:x,streamId:w??x.rtcp.cname,trackId:y})}const f={type:"offer",sdp:this._remoteSdp.getSdp()};R.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);for(const p of C){const{trackId:y,onRtpReceiver:g}=p;if(g){const x=c.get(y),w=this._pc.getTransceivers().find(q=>q.mid===x);if(!w)throw new Error("transceiver not found");g(w.receiver)}}let u=await this._pc.createAnswer();const d=_.parse(u.sdp);for(const p of C){const{trackId:y,rtpParameters:g}=p,x=c.get(y),w=d.media.find(q=>String(q.mid)===x);v.applyCodecParameters({offerRtpParameters:g,answerMediaObject:w}),u={type:"answer",sdp:_.write(d)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d}),R.debug("receive() | calling pc.setLocalDescription() [answer:%o]",u),await this._pc.setLocalDescription(u);for(const p of C){const{trackId:y}=p,g=c.get(y),x=this._pc.getTransceivers().find(w=>w.mid===g);if(!x)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(g,x),s.push({localId:g,track:x.receiver.track,rtpReceiver:x.receiver})}return s}async stopReceiving(C){if(this.assertRecvDirection(),this._closed)return;for(const f of C){R.debug("stopReceiving() [localId:%s]",f);const u=this._mapMidTransceiver.get(f);if(!u)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(u.mid)}const s={type:"offer",sdp:this._remoteSdp.getSdp()};R.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);const c=await this._pc.createAnswer();R.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",c),await this._pc.setLocalDescription(c);for(const f of C)this._mapMidTransceiver.delete(f)}async pauseReceiving(C){this.assertNotClosed(),this.assertRecvDirection();for(const f of C){R.debug("pauseReceiving() [localId:%s]",f);const u=this._mapMidTransceiver.get(f);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="inactive",this._remoteSdp.pauseMediaSection(f)}const s={type:"offer",sdp:this._remoteSdp.getSdp()};R.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);const c=await this._pc.createAnswer();R.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",c),await this._pc.setLocalDescription(c)}async resumeReceiving(C){this.assertNotClosed(),this.assertRecvDirection();for(const f of C){R.debug("resumeReceiving() [localId:%s]",f);const u=this._mapMidTransceiver.get(f);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(f)}const s={type:"offer",sdp:this._remoteSdp.getSdp()};R.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);const c=await this._pc.createAnswer();R.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",c),await this._pc.setLocalDescription(c)}async getReceiverStats(C){this.assertRecvDirection();const s=this._mapMidTransceiver.get(C);if(!s)throw new Error("associated RTCRtpTransceiver not found");return s.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:C,label:s,protocol:c}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:f,ordered:u,maxPacketLifeTime:d,maxRetransmits:p}=C,y={negotiated:!0,id:f,ordered:u,maxPacketLifeTime:d,maxRetransmits:p,protocol:c};R.debug("receiveDataChannel() [options:%o]",y);const g=this._pc.createDataChannel(s,y);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const x={type:"offer",sdp:this._remoteSdp.getSdp()};R.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const w=await this._pc.createAnswer();if(!this._transportReady){const q=_.parse(w.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:q})}R.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setLocalDescription(w),this._hasDataChannelMediaSection=!0}return{dataChannel:g}}async setupTransport({localDtlsRole:C,localSdpObject:s}){s||(s=_.parse(this._pc.localDescription.sdp));const c=v.extractDtlsParameters({sdpObject:s});c.role=C,this._remoteSdp.updateDtlsRole(C==="client"?"server":"client"),await new Promise((f,u)=>{this.safeEmit("@connect",{dtlsParameters:c},f,u)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new D.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return rs.Firefox120=j,rs}var ss={},Ph;function ly(){if(Ph)return ss;Ph=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.Safari12=void 0;const _=oi(),L=Tt(),D=Wt(),l=Oa(),A=Qt(),b=Un(),v=Qi(),S=hs(),O=fs(),E=ps(),R=Gc(),o=new L.Logger("Safari12"),m="Safari12",j={OS:1024,MIS:1024};let k=class Dm extends v.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:m,factory:s=>new Dm(s),getNativeRtpCapabilities:async()=>{o.debug("getNativeRtpCapabilities()");const s=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{s.addTransceiver("audio"),s.addTransceiver("video");const c=await s.createOffer();try{s.close()}catch{}const f=_.parse(c.sdp),u=O.extractRtpCapabilities({sdpObject:f});return R.addNackSupportForOpus(u),u}catch(c){try{s.close()}catch{}throw c}},getNativeSctpCapabilities:async()=>(o.debug("getNativeSctpCapabilities()"),{numStreams:j})}}constructor({direction:s,iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d,iceServers:p,iceTransportPolicy:y,additionalSettings:g,extendedRtpCapabilities:x}){super(),o.debug("constructor()"),this._direction=s,this._remoteSdp=new S.RemoteSdp({iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",x),video:l.getSendingRtpParameters("video",x)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",x),video:l.getSendingRemoteRtpParameters("video",x)},u.role&&u.role!=="auto"&&(this._forcedLocalDtlsRole=u.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:p??[],iceTransportPolicy:y??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...g}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",w=>{this.emit("@icecandidateerror",w)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(o.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}get name(){return m}close(){if(o.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async updateIceServers(s){this.assertNotClosed(),o.debug("updateIceServers()");const c=this._pc.getConfiguration();c.iceServers=s,this._pc.setConfiguration(c)}async restartIce(s){if(this.assertNotClosed(),o.debug("restartIce()"),this._remoteSdp.updateIceParameters(s),!!this._transportReady)if(this._direction==="send"){const c=await this._pc.createOffer({iceRestart:!0});o.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:s,encodings:c,codecOptions:f,codec:u,onRtpSender:d}){this.assertNotClosed(),this.assertSendDirection(),o.debug("send() [kind:%s, track.id:%s]",s.kind,s.id);const p=D.clone(this._sendingRtpParametersByKind[s.kind]);p.codecs=l.reduceCodecs(p.codecs,u);const y=D.clone(this._sendingRemoteRtpParametersByKind[s.kind]);y.codecs=l.reduceCodecs(y.codecs,u);const g=this._remoteSdp.getNextMediaSectionIdx(),x=this._pc.addTransceiver(s,{direction:"sendonly",streams:[this._sendStream]});d&&d(x.sender);let w=await this._pc.createOffer(),q=_.parse(w.sdp);q.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();let H;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q});const F=(0,b.parse)((c??[{}])[0].scalabilityMode);c&&c.length>1&&(o.debug("send() | enabling legacy simulcast"),q=_.parse(w.sdp),H=q.media[g.idx],E.addLegacySimulcast({offerMediaObject:H,numStreams:c.length}),w={type:"offer",sdp:_.write(q)}),o.debug("send() | calling pc.setLocalDescription() [offer:%o]",w),await this._pc.setLocalDescription(w);const M=x.mid;if(p.mid=M,q=_.parse(this._pc.localDescription.sdp),H=q.media[g.idx],p.rtcp.cname=O.getCname({offerMediaObject:H}),p.encodings=E.getRtpEncodings({offerMediaObject:H}),c)for(let Z=0;Z<p.encodings.length;++Z)c[Z]&&Object.assign(p.encodings[Z],c[Z]);if(p.encodings.length>1&&(p.codecs[0].mimeType.toLowerCase()==="video/vp8"||p.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Z of p.encodings)Z.scalabilityMode?Z.scalabilityMode=`L1T${F.temporalLayers}`:Z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:H,reuseMid:g.reuseMid,offerRtpParameters:p,answerRtpParameters:y,codecOptions:f});const I={type:"answer",sdp:this._remoteSdp.getSdp()};return o.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I),this._mapMidTransceiver.set(M,x),{localId:M,rtpParameters:p,rtpSender:x.sender}}async stopSending(s){if(this.assertSendDirection(),this._closed)return;o.debug("stopSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");if(c.sender.replaceTrack(null),this._pc.removeTrack(c.sender),this._remoteSdp.closeMediaSection(c.mid))try{c.stop()}catch{}const u=await this._pc.createOffer();o.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const d={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d),this._mapMidTransceiver.delete(s)}async pauseSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("pauseSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="inactive",this._remoteSdp.pauseMediaSection(s);const f=await this._pc.createOffer();o.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async resumeSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("resumeSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(s);const f=await this._pc.createOffer();o.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async replaceTrack(s,c){this.assertNotClosed(),this.assertSendDirection(),c?o.debug("replaceTrack() [localId:%s, track.id:%s]",s,c.id):o.debug("replaceTrack() [localId:%s, no track]",s);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(c)}async setMaxSpatialLayer(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{g<=c?y.active=!0:y.active=!1}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async setRtpEncodingParameters(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setRtpEncodingParameters() [localId:%s, params:%o]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{u.encodings[g]={...y,...c}}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async getSenderStats(s){this.assertNotClosed(),this.assertSendDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.sender.getStats()}async sendDataChannel({ordered:s,maxPacketLifeTime:c,maxRetransmits:f,label:u,protocol:d}){this.assertNotClosed(),this.assertSendDirection();const p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:s,maxPacketLifeTime:c,maxRetransmits:f,protocol:d};o.debug("sendDataChannel() [options:%o]",p);const y=this._pc.createDataChannel(u,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%j.MIS,!this._hasDataChannelMediaSection){const x=await this._pc.createOffer(),w=_.parse(x.sdp),q=w.media.find(F=>F.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:w}),o.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x),this._remoteSdp.sendSctpAssociation({offerMediaObject:q});const H={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",H),await this._pc.setRemoteDescription(H),this._hasDataChannelMediaSection=!0}const g={streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits};return{dataChannel:y,sctpStreamParameters:g}}async receive(s){this.assertNotClosed(),this.assertRecvDirection();const c=[],f=new Map;for(const y of s){const{trackId:g,kind:x,rtpParameters:w,streamId:q}=y;o.debug("receive() [trackId:%s, kind:%s]",g,x);const H=w.mid??String(this._mapMidTransceiver.size);f.set(g,H),this._remoteSdp.receive({mid:H,kind:x,offerRtpParameters:w,streamId:q??w.rtcp.cname,trackId:g})}const u={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);for(const y of s){const{trackId:g,onRtpReceiver:x}=y;if(x){const w=f.get(g),q=this._pc.getTransceivers().find(H=>H.mid===w);if(!q)throw new Error("transceiver not found");x(q.receiver)}}let d=await this._pc.createAnswer();const p=_.parse(d.sdp);for(const y of s){const{trackId:g,rtpParameters:x}=y,w=f.get(g),q=p.media.find(H=>String(H.mid)===w);O.applyCodecParameters({offerRtpParameters:x,answerMediaObject:q})}d={type:"answer",sdp:_.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),o.debug("receive() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const y of s){const{trackId:g}=y,x=f.get(g),w=this._pc.getTransceivers().find(q=>q.mid===x);if(!w)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(x,w),c.push({localId:x,track:w.receiver.track,rtpReceiver:w.receiver})}return c}async stopReceiving(s){if(this.assertRecvDirection(),this._closed)return;for(const u of s){o.debug("stopReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(d.mid)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const u of s)this._mapMidTransceiver.delete(u)}async pauseReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("pauseReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("resumeReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(s){this.assertNotClosed(),this.assertRecvDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:s,label:c,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y}=s,g={negotiated:!0,id:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y,protocol:f};o.debug("receiveDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(c,g);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const w={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",w),await this._pc.setRemoteDescription(w);const q=await this._pc.createAnswer();if(!this._transportReady){const H=_.parse(q.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:H})}o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setLocalDescription(q),this._hasDataChannelMediaSection=!0}return{dataChannel:x}}async setupTransport({localDtlsRole:s,localSdpObject:c}){c||(c=_.parse(this._pc.localDescription.sdp));const f=O.extractDtlsParameters({sdpObject:c});f.role=s,this._remoteSdp.updateDtlsRole(s==="client"?"server":"client"),await new Promise((u,d)=>{this.safeEmit("@connect",{dtlsParameters:f},u,d)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return ss.Safari12=k,ss}var cs={},Hh;function uy(){if(Hh)return cs;Hh=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.ReactNative106=void 0;const _=oi(),L=Tt(),D=Wt(),l=Oa(),A=Qt(),b=Un(),v=Qi(),S=hs(),O=fs(),E=ps(),R=Gc(),o=new L.Logger("ReactNative106"),m="ReactNative106",j={OS:1024,MIS:1024};let k=class xm extends v.HandlerInterface{_closed=!1;_direction;_remoteSdp;_sendingRtpParametersByKind;_sendingRemoteRtpParametersByKind;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:m,factory:s=>new xm(s),getNativeRtpCapabilities:async()=>{o.debug("getNativeRtpCapabilities()");const s=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{s.addTransceiver("audio"),s.addTransceiver("video");const c=await s.createOffer();try{s.close()}catch{}const f=_.parse(c.sdp),u=O.extractRtpCapabilities({sdpObject:f});return R.addNackSupportForOpus(u),u}catch(c){try{s.close()}catch{}throw c}},getNativeSctpCapabilities:async()=>(o.debug("getNativeSctpCapabilities()"),{numStreams:j})}}constructor({direction:s,iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d,iceServers:p,iceTransportPolicy:y,additionalSettings:g,extendedRtpCapabilities:x}){super(),o.debug("constructor()"),this._direction=s,this._remoteSdp=new S.RemoteSdp({iceParameters:c,iceCandidates:f,dtlsParameters:u,sctpParameters:d}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",x),video:l.getSendingRtpParameters("video",x)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",x),video:l.getSendingRemoteRtpParameters("video",x)},u.role&&u.role!=="auto"&&(this._forcedLocalDtlsRole=u.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:p??[],iceTransportPolicy:y??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...g}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",w=>{this.emit("@icecandidateerror",w)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(o.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}get name(){return m}close(){if(o.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async updateIceServers(s){this.assertNotClosed(),o.debug("updateIceServers()");const c=this._pc.getConfiguration();c.iceServers=s,this._pc.setConfiguration(c)}async restartIce(s){if(this.assertNotClosed(),o.debug("restartIce()"),this._remoteSdp.updateIceParameters(s),!!this._transportReady)if(this._direction==="send"){const c=await this._pc.createOffer({iceRestart:!0});o.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const f={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:s,encodings:c,codecOptions:f,codec:u,onRtpSender:d}){this.assertNotClosed(),this.assertSendDirection(),o.debug("send() [kind:%s, track.id:%s]",s.kind,s.id),c&&c.length>1&&c.forEach((N,X)=>{N.rid=`r${X}`});const p=D.clone(this._sendingRtpParametersByKind[s.kind]);p.codecs=l.reduceCodecs(p.codecs,u);const y=D.clone(this._sendingRemoteRtpParametersByKind[s.kind]);y.codecs=l.reduceCodecs(y.codecs,u);const g=this._remoteSdp.getNextMediaSectionIdx(),x=this._pc.addTransceiver(s,{direction:"sendonly",streams:[this._sendStream],sendEncodings:c});d&&d(x.sender);let w=await this._pc.createOffer(),q=_.parse(w.sdp);q.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();let H;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q});let F=!1;const M=(0,b.parse)((c??[{}])[0].scalabilityMode);c&&c.length===1&&M.spatialLayers>1&&p.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(o.debug("send() | enabling legacy simulcast for VP9 SVC"),F=!0,q=_.parse(w.sdp),H=q.media[g.idx],E.addLegacySimulcast({offerMediaObject:H,numStreams:M.spatialLayers}),w={type:"offer",sdp:_.write(q)}),o.debug("send() | calling pc.setLocalDescription() [offer:%o]",w),await this._pc.setLocalDescription(w);let I=x.mid??void 0;if(I||o.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),p.mid=I,q=_.parse(this._pc.localDescription.sdp),H=q.media[g.idx],p.rtcp.cname=O.getCname({offerMediaObject:H}),!c)p.encodings=E.getRtpEncodings({offerMediaObject:H});else if(c.length===1){let N=E.getRtpEncodings({offerMediaObject:H});Object.assign(N[0],c[0]),F&&(N=[N[0]]),p.encodings=N}else p.encodings=c;if(p.encodings.length>1&&(p.codecs[0].mimeType.toLowerCase()==="video/vp8"||p.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const N of p.encodings)N.scalabilityMode?N.scalabilityMode=`L1T${M.temporalLayers}`:N.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:H,reuseMid:g.reuseMid,offerRtpParameters:p,answerRtpParameters:y,codecOptions:f});const Z={type:"answer",sdp:this._remoteSdp.getSdp()};return o.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Z),await this._pc.setRemoteDescription(Z),I||(I=x.mid,p.mid=I),this._mapMidTransceiver.set(I,x),{localId:I,rtpParameters:p,rtpSender:x.sender}}async stopSending(s){if(this.assertSendDirection(),this._closed)return;o.debug("stopSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");if(c.sender.replaceTrack(null),this._pc.removeTrack(c.sender),this._remoteSdp.closeMediaSection(c.mid))try{c.stop()}catch{}const u=await this._pc.createOffer();o.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const d={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d),this._mapMidTransceiver.delete(s)}async pauseSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("pauseSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="inactive",this._remoteSdp.pauseMediaSection(s);const f=await this._pc.createOffer();o.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async resumeSending(s){this.assertNotClosed(),this.assertSendDirection(),o.debug("resumeSending() [localId:%s]",s);const c=this._mapMidTransceiver.get(s);if(this._remoteSdp.resumeSendingMediaSection(s),!c)throw new Error("associated RTCRtpTransceiver not found");c.direction="sendonly";const f=await this._pc.createOffer();o.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const u={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",u),await this._pc.setRemoteDescription(u)}async replaceTrack(s,c){this.assertNotClosed(),this.assertSendDirection(),c?o.debug("replaceTrack() [localId:%s, track.id:%s]",s,c.id):o.debug("replaceTrack() [localId:%s, no track]",s);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(c)}async setMaxSpatialLayer(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{g<=c?y.active=!0:y.active=!1}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async setRtpEncodingParameters(s,c){this.assertNotClosed(),this.assertSendDirection(),o.debug("setRtpEncodingParameters() [localId:%s, params:%o]",s,c);const f=this._mapMidTransceiver.get(s);if(!f)throw new Error("associated RTCRtpTransceiver not found");const u=f.sender.getParameters();u.encodings.forEach((y,g)=>{u.encodings[g]={...y,...c}}),await f.sender.setParameters(u),this._remoteSdp.muxMediaSectionSimulcast(s,u.encodings);const d=await this._pc.createOffer();o.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d);const p={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async getSenderStats(s){this.assertNotClosed(),this.assertSendDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.sender.getStats()}async sendDataChannel({ordered:s,maxPacketLifeTime:c,maxRetransmits:f,label:u,protocol:d}){this.assertNotClosed(),this.assertSendDirection();const p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:s,maxPacketLifeTime:c,maxRetransmits:f,protocol:d};o.debug("sendDataChannel() [options:%o]",p);const y=this._pc.createDataChannel(u,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%j.MIS,!this._hasDataChannelMediaSection){const x=await this._pc.createOffer(),w=_.parse(x.sdp),q=w.media.find(F=>F.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:w}),o.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x),this._remoteSdp.sendSctpAssociation({offerMediaObject:q});const H={type:"answer",sdp:this._remoteSdp.getSdp()};o.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",H),await this._pc.setRemoteDescription(H),this._hasDataChannelMediaSection=!0}const g={streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits};return{dataChannel:y,sctpStreamParameters:g}}async receive(s){this.assertNotClosed(),this.assertRecvDirection();const c=[],f=new Map;for(const y of s){const{trackId:g,kind:x,rtpParameters:w,streamId:q}=y;o.debug("receive() [trackId:%s, kind:%s]",g,x);const H=w.mid??String(this._mapMidTransceiver.size);f.set(g,H),this._remoteSdp.receive({mid:H,kind:x,offerRtpParameters:w,streamId:q??w.rtcp.cname,trackId:g})}const u={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);for(const y of s){const{trackId:g,onRtpReceiver:x}=y;if(x){const w=f.get(g),q=this._pc.getTransceivers().find(H=>H.mid===w);if(!q)throw new Error("transceiver not found");x(q.receiver)}}let d=await this._pc.createAnswer();const p=_.parse(d.sdp);for(const y of s){const{trackId:g,rtpParameters:x}=y,w=f.get(g),q=p.media.find(H=>String(H.mid)===w);O.applyCodecParameters({offerRtpParameters:x,answerMediaObject:q})}d={type:"answer",sdp:_.write(p)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:p}),o.debug("receive() | calling pc.setLocalDescription() [answer:%o]",d),await this._pc.setLocalDescription(d);for(const y of s){const{trackId:g}=y,x=f.get(g),w=this._pc.getTransceivers().find(q=>q.mid===x);if(w)this._mapMidTransceiver.set(x,w),c.push({localId:x,track:w.receiver.track,rtpReceiver:w.receiver});else throw new Error("new RTCRtpTransceiver not found")}return c}async stopReceiving(s){if(this.assertRecvDirection(),this._closed)return;for(const u of s){o.debug("stopReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(d.mid)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const u of s)this._mapMidTransceiver.delete(u)}async pauseReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("pauseReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="inactive",this._remoteSdp.pauseMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(s){this.assertNotClosed(),this.assertRecvDirection();for(const u of s){o.debug("resumeReceiving() [localId:%s]",u);const d=this._mapMidTransceiver.get(u);if(!d)throw new Error("associated RTCRtpTransceiver not found");d.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(u)}const c={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),await this._pc.setRemoteDescription(c);const f=await this._pc.createAnswer();o.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(s){this.assertNotClosed(),this.assertRecvDirection();const c=this._mapMidTransceiver.get(s);if(!c)throw new Error("associated RTCRtpTransceiver not found");return c.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:s,label:c,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y}=s,g={negotiated:!0,id:u,ordered:d,maxPacketLifeTime:p,maxRetransmits:y,protocol:f};o.debug("receiveDataChannel() [options:%o]",g);const x=this._pc.createDataChannel(c,g);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const w={type:"offer",sdp:this._remoteSdp.getSdp()};o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",w),await this._pc.setRemoteDescription(w);const q=await this._pc.createAnswer();if(!this._transportReady){const H=_.parse(q.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:H})}o.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setLocalDescription(q),this._hasDataChannelMediaSection=!0}return{dataChannel:x}}async setupTransport({localDtlsRole:s,localSdpObject:c}){c||(c=_.parse(this._pc.localDescription.sdp));const f=O.extractDtlsParameters({sdpObject:c});f.role=s,this._remoteSdp.updateDtlsRole(s==="client"?"server":"client"),await new Promise((u,d)=>{this.safeEmit("@connect",{dtlsParameters:f},u,d)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return cs.ReactNative106=k,cs}var Bh;function Om(){if(Bh)return Pi;Bh=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Device=void 0,Pi.detectDeviceAsync=j,Pi.detectDevice=k;const _=Fv(),L=Tt(),D=Gi(),l=Qt(),A=Wt(),b=Oa(),v=Rm(),S=sy(),O=cy(),E=oy(),R=ly(),o=uy(),m=new L.Logger("Device");async function j(c){m.debug("detectDeviceAsync() [userAgent:%s]",c),!c&&typeof navigator=="object"&&(c=navigator.userAgent);const f=await(0,_.UAParser)(c).withFeatureCheck();return s(f)}function k(c){m.debug("detectDevice() [userAgent:%s]",c),!c&&typeof navigator=="object"&&(c=navigator.userAgent);const f=(0,_.UAParser)(c);return s(f)}let C=class Mm{_handlerFactory;_handlerName;_loaded=!1;_extendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind;_sctpCapabilities;_observer=new D.EnhancedEventEmitter;static async factory({handlerName:f,handlerFactory:u}={}){if(m.debug("factory()"),f&&u)throw new TypeError("just one of handlerName or handlerInterface can be given");if(!f&&!u&&(f=await j(),!f))throw new l.UnsupportedError("device not supported");return new Mm({handlerName:f,handlerFactory:u})}constructor({handlerName:f,handlerFactory:u}={}){if(m.debug("constructor()"),f&&u)throw new TypeError("just one of handlerName or handlerInterface can be given");if(u)this._handlerFactory=u;else{if(f)m.debug("constructor() | handler given: %s",f);else if(f=k(),f)m.debug("constructor() | detected handler: %s",f);else throw new l.UnsupportedError("device not supported");switch(f){case"Chrome111":{this._handlerFactory=S.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=O.Chrome74.createFactory();break}case"Firefox120":{this._handlerFactory=E.Firefox120.createFactory();break}case"Safari12":{this._handlerFactory=R.Safari12.createFactory();break}case"ReactNative106":{this._handlerFactory=o.ReactNative106.createFactory();break}default:throw new TypeError(`unknown handlerName "${f}"`)}}this._handlerName=this._handlerFactory.name,this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new l.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new l.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:f,preferLocalCodecsOrder:u=!1}){if(m.debug("load() [routerRtpCapabilities:%o]",f),this._loaded)throw new l.InvalidStateError("already loaded");const d=A.clone(f);b.validateRtpCapabilities(d);const{getNativeRtpCapabilities:p,getNativeSctpCapabilities:y}=this._handlerFactory,g=await p();m.debug("load() | got native RTP capabilities:%o",g);const x=A.clone(g);b.validateRtpCapabilities(x),this._extendedRtpCapabilities=b.getExtendedRtpCapabilities(x,d,u),m.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=b.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=b.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=b.getRecvRtpCapabilities(this._extendedRtpCapabilities),b.validateRtpCapabilities(this._recvRtpCapabilities),m.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await y(),m.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),b.validateSctpCapabilities(this._sctpCapabilities),m.debug("load() succeeded"),this._loaded=!0}canProduce(f){if(this._loaded){if(f!=="audio"&&f!=="video")throw new TypeError(`invalid kind "${f}"`)}else throw new l.InvalidStateError("not loaded");return this._canProduceByKind[f]}createSendTransport({id:f,iceParameters:u,iceCandidates:d,dtlsParameters:p,sctpParameters:y,iceServers:g,iceTransportPolicy:x,additionalSettings:w,appData:q}){return m.debug("createSendTransport()"),this.createTransport({direction:"send",id:f,iceParameters:u,iceCandidates:d,dtlsParameters:p,sctpParameters:y,iceServers:g,iceTransportPolicy:x,additionalSettings:w,appData:q})}createRecvTransport({id:f,iceParameters:u,iceCandidates:d,dtlsParameters:p,sctpParameters:y,iceServers:g,iceTransportPolicy:x,additionalSettings:w,appData:q}){return m.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:f,iceParameters:u,iceCandidates:d,dtlsParameters:p,sctpParameters:y,iceServers:g,iceTransportPolicy:x,additionalSettings:w,appData:q})}createTransport({direction:f,id:u,iceParameters:d,iceCandidates:p,dtlsParameters:y,sctpParameters:g,iceServers:x,iceTransportPolicy:w,additionalSettings:q,appData:H}){if(this._loaded){if(typeof u!="string")throw new TypeError("missing id");if(typeof d!="object")throw new TypeError("missing iceParameters");if(Array.isArray(p)){if(typeof y!="object")throw new TypeError("missing dtlsParameters");if(g&&typeof g!="object")throw new TypeError("wrong sctpParameters");if(H&&typeof H!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new l.InvalidStateError("not loaded");const F=new v.Transport({direction:f,id:u,iceParameters:d,iceCandidates:p,dtlsParameters:y,sctpParameters:g,iceServers:x,iceTransportPolicy:w,additionalSettings:q,appData:H,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",F),F}};Pi.Device=C;function s(c){if(typeof navigator=="object"&&navigator.product==="ReactNative"){if(m.debug("detectDeviceImpl() | React-Native detected"),typeof RTCPeerConnection>"u"||typeof RTCRtpTransceiver>"u"){m.warn("detectDeviceImpl() | unsupported react-native-webrtc without RTCPeerConnection or RTCRtpTransceiver, forgot to call registerGlobals() on it?");return}return"ReactNative106"}else{m.debug("detectDeviceImpl() | browser detected [userAgent:%s, parsed:%o]",c.ua,c);const f=c.browser,u=f.name?.toLowerCase(),d=parseInt(f.major??"0"),y=c.engine.name?.toLowerCase(),g=c.os,x=g.name?.toLowerCase(),w=parseFloat(g.version??"0"),H=c.device.model?.toLowerCase(),F=x==="ios"||H==="ipad",M=u&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(u),I=u&&["firefox","mobile firefox","mobile focus"].includes(u),Z=u&&["safari","mobile safari"].includes(u),N=u&&["edge"].includes(u);if((M||N)&&!F&&d>=111)return"Chrome111";if(M&&!F&&d>=74||N&&!F&&d>=88)return"Chrome74";if(I&&!F&&d>=120)return"Firefox120";if(I&&F&&w>=14.3)return"Safari12";if(Z&&d>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(y==="webkit"&&F&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(y==="blink"){const X=c.ua.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);return X?Number(X[1])>=111?"Chrome111":"Chrome74":"Chrome111"}else{m.warn("detectDeviceImpl() | browser not supported [name:%s, version:%s]",u,d);return}}}return Pi}var uu={},Vh;function dy(){return Vh||(Vh=1,Object.defineProperty(uu,"__esModule",{value:!0})),uu}var du={},Yh;function fy(){return Yh||(Yh=1,Object.defineProperty(du,"__esModule",{value:!0})),du}var Gh;function py(){return Gh||(Gh=1,function(_){var L=qi&&qi.__createBinding||(Object.create?function(l,A,b,v){v===void 0&&(v=b);var S=Object.getOwnPropertyDescriptor(A,b);(!S||("get"in S?!A.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return A[b]}}),Object.defineProperty(l,v,S)}:function(l,A,b,v){v===void 0&&(v=b),l[v]=A[b]}),D=qi&&qi.__exportStar||function(l,A){for(var b in l)b!=="default"&&!Object.prototype.hasOwnProperty.call(A,b)&&L(A,l,b)};Object.defineProperty(_,"__esModule",{value:!0}),D(Om(),_),D(Rm(),_),D(_m(),_),D(bm(),_),D(Sm(),_),D(wm(),_),D(dy(),_),D(fy(),_),D(Qi(),_),D(Qt(),_)}(qi)),qi}var os={},ls={},fu={},Dc={},Qh;function hy(){return Qh||(Qh=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.default="ffffffff-ffff-ffff-ffff-ffffffffffff"),Dc}var xc={},Xh;function my(){return Xh||(Xh=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.default="00000000-0000-0000-0000-000000000000"),xc}var Mc={},Oc={},Ac={},Zh;function gy(){return Zh||(Zh=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i),Ac}var Ih;function Qc(){if(Ih)return Oc;Ih=1,Object.defineProperty(Oc,"__esModule",{value:!0});const _=gy();function L(D){return typeof D=="string"&&_.default.test(D)}return Oc.default=L,Oc}var Kh;function Xc(){if(Kh)return Mc;Kh=1,Object.defineProperty(Mc,"__esModule",{value:!0});const _=Qc();function L(D){if(!(0,_.default)(D))throw TypeError("Invalid UUID");let l;return Uint8Array.of((l=parseInt(D.slice(0,8),16))>>>24,l>>>16&255,l>>>8&255,l&255,(l=parseInt(D.slice(9,13),16))>>>8,l&255,(l=parseInt(D.slice(14,18),16))>>>8,l&255,(l=parseInt(D.slice(19,23),16))>>>8,l&255,(l=parseInt(D.slice(24,36),16))/1099511627776&255,l/4294967296&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255)}return Mc.default=L,Mc}var Nn={},Fh;function li(){if(Fh)return Nn;Fh=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.unsafeStringify=void 0;const _=Qc(),L=[];for(let A=0;A<256;++A)L.push((A+256).toString(16).slice(1));function D(A,b=0){return(L[A[b+0]]+L[A[b+1]]+L[A[b+2]]+L[A[b+3]]+"-"+L[A[b+4]]+L[A[b+5]]+"-"+L[A[b+6]]+L[A[b+7]]+"-"+L[A[b+8]]+L[A[b+9]]+"-"+L[A[b+10]]+L[A[b+11]]+L[A[b+12]]+L[A[b+13]]+L[A[b+14]]+L[A[b+15]]).toLowerCase()}Nn.unsafeStringify=D;function l(A,b=0){const v=D(A,b);if(!(0,_.default)(v))throw TypeError("Stringified UUID is invalid");return v}return Nn.default=l,Nn}var zn={},Lc={},Jh;function vu(){if(Jh)return Lc;Jh=1,Object.defineProperty(Lc,"__esModule",{value:!0});let _;const L=new Uint8Array(16);function D(){if(!_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_=crypto.getRandomValues.bind(crypto)}return _(L)}return Lc.default=D,Lc}var $h;function Am(){if($h)return zn;$h=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.updateV1State=void 0;const _=vu(),L=li(),D={};function l(v,S,O){let E;const R=v?._v6??!1;if(v){const o=Object.keys(v);o.length===1&&o[0]==="_v6"&&(v=void 0)}if(v)E=b(v.random??v.rng?.()??(0,_.default)(),v.msecs,v.nsecs,v.clockseq,v.node,S,O);else{const o=Date.now(),m=(0,_.default)();A(D,o,m),E=b(m,D.msecs,D.nsecs,R?void 0:D.clockseq,R?void 0:D.node,S,O)}return S??(0,L.unsafeStringify)(E)}function A(v,S,O){return v.msecs??=-1/0,v.nsecs??=0,S===v.msecs?(v.nsecs++,v.nsecs>=1e4&&(v.node=void 0,v.nsecs=0)):S>v.msecs?v.nsecs=0:S<v.msecs&&(v.node=void 0),v.node||(v.node=O.slice(10,16),v.node[0]|=1,v.clockseq=(O[8]<<8|O[9])&16383),v.msecs=S,v}zn.updateV1State=A;function b(v,S,O,E,R,o,m=0){if(v.length<16)throw new Error("Random bytes length must be >= 16");if(!o)o=new Uint8Array(16),m=0;else if(m<0||m+16>o.length)throw new RangeError(`UUID byte range ${m}:${m+15} is out of buffer bounds`);S??=Date.now(),O??=0,E??=(v[8]<<8|v[9])&16383,R??=v.slice(10,16),S+=122192928e5;const j=((S&268435455)*1e4+O)%4294967296;o[m++]=j>>>24&255,o[m++]=j>>>16&255,o[m++]=j>>>8&255,o[m++]=j&255;const k=S/4294967296*1e4&268435455;o[m++]=k>>>8&255,o[m++]=k&255,o[m++]=k>>>24&15|16,o[m++]=k>>>16&255,o[m++]=E>>>8|128,o[m++]=E&255;for(let C=0;C<6;++C)o[m++]=R[C];return o}return zn.default=l,zn}var kc={},Wh;function Lm(){if(Wh)return kc;Wh=1,Object.defineProperty(kc,"__esModule",{value:!0});const _=Xc(),L=li();function D(A){const b=typeof A=="string"?(0,_.default)(A):A,v=l(b);return typeof A=="string"?(0,L.unsafeStringify)(v):v}kc.default=D;function l(A){return Uint8Array.of((A[6]&15)<<4|A[7]>>4&15,(A[7]&15)<<4|(A[4]&240)>>4,(A[4]&15)<<4|(A[5]&240)>>4,(A[5]&15)<<4|(A[0]&240)>>4,(A[0]&15)<<4|(A[1]&240)>>4,(A[1]&15)<<4|(A[2]&240)>>4,96|A[2]&15,A[3],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15])}return kc}var pu={},Nc={},em;function vy(){if(em)return Nc;em=1,Object.defineProperty(Nc,"__esModule",{value:!0});function _(m){const j=A(m),k=l(j,m.length*8);return L(k)}function L(m){const j=new Uint8Array(m.length*4);for(let k=0;k<m.length*4;k++)j[k]=m[k>>2]>>>k%4*8&255;return j}function D(m){return(m+64>>>9<<4)+14+1}function l(m,j){const k=new Uint32Array(D(j)).fill(0);k.set(m),k[j>>5]|=128<<j%32,k[k.length-1]=j,m=k;let C=1732584193,s=-271733879,c=-1732584194,f=271733878;for(let u=0;u<m.length;u+=16){const d=C,p=s,y=c,g=f;C=O(C,s,c,f,m[u],7,-680876936),f=O(f,C,s,c,m[u+1],12,-389564586),c=O(c,f,C,s,m[u+2],17,606105819),s=O(s,c,f,C,m[u+3],22,-1044525330),C=O(C,s,c,f,m[u+4],7,-176418897),f=O(f,C,s,c,m[u+5],12,1200080426),c=O(c,f,C,s,m[u+6],17,-1473231341),s=O(s,c,f,C,m[u+7],22,-45705983),C=O(C,s,c,f,m[u+8],7,1770035416),f=O(f,C,s,c,m[u+9],12,-1958414417),c=O(c,f,C,s,m[u+10],17,-42063),s=O(s,c,f,C,m[u+11],22,-1990404162),C=O(C,s,c,f,m[u+12],7,1804603682),f=O(f,C,s,c,m[u+13],12,-40341101),c=O(c,f,C,s,m[u+14],17,-1502002290),s=O(s,c,f,C,m[u+15],22,1236535329),C=E(C,s,c,f,m[u+1],5,-165796510),f=E(f,C,s,c,m[u+6],9,-1069501632),c=E(c,f,C,s,m[u+11],14,643717713),s=E(s,c,f,C,m[u],20,-373897302),C=E(C,s,c,f,m[u+5],5,-701558691),f=E(f,C,s,c,m[u+10],9,38016083),c=E(c,f,C,s,m[u+15],14,-660478335),s=E(s,c,f,C,m[u+4],20,-405537848),C=E(C,s,c,f,m[u+9],5,568446438),f=E(f,C,s,c,m[u+14],9,-1019803690),c=E(c,f,C,s,m[u+3],14,-187363961),s=E(s,c,f,C,m[u+8],20,1163531501),C=E(C,s,c,f,m[u+13],5,-1444681467),f=E(f,C,s,c,m[u+2],9,-51403784),c=E(c,f,C,s,m[u+7],14,1735328473),s=E(s,c,f,C,m[u+12],20,-1926607734),C=R(C,s,c,f,m[u+5],4,-378558),f=R(f,C,s,c,m[u+8],11,-2022574463),c=R(c,f,C,s,m[u+11],16,1839030562),s=R(s,c,f,C,m[u+14],23,-35309556),C=R(C,s,c,f,m[u+1],4,-1530992060),f=R(f,C,s,c,m[u+4],11,1272893353),c=R(c,f,C,s,m[u+7],16,-155497632),s=R(s,c,f,C,m[u+10],23,-1094730640),C=R(C,s,c,f,m[u+13],4,681279174),f=R(f,C,s,c,m[u],11,-358537222),c=R(c,f,C,s,m[u+3],16,-722521979),s=R(s,c,f,C,m[u+6],23,76029189),C=R(C,s,c,f,m[u+9],4,-640364487),f=R(f,C,s,c,m[u+12],11,-421815835),c=R(c,f,C,s,m[u+15],16,530742520),s=R(s,c,f,C,m[u+2],23,-995338651),C=o(C,s,c,f,m[u],6,-198630844),f=o(f,C,s,c,m[u+7],10,1126891415),c=o(c,f,C,s,m[u+14],15,-1416354905),s=o(s,c,f,C,m[u+5],21,-57434055),C=o(C,s,c,f,m[u+12],6,1700485571),f=o(f,C,s,c,m[u+3],10,-1894986606),c=o(c,f,C,s,m[u+10],15,-1051523),s=o(s,c,f,C,m[u+1],21,-2054922799),C=o(C,s,c,f,m[u+8],6,1873313359),f=o(f,C,s,c,m[u+15],10,-30611744),c=o(c,f,C,s,m[u+6],15,-1560198380),s=o(s,c,f,C,m[u+13],21,1309151649),C=o(C,s,c,f,m[u+4],6,-145523070),f=o(f,C,s,c,m[u+11],10,-1120210379),c=o(c,f,C,s,m[u+2],15,718787259),s=o(s,c,f,C,m[u+9],21,-343485551),C=b(C,d),s=b(s,p),c=b(c,y),f=b(f,g)}return Uint32Array.of(C,s,c,f)}function A(m){if(m.length===0)return new Uint32Array;const j=new Uint32Array(D(m.length*8)).fill(0);for(let k=0;k<m.length;k++)j[k>>2]|=(m[k]&255)<<k%4*8;return j}function b(m,j){const k=(m&65535)+(j&65535);return(m>>16)+(j>>16)+(k>>16)<<16|k&65535}function v(m,j){return m<<j|m>>>32-j}function S(m,j,k,C,s,c){return b(v(b(b(j,m),b(C,c)),s),k)}function O(m,j,k,C,s,c,f){return S(j&k|~j&C,m,j,s,c,f)}function E(m,j,k,C,s,c,f){return S(j&C|k&~C,m,j,s,c,f)}function R(m,j,k,C,s,c,f){return S(j^k^C,m,j,s,c,f)}function o(m,j,k,C,s,c,f){return S(k^(j|~C),m,j,s,c,f)}return Nc.default=_,Nc}var la={},tm;function Vc(){if(tm)return la;tm=1,Object.defineProperty(la,"__esModule",{value:!0}),la.URL=la.DNS=la.stringToBytes=void 0;const _=Xc(),L=li();function D(A){A=unescape(encodeURIComponent(A));const b=new Uint8Array(A.length);for(let v=0;v<A.length;++v)b[v]=A.charCodeAt(v);return b}la.stringToBytes=D,la.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",la.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function l(A,b,v,S,O,E){const R=typeof v=="string"?D(v):v,o=typeof S=="string"?(0,_.default)(S):S;if(typeof S=="string"&&(S=(0,_.default)(S)),S?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+R.length);if(m.set(o),m.set(R,o.length),m=b(m),m[6]=m[6]&15|A,m[8]=m[8]&63|128,O){E=E||0;for(let j=0;j<16;++j)O[E+j]=m[j];return O}return(0,L.unsafeStringify)(m)}return la.default=l,la}var am;function yy(){return am||(am=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.URL=_.DNS=void 0;const L=vy(),D=Vc();var l=Vc();Object.defineProperty(_,"DNS",{enumerable:!0,get:function(){return l.DNS}}),Object.defineProperty(_,"URL",{enumerable:!0,get:function(){return l.URL}});function A(b,v,S,O){return(0,D.default)(48,L.default,b,v,S,O)}A.DNS=D.DNS,A.URL=D.URL,_.default=A}(pu)),pu}var zc={},jc={},im;function _y(){if(im)return jc;im=1,Object.defineProperty(jc,"__esModule",{value:!0});const _=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);return jc.default={randomUUID:_},jc}var nm;function by(){if(nm)return zc;nm=1,Object.defineProperty(zc,"__esModule",{value:!0});const _=_y(),L=vu(),D=li();function l(A,b,v){if(_.default.randomUUID&&!b&&!A)return _.default.randomUUID();A=A||{};const S=A.random??A.rng?.()??(0,L.default)();if(S.length<16)throw new Error("Random bytes length must be >= 16");if(S[6]=S[6]&15|64,S[8]=S[8]&63|128,b){if(v=v||0,v<0||v+16>b.length)throw new RangeError(`UUID byte range ${v}:${v+15} is out of buffer bounds`);for(let O=0;O<16;++O)b[v+O]=S[O];return b}return(0,D.unsafeStringify)(S)}return zc.default=l,zc}var hu={},Uc={},rm;function Sy(){if(rm)return Uc;rm=1,Object.defineProperty(Uc,"__esModule",{value:!0});function _(l,A,b,v){switch(l){case 0:return A&b^~A&v;case 1:return A^b^v;case 2:return A&b^A&v^b&v;case 3:return A^b^v}}function L(l,A){return l<<A|l>>>32-A}function D(l){const A=[1518500249,1859775393,2400959708,3395469782],b=[1732584193,4023233417,2562383102,271733878,3285377520],v=new Uint8Array(l.length+1);v.set(l),v[l.length]=128,l=v;const S=l.length/4+2,O=Math.ceil(S/16),E=new Array(O);for(let R=0;R<O;++R){const o=new Uint32Array(16);for(let m=0;m<16;++m)o[m]=l[R*64+m*4]<<24|l[R*64+m*4+1]<<16|l[R*64+m*4+2]<<8|l[R*64+m*4+3];E[R]=o}E[O-1][14]=(l.length-1)*8/Math.pow(2,32),E[O-1][14]=Math.floor(E[O-1][14]),E[O-1][15]=(l.length-1)*8&4294967295;for(let R=0;R<O;++R){const o=new Uint32Array(80);for(let c=0;c<16;++c)o[c]=E[R][c];for(let c=16;c<80;++c)o[c]=L(o[c-3]^o[c-8]^o[c-14]^o[c-16],1);let m=b[0],j=b[1],k=b[2],C=b[3],s=b[4];for(let c=0;c<80;++c){const f=Math.floor(c/20),u=L(m,5)+_(f,j,k,C)+s+A[f]+o[c]>>>0;s=C,C=k,k=L(j,30)>>>0,j=m,m=u}b[0]=b[0]+m>>>0,b[1]=b[1]+j>>>0,b[2]=b[2]+k>>>0,b[3]=b[3]+C>>>0,b[4]=b[4]+s>>>0}return Uint8Array.of(b[0]>>24,b[0]>>16,b[0]>>8,b[0],b[1]>>24,b[1]>>16,b[1]>>8,b[1],b[2]>>24,b[2]>>16,b[2]>>8,b[2],b[3]>>24,b[3]>>16,b[3]>>8,b[3],b[4]>>24,b[4]>>16,b[4]>>8,b[4])}return Uc.default=D,Uc}var sm;function wy(){return sm||(sm=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.URL=_.DNS=void 0;const L=Sy(),D=Vc();var l=Vc();Object.defineProperty(_,"DNS",{enumerable:!0,get:function(){return l.DNS}}),Object.defineProperty(_,"URL",{enumerable:!0,get:function(){return l.URL}});function A(b,v,S,O){return(0,D.default)(80,L.default,b,v,S,O)}A.DNS=D.DNS,A.URL=D.URL,_.default=A}(hu)),hu}var qc={},cm;function Ry(){if(cm)return qc;cm=1,Object.defineProperty(qc,"__esModule",{value:!0});const _=li(),L=Am(),D=Lm();function l(A,b,v){A??={},v??=0;let S=(0,L.default)({...A,_v6:!0},new Uint8Array(16));if(S=(0,D.default)(S),b){for(let O=0;O<16;O++)b[v+O]=S[O];return b}return(0,_.unsafeStringify)(S)}return qc.default=l,qc}var Pc={},om;function Ty(){if(om)return Pc;om=1,Object.defineProperty(Pc,"__esModule",{value:!0});const _=Xc(),L=li();function D(A){const b=typeof A=="string"?(0,_.default)(A):A,v=l(b);return typeof A=="string"?(0,L.unsafeStringify)(v):v}Pc.default=D;function l(A){return Uint8Array.of((A[3]&15)<<4|A[4]>>4&15,(A[4]&15)<<4|(A[5]&240)>>4,(A[5]&15)<<4|A[6]&15,A[7],(A[1]&15)<<4|(A[2]&240)>>4,(A[2]&15)<<4|(A[3]&240)>>4,16|(A[0]&240)>>4,(A[0]&15)<<4|(A[1]&240)>>4,A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15])}return Pc}var jn={},lm;function Ey(){if(lm)return jn;lm=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.updateV7State=void 0;const _=vu(),L=li(),D={};function l(v,S,O){let E;if(v)E=b(v.random??v.rng?.()??(0,_.default)(),v.msecs,v.seq,S,O);else{const R=Date.now(),o=(0,_.default)();A(D,R,o),E=b(o,D.msecs,D.seq,S,O)}return S??(0,L.unsafeStringify)(E)}function A(v,S,O){return v.msecs??=-1/0,v.seq??=0,S>v.msecs?(v.seq=O[6]<<23|O[7]<<16|O[8]<<8|O[9],v.msecs=S):(v.seq=v.seq+1|0,v.seq===0&&v.msecs++),v}jn.updateV7State=A;function b(v,S,O,E,R=0){if(v.length<16)throw new Error("Random bytes length must be >= 16");if(!E)E=new Uint8Array(16),R=0;else if(R<0||R+16>E.length)throw new RangeError(`UUID byte range ${R}:${R+15} is out of buffer bounds`);return S??=Date.now(),O??=v[6]*127<<24|v[7]<<16|v[8]<<8|v[9],E[R++]=S/1099511627776&255,E[R++]=S/4294967296&255,E[R++]=S/16777216&255,E[R++]=S/65536&255,E[R++]=S/256&255,E[R++]=S&255,E[R++]=112|O>>>28&15,E[R++]=O>>>20&255,E[R++]=128|O>>>14&63,E[R++]=O>>>6&255,E[R++]=O<<2&255|v[10]&3,E[R++]=v[11],E[R++]=v[12],E[R++]=v[13],E[R++]=v[14],E[R++]=v[15],E}return jn.default=l,jn}var Hc={},um;function Cy(){if(um)return Hc;um=1,Object.defineProperty(Hc,"__esModule",{value:!0});const _=Qc();function L(D){if(!(0,_.default)(D))throw TypeError("Invalid UUID");return parseInt(D.slice(14,15),16)}return Hc.default=L,Hc}var dm;function Dy(){return dm||(dm=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.version=_.validate=_.v7=_.v6ToV1=_.v6=_.v5=_.v4=_.v3=_.v1ToV6=_.v1=_.stringify=_.parse=_.NIL=_.MAX=void 0;var L=hy();Object.defineProperty(_,"MAX",{enumerable:!0,get:function(){return L.default}});var D=my();Object.defineProperty(_,"NIL",{enumerable:!0,get:function(){return D.default}});var l=Xc();Object.defineProperty(_,"parse",{enumerable:!0,get:function(){return l.default}});var A=li();Object.defineProperty(_,"stringify",{enumerable:!0,get:function(){return A.default}});var b=Am();Object.defineProperty(_,"v1",{enumerable:!0,get:function(){return b.default}});var v=Lm();Object.defineProperty(_,"v1ToV6",{enumerable:!0,get:function(){return v.default}});var S=yy();Object.defineProperty(_,"v3",{enumerable:!0,get:function(){return S.default}});var O=by();Object.defineProperty(_,"v4",{enumerable:!0,get:function(){return O.default}});var E=wy();Object.defineProperty(_,"v5",{enumerable:!0,get:function(){return E.default}});var R=Ry();Object.defineProperty(_,"v6",{enumerable:!0,get:function(){return R.default}});var o=Ty();Object.defineProperty(_,"v6ToV1",{enumerable:!0,get:function(){return o.default}});var m=Ey();Object.defineProperty(_,"v7",{enumerable:!0,get:function(){return m.default}});var j=Qc();Object.defineProperty(_,"validate",{enumerable:!0,get:function(){return j.default}});var k=Cy();Object.defineProperty(_,"version",{enumerable:!0,get:function(){return k.default}})}(fu)),fu}var us={},fm;function xy(){if(fm)return us;fm=1,Object.defineProperty(us,"__esModule",{value:!0}),us.FakeEventTarget=void 0;let _=class{listeners={};addEventListener(D,l,A={}){l&&(this.listeners[D]??=[],this.listeners[D].push({callback:l,once:A.once===!0}))}removeEventListener(D,l){this.listeners[D]&&(this.listeners[D]=this.listeners[D].filter(A=>A.callback!==l))}dispatchEvent(D){if(!D||typeof D.type!="string")throw new Error("invalid event object");const l=this.listeners[D.type];if(!l)return!0;for(const A of[...l]){try{A.callback.call(this,D)}catch(b){setTimeout(()=>{throw b},0)}A.once&&this.removeEventListener(D.type,A.callback)}return!D.defaultPrevented}};return us.FakeEventTarget=_,us}var Bc={},pm;function My(){if(pm)return Bc;pm=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.clone=_;function _(L){if(L!==void 0)return Number.isNaN(L)?NaN:typeof structuredClone=="function"?structuredClone(L):JSON.parse(JSON.stringify(L))}return Bc}var hm;function Oy(){if(hm)return ls;hm=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.FakeMediaStreamTrack=void 0;const _=Dy(),L=xy(),D=My();class l extends L.FakeEventTarget{#m;#d;#f;#e;#a;#t;#i;#p;#n;#h;#r;#s=null;#c=null;#o=null;#l=null;#u=null;constructor({kind:b,id:v,label:S,contentHint:O,enabled:E,muted:R,readyState:o,capabilities:m,constraints:j,settings:k,data:C}){super(),this.#m=v??(0,_.v4)(),this.#d=b,this.#f=S??"",this.#i=O??"",this.#a=E??!0,this.#t=R??!1,this.#e=o??"live",this.#p=m??{},this.#n=j??{},this.#h=k??{},this.#r=C??{}}get id(){return this.#m}get kind(){return this.#d}get label(){return this.#f}get contentHint(){return this.#i}set contentHint(b){this.#i=b}get enabled(){return this.#a}set enabled(b){const v=this.#a!==b;this.#a=b,v&&this.dispatchEvent(new Event("enabledchange"))}get muted(){return this.#t}get readyState(){return this.#e}get data(){return this.#r}set data(b){this.#r=b}get onmute(){return this.#s}set onmute(b){this.#s&&this.removeEventListener("mute",this.#s),this.#s=b,b&&this.addEventListener("mute",b)}get onunmute(){return this.#c}set onunmute(b){this.#c&&this.removeEventListener("unmute",this.#c),this.#c=b,b&&this.addEventListener("unmute",b)}get onended(){return this.#o}set onended(b){this.#o&&this.removeEventListener("ended",this.#o),this.#o=b,b&&this.addEventListener("ended",b)}get onenabledchange(){return this.#l}set onenabledchange(b){this.#l&&this.removeEventListener("enabledchange",this.#l),this.#l=b,b&&this.addEventListener("enabledchange",b)}get onstopped(){return this.#u}set onstopped(b){this.#u&&this.removeEventListener("stopped",this.#u),this.#u=b,b&&this.addEventListener("stopped",b)}addEventListener(b,v,S){super.addEventListener(b,v,S)}removeEventListener(b,v){super.removeEventListener(b,v)}stop(){this.#e!=="ended"&&(this.#e="ended",this.dispatchEvent(new Event("stopped")))}clone({id:b,data:v}={}){return new l({id:b??(0,_.v4)(),kind:this.#d,label:this.#f,contentHint:this.#i,enabled:this.#a,muted:this.#t,readyState:this.#e,capabilities:(0,D.clone)(this.#p),constraints:(0,D.clone)(this.#n),settings:(0,D.clone)(this.#h),data:v??(0,D.clone)(this.#r)})}getCapabilities(){return this.#p}getConstraints(){return this.#n}async applyConstraints(b={}){return this.#n=b,Promise.resolve()}getSettings(){return this.#h}remoteStop(){this.#e!=="ended"&&(this.#e="ended",this.dispatchEvent(new Event("stopped")),this.dispatchEvent(new Event("ended")))}remoteMute(){this.#t||(this.#t=!0,this.dispatchEvent(new Event("mute")))}remoteUnmute(){this.#t&&(this.#t=!1,this.dispatchEvent(new Event("unmute")))}}return ls.FakeMediaStreamTrack=l,ls}var mm;function Ay(){if(mm)return os;mm=1,Object.defineProperty(os,"__esModule",{value:!0}),os.FakeHandler=void 0;const _=Oy(),L=Tt(),D=Wt(),l=Oa(),A=Qt(),b=Qi(),v=new L.Logger("FakeHandler"),S="FakeHandler";let O=class km extends b.HandlerInterface{_closed=!1;_fakeParameters;_rtpParametersByKind;_cname=`CNAME-${D.generateRandomNumber()}`;_transportReady=!1;_nextLocalId=1;_tracks=new Map;_nextSctpStreamId=0;static createFactory(o){return{name:S,factory:m=>new km(m,o),getNativeRtpCapabilities:async()=>(v.debug("getNativeRtpCapabilities()"),o.generateNativeRtpCapabilities()),getNativeSctpCapabilities:async()=>(v.debug("getNativeSctpCapabilities()"),o.generateNativeSctpCapabilities())}}constructor({extendedRtpCapabilities:o},m){super(),v.debug("constructor()"),this._rtpParametersByKind={audio:l.getSendingRtpParameters("audio",o),video:l.getSendingRtpParameters("video",o)},this._fakeParameters=m}get name(){return S}close(){v.debug("close()"),!this._closed&&(this._closed=!0)}setIceGatheringState(o){this.emit("@icegatheringstatechange",o)}setConnectionState(o){this.emit("@connectionstatechange",o)}async updateIceServers(o){this.assertNotClosed(),v.debug("updateIceServers()")}async restartIce(o){this.assertNotClosed(),v.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send({track:o,encodings:m,codecOptions:j,codec:k}){this.assertNotClosed(),v.debug("send() [kind:%s, track.id:%s]",o.kind,o.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const C=D.clone(this._rtpParametersByKind[o.kind]),s=C.codecs.some(f=>/.+\/rtx$/i.test(f.mimeType));C.mid=`mid-${D.generateRandomNumber()}`,m||(m=[{}]);for(const f of m)f.ssrc=D.generateRandomNumber(),s&&(f.rtx={ssrc:D.generateRandomNumber()});C.encodings=m,C.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=this._nextLocalId++;return this._tracks.set(c,o),{localId:String(c),rtpParameters:C}}async stopSending(o){if(v.debug("stopSending() [localId:%s]",o),!this._closed){if(!this._tracks.has(Number(o)))throw new Error("local track not found");this._tracks.delete(Number(o))}}async pauseSending(o){this.assertNotClosed()}async resumeSending(o){this.assertNotClosed()}async replaceTrack(o,m){this.assertNotClosed(),m?v.debug("replaceTrack() [localId:%s, track.id:%s]",o,m.id):v.debug("replaceTrack() [localId:%s, no track]",o),this._tracks.delete(Number(o)),this._tracks.set(Number(o),m)}async setMaxSpatialLayer(o,m){this.assertNotClosed(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",o,m)}async setRtpEncodingParameters(o,m){this.assertNotClosed(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",o,m)}async getSenderStats(o){return this.assertNotClosed(),new Map}async sendDataChannel({ordered:o,maxPacketLifeTime:m,maxRetransmits:j,label:k,protocol:C}){this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),v.debug("sendDataChannel()");const s=new E({id:this._nextSctpStreamId++,ordered:o,maxPacketLifeTime:m,maxRetransmits:j,label:k,protocol:C}),c={streamId:this._nextSctpStreamId,ordered:o,maxPacketLifeTime:m,maxRetransmits:j};return{dataChannel:s,sctpStreamParameters:c}}async receive(o){this.assertNotClosed();const m=[];for(const j of o){const{trackId:k,kind:C}=j;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),v.debug("receive() [trackId:%s, kind:%s]",k,C);const s=this._nextLocalId++,c=new _.FakeMediaStreamTrack({kind:C});this._tracks.set(s,c),m.push({localId:String(s),track:c})}return m}async stopReceiving(o){if(!this._closed)for(const m of o)v.debug("stopReceiving() [localId:%s]",m),this._tracks.delete(Number(m))}async pauseReceiving(o){this.assertNotClosed()}async resumeReceiving(o){this.assertNotClosed()}async getReceiverStats(o){return this.assertNotClosed(),new Map}async receiveDataChannel({sctpStreamParameters:o,label:m,protocol:j}){return this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),v.debug("receiveDataChannel()"),{dataChannel:new E({id:o.streamId,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits,label:m,protocol:j})}}async setupTransport({localDtlsRole:o,localSdpObject:m}){const j=D.clone(this._fakeParameters.generateLocalDtlsParameters());o&&(j.role=o),this.emit("@connectionstatechange","connecting"),await new Promise((k,C)=>this.emit("@connect",{dtlsParameters:j},k,C)),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}};os.FakeHandler=O;class E extends EventTarget{_id;_negotiated=!0;_ordered;_maxPacketLifeTime;_maxRetransmits;_label;_protocol;_readyState="connecting";_bufferedAmount=0;_bufferedAmountLowThreshold=0;_binaryType="arraybuffer";_onopen=null;_onclosing=null;_onclose=null;_onmessage=null;_onbufferedamountlow=null;_onerror=null;constructor({id:o,ordered:m=!0,maxPacketLifeTime:j=null,maxRetransmits:k=null,label:C="",protocol:s=""}){super(),v.debug(`constructor() [id:${o}, ordered:${m}, maxPacketLifeTime:${j}, maxRetransmits:${k}, label:${C}, protocol:${s}`),this._id=o,this._ordered=m,this._maxPacketLifeTime=j,this._maxRetransmits=k,this._label=C,this._protocol=s}get id(){return this._id}get negotiated(){return this._negotiated}get ordered(){return this._ordered}get maxPacketLifeTime(){return this._maxPacketLifeTime}get maxRetransmits(){return this._maxRetransmits}get label(){return this._label}get protocol(){return this._protocol}get readyState(){return this._readyState}get bufferedAmount(){return this._bufferedAmount}get bufferedAmountLowThreshold(){return this._bufferedAmountLowThreshold}set bufferedAmountLowThreshold(o){this._bufferedAmountLowThreshold=o}get binaryType(){return this._binaryType}set binaryType(o){this._binaryType=o}get onopen(){return this._onopen}set onopen(o){this._onopen&&this.removeEventListener("open",this._onopen),this._onopen=o,o&&this.addEventListener("open",o)}get onclosing(){return this._onclosing}set onclosing(o){this._onclosing&&this.removeEventListener("closing",this._onclosing),this._onclosing=o,o&&this.addEventListener("closing",o)}get onclose(){return this._onclose}set onclose(o){this._onclose&&this.removeEventListener("close",this._onclose),this._onclose=o,o&&this.addEventListener("close",o)}get onmessage(){return this._onmessage}set onmessage(o){this._onmessage&&this.removeEventListener("message",this._onmessage),this._onmessage=o,o&&this.addEventListener("message",o)}get onbufferedamountlow(){return this._onbufferedamountlow}set onbufferedamountlow(o){this._onbufferedamountlow&&this.removeEventListener("bufferedamountlow",this._onbufferedamountlow),this._onbufferedamountlow=o,o&&this.addEventListener("bufferedamountlow",o)}get onerror(){return this._onerror}set onerror(o){this._onerror&&this.removeEventListener("error",this._onerror),this._onerror=o,o&&this.addEventListener("error",o)}addEventListener(o,m,j){super.addEventListener(o,m,j)}removeEventListener(o,m,j){super.removeEventListener(o,m,j)}close(){["closing","closed"].includes(this._readyState)||(this._readyState="closed")}send(o){if(this._readyState!=="open")throw new A.InvalidStateError("not open")}}return os}var Gt={},gm;function Ly(){if(gm)return Gt;gm=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.generateRouterRtpCapabilities=D,Gt.generateNativeRtpCapabilities=l,Gt.generateNativeSctpCapabilities=A,Gt.generateLocalDtlsParameters=b,Gt.generateTransportRemoteParameters=v,Gt.generateProducerRemoteParameters=S,Gt.generateConsumerRemoteParameters=O,Gt.generateDataProducerRemoteParameters=E,Gt.generateDataConsumerRemoteParameters=R;const _=Wt();function L(){return String(_.generateRandomNumber())}function D(){return _.deepFreeze({codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}},{mimeType:"video/H264",kind:"video",preferredPayloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:105,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"profile-id":0,"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:106,clockRate:9e4,rtcpFeedback:[],parameters:{apt:105}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",preferredId:2,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",preferredId:3,preferredEncrypt:!1,direction:"recvonly"},{kind:"audio",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:11,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:12,preferredEncrypt:!1,direction:"sendrecv"}]})}function l(){return _.deepFreeze({codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:111,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{minptime:10,useinbandfec:1}},{mimeType:"audio/ISAC",kind:"audio",preferredPayloadType:103,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/CN",kind:"audio",preferredPayloadType:106,clockRate:32e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:96,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:97,clockRate:9e4,rtcpFeedback:[],parameters:{apt:96}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:98,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{"profile-id":0}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:99,clockRate:9e4,rtcpFeedback:[],parameters:{apt:98}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:2},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:3},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:4},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",preferredId:6},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type",preferredId:7},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing",preferredId:8},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10}]})}function A(){return _.deepFreeze({numStreams:{OS:2048,MIS:2048}})}function b(){return _.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"82:5A:68:3D:36:C3:0A:DE:AF:E7:32:43:D2:88:83:57:AC:2D:65:E5:80:C4:B6:FB:AF:1A:A0:21:9F:6D:0C:AD"}],role:"auto"})}function v(){return{id:L(),iceParameters:_.deepFreeze({iceLite:!0,password:"yku5ej8nvfaor28lvtrabcx0wkrpkztz",usernameFragment:"h3hk1iz6qqlnqlne"}),iceCandidates:_.deepFreeze([{foundation:"udpcandidate",address:"9.9.9.9",ip:"9.9.9.9",port:40533,priority:1078862079,protocol:"udp",type:"host",tcpType:"passive"},{foundation:"udpcandidate",address:"9.9.9.9",ip:"9:9:9:9:9:9",port:41333,priority:1078862089,protocol:"udp",type:"host",tcpType:"passive"}]),dtlsParameters:_.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"A9:F4:E0:D2:74:D3:0F:D9:CA:A5:2F:9F:7F:47:FA:F0:C4:72:DD:73:49:D0:3B:14:90:20:51:30:1B:90:8E:71"},{algorithm:"sha-384",value:"03:D9:0B:87:13:98:F6:6D:BC:FC:92:2E:39:D4:E1:97:32:61:30:56:84:70:81:6E:D1:82:97:EA:D9:C1:21:0F:6B:C5:E7:7F:E1:97:0C:17:97:6E:CF:B3:EF:2E:74:B0"},{algorithm:"sha-512",value:"84:27:A4:28:A4:73:AF:43:02:2A:44:68:FF:2F:29:5C:3B:11:9A:60:F4:A8:F0:F5:AC:A0:E3:49:3E:B1:34:53:A9:85:CE:51:9B:ED:87:5E:B8:F4:8E:3D:FA:20:51:B8:96:EE:DA:56:DC:2F:5C:62:79:15:23:E0:21:82:2B:2C"}],role:"auto"}),sctpParameters:_.deepFreeze({port:5e3,OS:2048,MIS:2048,maxMessageSize:2e6})}}function S(){return _.deepFreeze({id:L()})}function O({id:o,codecMimeType:m}={}){switch(m){case"audio/opus":return{id:o??L(),producerId:L(),kind:"audio",rtpParameters:_.deepFreeze({codecs:[{mimeType:"audio/opus",payloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}}],encodings:[{ssrc:46687003}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",id:10}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"audio/ISAC":return{id:o??L(),producerId:L(),kind:"audio",rtpParameters:_.deepFreeze({codecs:[{mimeType:"audio/ISAC",payloadType:111,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}}],encodings:[{ssrc:46687004}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/VP8":return{id:o??L(),producerId:L(),kind:"video",rtpParameters:_.deepFreeze({codecs:[{mimeType:"video/VP8",payloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",payloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}}],encodings:[{ssrc:99991111,rtx:{ssrc:99991112}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/H264":return{id:o??L(),producerId:L(),kind:"video",rtpParameters:_.deepFreeze({codecs:[{mimeType:"video/H264",payloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",payloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}}],encodings:[{ssrc:99991113,rtx:{ssrc:99991114}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};default:throw new TypeError(`unknown codecMimeType '${m}'`)}}function E(){return _.deepFreeze({id:L()})}function R({id:o}={}){return{id:o??L(),dataProducerId:L(),sctpStreamParameters:_.deepFreeze({streamId:666,maxPacketLifeTime:5e3,maxRetransmits:void 0})}}return Gt}var vm;function ky(){return vm||(vm=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.debug=_.testFakeParameters=_.FakeHandler=_.ortc=_.parseScalabilityMode=_.detectDeviceAsync=_.detectDevice=_.Device=_.version=_.types=void 0;const L=Yc();_.debug=L.default,_.types=py(),_.version="3.14.0";var D=Om();Object.defineProperty(_,"Device",{enumerable:!0,get:function(){return D.Device}}),Object.defineProperty(_,"detectDevice",{enumerable:!0,get:function(){return D.detectDevice}}),Object.defineProperty(_,"detectDeviceAsync",{enumerable:!0,get:function(){return D.detectDeviceAsync}});var l=Un();Object.defineProperty(_,"parseScalabilityMode",{enumerable:!0,get:function(){return l.parse}}),_.ortc=Oa();var A=Ay();Object.defineProperty(_,"FakeHandler",{enumerable:!0,get:function(){return A.FakeHandler}}),_.testFakeParameters=Ly()}(iu)),iu}var Ny=ky();function zy({roomId:_}){const L=window.location.hostname,D=Rt.useRef(null),l=Rt.useRef(`peer${Math.floor(Math.random()*1e4)}`),[A,b]=Rt.useState([]),v=Rt.useRef(null),S=Rt.useRef(null),O=Rt.useRef(new Map),E=Rt.useRef(new Map),[R,o]=Rt.useState({}),m=Rt.useRef({});Rt.useEffect(()=>{document.querySelectorAll("video").forEach(u=>{u.muted=!1,u.play().catch(console.error)})},[A]),Rt.useEffect(()=>{const u=new WebSocket(`ws://${L}:8000?roomId=${_}&peerId=${l.current}`);return D.current=u,u.onopen=()=>{console.log("WebSocket connected"),setTimeout(k,500)},u.onmessage=async d=>{const p=JSON.parse(d.data);if(p.id&&m.current[p.id])m.current[p.id](p),delete m.current[p.id];else if(p.method){const y=p;if(y.method==="newProducer"){const{producerId:g,peerId:x}=y.data;await C(g,x)}else if(y.method==="peerDisplayNameChanged"){const{peerId:g,displayName:x}=y.data;o(q=>({...q,[g]:x}));const w=E.current.get(g)?.consumers??[];E.current.set(g,{consumers:w})}else if(y.method==="producerClosed"){const{producerId:g,peerId:x}=y.data,w=Array.from(O.current.values()).find(q=>q.producerId===g);if(!w)return;w.close(),O.current.delete(w.id),E.current.get(x).consumers=E.current.get(x).consumers.filter(q=>q.id!==w.id),b(q=>q.map(H=>(H.peerId!==x||H.stream.getVideoTracks().forEach(F=>H.stream.removeTrack(F)),H)))}else if(y.method==="peerLeft"){const g=y.data.peerId,x=E.current.get(g);if(x){for(const w of x.consumers)w.close(),O.current.delete(w.id);b(w=>w.filter(q=>q.peerId!==g)),E.current.delete(g)}}}},()=>{u.close()}},[]);const j=(u,d)=>new Promise(p=>{const y=Math.random().toString(36).substr(2,9);m.current[y]=p;const g={id:y,request:!0,method:u,data:d};D.current?.send(JSON.stringify(g))}),k=async()=>{const d=(await j("getRouterRtpCapabilities",{})).data;v.current=new Ny.Device,await v.current.load({routerRtpCapabilities:d});const p=await j("join",{displayName:l,device:v.current.handlerName,rtpCapabilities:v.current.rtpCapabilities}),y=(await j("createWebRtcTransport",{})).data;S.current=v.current.createRecvTransport({...y,iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),S.current.on("connect",({dtlsParameters:x},w,q)=>{j("connectWebRtcTransport",{transportId:y.id,dtlsParameters:x}).then(w).catch(q)});const g=p.data.peers||[];for(const x of g){o(w=>({...w,[x.id]:x.displayName}));for(const w of x.producers)await C(w.id,x.id)}},C=async(u,d)=>{if(!v.current||!S.current)return;const{data:p}=await j("consume",{producerId:u,rtpCapabilities:v.current.rtpCapabilities,transportId:S.current.id}),y=await S.current.consume({id:p.id,producerId:p.producerId,kind:p.kind,rtpParameters:p.rtpParameters});if(O.current.set(y.id,y),d){E.current.has(d)||E.current.set(d,{consumers:[]});const g=E.current.get(d);g&&E.current.set(d,{...g,consumers:[...g.consumers,y]})}b(g=>{const x=g.find(w=>w.peerId===d);if(x)return x.stream.getTracks().some(w=>w.id===y.track.id)||x.stream.addTrack(y.track),[...g];{const w=new MediaStream([y.track]);return[...g,{id:d,peerId:d,stream:w}]}})},s=A.length,f=(u=>u<=1?1:u<=4?2:u<=9?3:u<=16?4:5)(s);return Je.jsxs("div",{className:"w-full h-screen bg-gray-900 relative flex flex-col",children:[Je.jsxs("div",{className:"flex-1 p-4 overflow-hidden relative",children:[A.length===0&&Je.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 text-2xl font-medium bg-gray-800 rounded-lg",children:"Stream not started yet"}),Je.jsx("div",{className:"h-full w-full grid gap-2",style:{gridTemplateColumns:`repeat(${f}, 1fr)`,gridAutoRows:"minmax(0, 1fr)",visibility:A.length===0?"hidden":"visible"},children:A.map(({id:u,stream:d,peerId:p})=>Je.jsx(jy,{peerId:p,displayName:R[p]??p,stream:d},u))})]}),Je.jsxs("div",{className:"bg-gray-800 p-4 flex items-center justify-between",children:[Je.jsx("div",{className:"flex items-center gap-4",children:Je.jsxs("div",{className:"text-white text-sm",children:[Je.jsx("span",{className:"text-gray-400",children:"Room:"})," ",_]})}),Je.jsxs("div",{className:"text-gray-400 text-sm",children:[s," participant",s!==1?"s":""]})]})]})}function jy({peerId:_,displayName:L,stream:D}){const l=Rt.useRef(null),A=D.getVideoTracks().length>0;return Rt.useEffect(()=>{console.log(D.getTracks());const b=l.current;!b||!D||(b.srcObject!==D&&(b.srcObject=D),b.muted=!1,b.play().catch(v=>console.error("Video play error:",v)))},[D]),Je.jsxs("div",{className:"relative w-full h-full bg-gray-800 rounded-lg overflow-hidden isolate",children:[Je.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,className:"relative w-full h-full object-cover",style:{display:A?"block":"none"}}),!A&&Je.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700",children:Je.jsxs("div",{className:"text-center",children:[Je.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-500 flex items-center justify-center mx-auto mb-2 text-3xl text-white font-bold",children:L?.[0]?.toUpperCase()||"?"}),Je.jsx("p",{className:"text-gray-400 text-sm",children:"Camera off"})]})}),Je.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs font-medium",children:L??_})]})}Xv.createRoot(document.getElementById("root")).render(Je.jsx(Rt.StrictMode,{children:Je.jsx(zy,{roomId:"test-room"})}));
